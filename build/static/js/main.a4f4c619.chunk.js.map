{"version":3,"sources":["firebase.js","Components/Auth.js","Components/StyledPaper.js","templates/SignIn.js","templates/SignUp.js","Components/Header.js","Components/Footer.js","Components/Textual.js","Components/Visual.js","Components/Quantitative.js","Components/Dream.js","Components/knee.jpg","Components/Plan.js","Components/Rate.js","Components/Act.js","Components/Health.js","Components/Money.js","Components/Career.js","Components/LifeAccordionTab.js","Components/Profile.js","Components/HeaderSideMenu.js","Components/ManageVision.js","Components/YoutubeEmbed.js","Components/VisionBoard.js","Components/VisionPDF.js","Components/Vision.js","Components/Setting.js","Components/Welcome.js","Components/Initialize.js","Components/HelpVisionBoard.js","Components/PrivateRoute.js","Components/Content.js","Components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","pending","setPending","console","log","useEffect","auth","onAuthStateChanged","user","Box","p","width","justifyContent","CircularProgress","Provider","value","require","AppBar","Typography","Paper","makeStyles","Toolbar","useStyles","theme","root","appBar","position","yearField","left","spacing","top","yearLabel","addButton","bottom","right","chip","margin","paper","justify","sliderLimit","sliderLabel","save","plainHeader","background","centeredHeader","alignItems","titleBar","goButton","blue","color","searchIcon","StyledPaper","props","classes","message","actionIcon","className","display","flexDirection","justifyItems","Copyright","variant","align","Date","getFullYear","marginTop","avatar","backgroundColor","palette","secondary","main","form","submit","withRouter","history","handleLogin","useCallback","event","a","preventDefault","target","elements","email","password","signInWithEmailAndPassword","push","alert","useContext","to","Container","component","maxWidth","CssBaseline","m","fullWidth","onClick","provider","GoogleAuthProvider","signInWithRedirect","getRedirectResult","then","result","credential","token","accessToken","catch","error","code","Avatar","onSubmit","noValidate","TextField","required","id","label","name","autoComplete","autoFocus","type","Button","Grid","container","item","xs","Link","href","mt","handleSignUp","createUserWithEmailAndPassword","res","uid","user_ref","firestore","collection","doc","set","err","sendEmailVerification","signOut","flexGrow","menuButton","marginRight","title","anchorEl","setAnchorEl","handleClose","currentTarget","IconButton","edge","aria-label","Menu","keepMounted","open","Boolean","onClose","MenuItem","window","location","stickToBottom","Textual","year","topic","desc","setDesc","saved","setSaved","fetchDescDB","get","data","updateDescDB","merge","InputProps","style","fontSize","multiline","rows","onChange","e","disabled","Visual","userID","imageURL","setImageURL","fetchImageDB","imageRef","ref","child","getDownloadURL","url","Alert","severity","src","alt","accept","file","files","put","on","Quantitative","metricDefintions","setMetricDefinitions","metrics","setMetrics","openMetricDialog","setOpenMetricDialog","selectedMetricNameDialog","setSelectedMetricNameDialog","selectedMetricValueDialog","setSelectedMetricValueDialog","unit","setUnit","metrics_expected_ref","metrics_definition_ref","fetchExpectedMetricsDB","fetchMetricsDefinitionDB","where","items","docs","forEach","addMetric2VisionDB","metricName","metricValue","add","metricValueChangeView","cancelAddMetricDialogView","getUnit","definitions","index","length","element","closeMetricDialogView","List","undefined","map","metric","ListItem","ListItemAvatar","Photo","ListItemText","primary","ListItemSecondaryAction","confirm","delete","Delete","Add","Dialog","disableBackdropClick","disableEscapeKeyDown","DialogTitle","toUpperCase","DialogContent","Select","native","FormControl","defaultValue","aria-describedby","FormHelperText","DialogActions","header","headerDetails","content","SelectTopic","wizard","selectedTopic","setSelectedTopic","topics","setTopics","fetchTopicsDB","topics_ref","galleryClickView","StyledStep","messageToUser","GridList","cellHeight","cols","GridListTile","placeholder","border","GridListTileBar","titlePosition","actionPosition","NameIt","Visualize","setFile","URL","createObjectURL","height","DateIt","date","setDate","defaultView","maxDetail","showWeekNumbers","currentStep","totalSteps","previousStep","finish","nextStep","storeImageDB","toString","docRef","exists","storeDreamInDB","flexWrap","overflow","gridList","icon","media","paddingTop","TabPanel","other","role","hidden","aria-labelledby","a11yProps","heading","typography","pxToRem","fontWeight","fontWeightRegular","deleteAccordion","editAccordion","disabledText","opacity","setValue","handleChange","newValue","visions","setVisions","loading","setLoading","db","fetchVisions","vision","Accordion","AccordionSummary","expandIcon","FormControlLabel","stopPropagation","onFocus","control","editVision","removeFromDB","AccordionDetails","Tabs","Tab","borderRadius","health","money","social","Fab","useHistory","action","pathname","replace","Identity","Metrics","profileName","setProfileName","birthYear","setBirthYear","fetchProfileDB","updateProfileDB","update","usernameClickChange","birthClickChange","metric_ref","field","headerName","metricProperties","metricDefinitions","disableEditBut","setDisableEditBut","setMetricName","unitName","setUnitName","selectedGridMetric","setSelectedGridMetric","fetchMetricNamesDB","columns","pageSize","checkboxSelection","onRowClick","rowIndex","InputLabel","htmlFor","drawerWidth","currentTab","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","mixins","toolbar","contentShift","setOpen","useTheme","handleDrawerClose","clsx","Drawer","anchor","direction","Divider","ListItemIcon","state","button","Today","ExitToApp","user_doc","querySnapshot","cancelButton","YoutubeEmbed","updating","setUpdating","visionHealth","setVisionHealth","visionMoney","setVisionMoney","visionSocial","setVisionSocial","visionYear","setVisionYear","healthURL","setHealthURL","moneyURL","setMoneyURL","socialURL","setSocialURL","healthFile","setHealthFile","moneyFile","setMoneyFile","socialFile","setSocialFile","loadVision","loadURL","filename","addImage","close","embedId","frameBorder","allow","allowFullScreen","visions_ref","expectedMetrics_ref","tabValue","setTabValue","images","setImages","selectedVision","setSelectedVision","selectedYear","setSelectedYear","newYear","setNewYear","sliderYears","setSliderYears","setSelectedMetrics","loadingPix","setLoadingPix","openYearDialog","setOpenYearDialog","showC2","fetchYearsDB","fetchImagesDB","fetchSelectedVisionDB","yrs","getPhotosDB","photo","key","promises","itemRef","getImageURLDB","Promise","all","urls","x","getMetadata","metadata","deleteVisionDB","listAll","deleteImagesDB","listRef","storeNewYearDB","afterYearChangeView","closeYearDialogView","tabChangeView","C2","photos","image","indicatorColor","textColor","Slider","slider","valueLabelDisplay","step","marks","min","max","v","val","Chip","yearClickView","yearDialogTextView","existSuchYear","styles","StyleSheet","page","sectionOdd","sectionEven","textDecoration","section","topicContainer","overviewContainer","marginBottom","fontweight","overview","subtitle","vote","rating","vote_text","vote_pop","vote_pop_text","detailsFooter","lang","vote_average","body","table","borderStyle","borderColor","borderWidth","borderRightWidth","borderBottomWidth","tableRow","tableColHeader","borderBottomColor","borderLeftWidth","borderTopWidth","tableCol","tableCellHeader","tableCell","VisionPDF","PicMosaic","source","VisionAsPDF","document","fileName","blob","PictureAsPdf","minYear","titleBarSelected","browseIcon","maxYear","useLocation","fetchAllDB","finance","initiateImages","topics_quick","tpcs","browseImage","updateImageURLDB","getIndex","temp","array","TopicsGallery","class","for","PhotoAlbum","Details","VisionBoard","createVisionObject","Topics","Reset","removeAllVisions","dense","Checkbox","Profile","orange","showHelp","setShowHelp","period","setPeriod","RadioGroup","Radio","Number","parseInt","PrivateRoute","RouteComponent","rest","render","routeProps","Content","contents","setContents","fetchContents","Title","YoutubeID","setName","setRole","setMaxYear","fetchUserInfo","HeaderSideMenu","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a4f4c619.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport 'firebase/auth'\nimport 'firebase/storage'\n\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBnHIZLpMJXQxtHh0433SCNVLXASaYZjwo\",\n    authDomain: \"vitacoach.firebaseapp.com\",\n    projectId: \"vitacoach\",\n    storageBucket: \"vitacoach.appspot.com\",\n    messagingSenderId: \"349656251768\",\n    appId: \"1:349656251768:web:a8b237c8295870d3cd5c8d\",\n    measurementId: \"G-XEBDPBZK7Q\"\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\n  const storage = firebase.storage()\n\n  export  {\n    storage, firebase as default\n  }","import React, { useEffect, useState } from \"react\";\nimport firebase from '../firebase';\nimport {Redirect} from 'react-router-dom';\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [pending, setPending] = useState(true);\n\n  console.log(\"AuthProvider component started...\");\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n        console.log(\"user is = \"+user);\n        if(!!user){\n            setCurrentUser(user);\n            console.log(\"user is in\");\n        }else{\n            console.log(\"no user\");\n        }\n        setPending(false);\n\n      }\n    );\n  }, []);\n\n  if(pending){\n    //return <>Waiting to authenticate...</>\n    \n    return <Box p={10} width=\"100%\" justifyContent=\"center\"><CircularProgress /></Box>\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};","import { blue } from \"@material-ui/core/colors\";\n\nconst { AppBar, Typography, Paper, Box, makeStyles, Toolbar } = require(\"@material-ui/core\");\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n      },\n    plainHeader:{\n        left: theme.spacing(3),\n        background : '#ff8a65'\n    },\n    centeredHeader:{\n      alignItems: 'center',\n      background : '#ff7043'\n  },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    goButton: {\n      background : blue[800],\n      color : \"white\"\n    },\n    searchIcon: {\n      position:'absolute',\n      right: theme.spacing(2),\n      color:\"white\",\n    },\n  \n  }));\n  \nexport default function StyledPaper(props) {\n    \n    const classes = useStyles();\n\n    const { children, message, actionIcon} = props;\n    return (\n\n        <Paper className={classes.paper}>\n            {actionIcon\n              ?\n                <AppBar p={1} position=\"static\"  className={actionIcon ? classes.plainHeader : classes.centeredHeader}>   \n                    <Toolbar>\n                        <Typography p={1}>\n                            {message}\n                        </Typography>                \n                        <div className={classes.searchIcon}>\n                              {actionIcon}\n                        </div>  \n                    </Toolbar>            \n                </AppBar>\n              :\n                <AppBar p={1} position=\"static\"  className={classes.centeredHeader}>   \n                      <Typography p={1}>\n                          {message}\n                      </Typography>              \n                </AppBar>\n            }          \n            <Box p={2} display=\"flex\" flexDirection=\"column\" justifyItems=\"center\" justifyContent=\"center\">\n                {children}\n            </Box>\n        </Paper>\n  )\n}\n","import React, { useCallback, useContext } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { AuthContext } from \"../Components/Auth.js\";\nimport {Redirect,withRouter} from 'react-router';\nimport firebase from '../firebase';\nimport StyledPaper from '../Components/StyledPaper.js';\nimport GoogleButton from 'react-google-button'\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © Personal Map of Life '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignIn({history}) {\n  const classes = useStyles();\n\n  const handleLogin = useCallback(\n    async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n        await firebase\n          .auth()\n          .signInWithEmailAndPassword(email.value, password.value);\n        history.push(\"/\");\n      } catch (error) {\n        alert(error);\n      }\n    },\n    [history]\n  );\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    return <Redirect to=\"/\" />;\n  }\n\n  function googleLoginRedirect() {\n    // [START auth_google_signin_redirect_result]\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth().signInWithRedirect(provider);\n\n    firebase.auth()\n      .getRedirectResult()\n      .then((result) => {\n        if (result.credential) {\n          /** @type {firebase.auth.OAuthCredential} */\n          var credential = result.credential;\n  \n          // This gives you a Google Access Token. You can use it to access the Google API.\n          var token = credential.accessToken;\n          console.log(token);\n        }\n        // The signed-in user info.\n        var user = result.user;\n      }).catch((error) => {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        console.log(error);\n      });\n    // [END auth_google_signin_redirect_result]\n  }\n  \n  function googleLoginPopUp()\n  {\n\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      /** @type {firebase.auth.OAuthCredential} */\n      var credential = result.credential;\n\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      var token = credential.accessToken;\n      console.log(token);\n      // The signed-in user info.\n      var user = result.user;\n      console.log(user);\n      // ...\n    }).catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n      // ...\n      console.log(error);\n    });\n  }\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n\n          <Box m={2}>          \n              <GoogleButton fullWidth onClick={googleLoginRedirect}>\n                  Sign In with Google Account\n              </GoogleButton>\n          </Box>\n          <Avatar className={classes.avatar}>\n            <LockOutlinedIcon />\n          </Avatar>\n          <Typography component=\"h1\" variant=\"h5\">\n            Sign in\n          </Typography>\n          <form className={classes.form} onSubmit={handleLogin} noValidate>\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            id=\"email\"\n            label=\"Email Address\"\n            name=\"email\"\n            autoComplete=\"email\"\n            autoFocus\n          />\n          <TextField\n            variant=\"outlined\"\n            margin=\"normal\"\n            required\n            fullWidth\n            name=\"password\"\n            label=\"Password\"\n            type=\"password\"\n            id=\"password\"\n            autoComplete=\"current-password\"\n          />\n{/*           <FormControlLabel\n            control={<Checkbox value=\"remember\" color=\"primary\" />}\n            label=\"Remember me\"\n          /> */}\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"green\"\n            className={classes.submit}\n          >\n            Sign In\n          </Button>\n        </form>\n\n          <Grid container>\n            <Grid item xs>\n              <Link href=\"#\" variant=\"body2\">\n                Forgot password?\n              </Link>\n            </Grid>\n            <Grid item>\n              <Link href={'./signup'} variant=\"body2\">\n                {\"Don't have an account? Sign Up\"}\n              </Link>\n            </Grid>\n          </Grid>\n\n      </div>\n\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(SignIn)","import React, {useCallback} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withRouter } from 'react-router';\nimport firebase from '../firebase';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright © '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignUp({history}) {\n  \n    const classes = useStyles();\n\n    const handleSignUp = useCallback(async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n              const res = await firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\n              console.log(res);\n              console.log(res.user);\n              if(res&&res.user)\n                {\n                    console.log(\"uid\",res.user.uid);\n                    var item = {}\n                    item[\"name\"]=\"anonym\";\n                    item[\"birthyear\"]=2000;\n                    item[\"maxYear\"]=0;\n\n                    const user_ref = firebase.firestore().collection(\"Users\").doc(res.user.uid);\n                    try{\n                          user_ref.set(item).then((doc)=>{\n                                console.log(\"user initiated in db\",doc);\n                           });\n                    }catch(err)\n                    {\n                        console.log(\"error\",err);\n                    }\n                      \n                    await res.user.sendEmailVerification();\n                    //await is need to do the upper insertion in db\n                    await firebase.auth().signOut();\n                    alert(\"Signup is successful. We also sent you a verification email.\");\n                }\n              //history.push(\"/signin\");\n      } catch (error) {\n            console.log(error);\n            alert(error.message);\n            //alert(\"Signup process is stopped. Please contact our staff for more info.\");\n      }\n    }, [history]);  \n\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        <Typography component=\"h1\" variant=\"h5\">\n          Sign up\n        </Typography>\n        <form className={classes.form} onSubmit={handleSignUp} noValidate>\n          <Grid container spacing={2}>\n{/*             <Grid item xs={12} sm={6}>\n              <TextField\n                autoComplete=\"fname\"\n                name=\"firstName\"\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"firstName\"\n                label=\"First Name\"\n                autoFocus\n              />\n            </Grid>\n            <Grid item xs={12} sm={6}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"lastName\"\n                label=\"Last Name\"\n                name=\"lastName\"\n                autoComplete=\"lname\"\n              />\n            </Grid>\n */}            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                id=\"email\"\n                label=\"Email Address\"\n                name=\"email\"\n                autoComplete=\"email\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"password\"\n                label=\"New Password\"\n                type=\"password\"\n                id=\"password\"\n                //autoComplete=\"current-password\"\n              />\n            </Grid>\n            <Grid item xs={12}>\n              <TextField\n                variant=\"outlined\"\n                required\n                fullWidth\n                name=\"repeat password\"\n                label=\"Repeat Password\"\n                type=\"password\"\n                id=\"repeat password\"\n                //autoComplete=\"current-password\"\n              />\n            </Grid>            \n{/*             <Grid item xs={12}>\n              <FormControlLabel\n                control={<Checkbox value=\"allowExtraEmails\" color=\"primary\" />}\n                label=\"I want to receive inspiration, marketing promotions and updates via email.\"\n              />\n            </Grid> */}\n          </Grid>\n          <Button\n            type=\"submit\"\n            fullWidth\n            variant=\"contained\"\n            color=\"primary\"\n            className={classes.submit}\n          >\n            Sign Up\n          </Button>\n          <Grid container justify=\"flex-end\">\n            <Grid item>\n              <Link href={'./signin'} variant=\"body2\">\n                Already have an account? Sign in\n              </Link>\n            </Grid>\n          </Grid>\n        </form>\n      </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(SignUp);","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeSharp from '@material-ui/icons/HomeSharp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { withRouter } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,    \n    },\n    menuButton: {\n      marginRight: theme.spacing(0),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n  \n\n  const Header = props => {\n\n    const { history } = props;\n \n    const classes = useStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const openVision = () => {\n        console.log(\"my vision pushed.\");\n        history.push(\"/myvision\");\n        setAnchorEl(null);\n    };\n\n    const openCalendar = () => {\n      console.log(\"my calendar pushed.\");\n      history.push(\"/mycalendar\");\n      setAnchorEl(null);\n    }\n\n    const handleSetting = () => {\n      console.log(\"setting pushed.\");\n      history.push(\"/setting\");\n      setAnchorEl(null);\n    }\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const homeClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    function handleSignOut(){\n\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n\n    }\n\n    return(\n        <AppBar position=\"static\">\n            <Toolbar>\n                <Typography variant=\"h6\" className={classes.title}>\n                  <HomeSharp label = \"Home\" onClick={homeClick}/>\n                </Typography>\n                <IconButton edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"setting\">\n                    <SettingsIcon label = \"Setting\" onClick={handleSetting}/>\n                </IconButton>\n                <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\n                      <MenuItem onClick={handleClose}>My Profile</MenuItem>\n                      <MenuItem onClick={openVision}>My Vision</MenuItem>\n                      <MenuItem onClick={handleClose}>My Strategy</MenuItem>\n                      <MenuItem onClick={openCalendar}>My Calendar</MenuItem>\n                      <MenuItem onClick={handleSignOut}>Logout</MenuItem>\n                </Menu>\n            </Toolbar>\n        </AppBar>\n    )}\n\n    export default withRouter(Header);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport TodayIcon from '@material-ui/icons/Today';\nimport RateReviewIcon from '@material-ui/icons/RateReview';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport PeopleIcon from '@material-ui/icons/People';\nimport SchoolIcon from '@material-ui/icons/School';\n\nconst useStyles = makeStyles({\n    stickToBottom: {\n        width: '100%',\n        position: 'fixed',\n        bottom: 0,\n        backgroundColor: 'lightblue',\n        },\n  });\n\nexport default function Footer() {\n\nconst classes = useStyles();\nconst [value, setValue] = React.useState('dream');\n\nconst handleChange = (event, newValue) => {\n  setValue(newValue);\n  console.log(newValue);\n};\n\n    return(\n\n        <div>\n\n            <BottomNavigation className={classes.stickToBottom} value={value} onChange={handleChange}>\n                <BottomNavigationAction value=\"dream\" label=\"Education\" icon={<SchoolIcon />} component={Link} to=\"./dream\" />\n                <BottomNavigationAction value=\"plan\" label=\"Community\" icon={<PeopleIcon />}  component={Link} to=\"./plan\"/>\n                <BottomNavigationAction value=\"act\" label=\"Reflection\" icon={<RateReviewIcon />}  component={Link} to=\"./dream\" />\n            </BottomNavigation>\n\n        </div>\n    )\n}","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\n\n\nexport default function Textual(props){\n    const {year,topic,user_ref}=props;\n    const [desc,setDesc] =useState(\"\");\n    const [saved,setSaved]=useState(true);\n  \n    \n  \n  useEffect(() => {\n    fetchDescDB();\n  }, []);\n  \n  const fetchDescDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          user_ref.get().then((item)=>{\n            var data={id:item.id,...item.data()};\n            setDesc(data[topic]);\n            console.log(\"description updated\");\n            /*         data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items); */\n  //          console.log(item);          \n          });\n  \n          \n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  function textChangeClick(e)\n  {\n      setDesc(e.target.value);\n      setSaved(false);\n  }\n  \n  \n  const updateDescDB = async() => {\n  \n    try {\n      console.log(\"update description started\");\n  \n      user_ref.set(\n          {[topic]:desc},{ merge: true }).then(()=>{\n  //            changeInTopic();\n              console.log(\"description is saved\");\n              setSaved(true);\n          });\n  \n  /*       var promises = await Promise.all(\n        selectedMetrics.map((item)=>\n        db.doc(selectedVision.id).collection('metrics').doc().set(\n          {name:item.name,value:item.value},{ merge: true }))); \n  \n      console.log(\"promise:\", promises);*/\n  \n  }catch(err){\n      console.log(err);\n    } \n  \n  };\n  \n      return(\n        <>\n          \n          <TextField p={1} id=\"desc\" \n                      value={desc}\n                      fullWidth InputProps={{style: {fontSize: 14}}}  multiline rows={5}  variant=\"outlined\" onChange={textChangeClick}/>\n  \n          <Button disabled={saved} color=\"primary\" variant=\"contained\" label=\"Save\" onClick={()=>updateDescDB()}>\n              Save Changes\n          </Button> \n        </>\n      )\n  }","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputBase, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add, FormatAlignJustify } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n\nexport default function Visual(props){\n    const {year,topic,userID}=props;\n  \n    const [imageURL,setImageURL] =useState(\"\");\n  //  const [loadingPC3,setLoadingPC3] =useState(false);\n  \n  \n    useEffect(() => {\n      fetchImageDB();\n    }, []);\n  \n    const fetchImageDB=async()=>{\n  \n      try{\n      console.log(\"fetch image started\");\n  //    setLoadingPC3(true);\n  \n      // Create a reference under which you want to list\n      var imageRef = storage.ref().child(`/images/${userID}/${year}/${topic}`);\n      console.log(\"year: \"+year);\n      console.log(imageRef);\n  \n      var res = await imageRef.getDownloadURL().then((url)=>{\n          console.log(\"C3 P url:\", url);\n          setImageURL(url);\n  //        setLoadingPC3(false);\n        });\n      }catch(err)\n      {console.log(err);}\n  }\n  \n  const storeImageDB = (file) => {\n    console.log(\"image file name: \" + file);\n    if(file){\n    const uploadTask = storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n    uploadTask.on(\"state_changed\", console.log, console.error, () => {\n      storage\n        .ref(`/images/${userID}/${year}`)\n        .child(topic)\n        .getDownloadURL()\n        .then((url) => {\n            console.log(url);\n            setImageURL(url);\n        });\n    });\n  }}\n  \n  \n  return(\n    <>\n        <Alert severity=\"info\">\n            Choose an <strong> inspiring </strong> picture\n        </Alert>\n\n\n        <Box p={1}>\n            <img id=\"money-image\"src={((imageURL===\"\") \n            ? \"https://via.placeholder.com/400x300\": imageURL)}\n            alt=\"\" width=\"100%\" />\n         </Box>\n         <Box display=\"flex\" justifyContent=\"center\">\n            <input type=\"file\" accept=\"image/*\" onChange={(e)=>storeImageDB(e.target.files[0])} />\n        </Box>\n    </>\n    )\n  }","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, FormHelperText, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\n\n\nexport default function Quantitative(props){\n    const {year,topic,userID,user_ref}=props;\n    const [metricDefintions,setMetricDefinitions] =useState([]);\n  \n    const [metrics,setMetrics] =useState([]);\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    const [selectedMetricNameDialog,setSelectedMetricNameDialog]=useState(\"\");\n    const [selectedMetricValueDialog,setSelectedMetricValueDialog]=useState(0);\n    const [unit,setUnit] =useState(\"unit\");\n\n  \n    const metrics_expected_ref = user_ref.collection(\"ExpectedMetrics\"); \n  \n    const metrics_definition_ref = firebase.firestore().collection(\"Metrics\");\n  \n  \n  useEffect(() => {\n    fetchExpectedMetricsDB();\n    fetchMetricsDefinitionDB();\n  }, []);\n  \n  const fetchExpectedMetricsDB=async()=>{\n    try {\n          console.log(\"fetch metrics started\");\n          var res = await metrics_expected_ref.where(\"topic\", \"==\", topic).get();\n          var items = [];\n          res.docs.forEach(item=>{\n            var data={id:item.id,...item.data()};\n            items.push(data);\n            console.log(data);\n          });\n          setMetrics(items);\n          \n        }catch(err){\n          console.log(err);\n        }\n  }\n  \n  const fetchMetricsDefinitionDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const data=await metrics_definition_ref.where(\"topic\", \"==\", topic).get();\n  \n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const addMetric2VisionDB=async(metricName,metricValue)=>\n  {\n    try{\n          metrics_expected_ref.add(\n            {\"topic\":topic,\"name\":metricName,\"value\":metricValue}\n            ,{ merge: true }); \n          console.log(\"metric added to vision\");     \n    }catch(err){\n      console.log(\"errrror: metric not added to vision\");     \n      console.log(err);\n    }\n  \n  }\n  \n  \n  function okAddMetricDialogView(){\n    console.log(\"selected metric name\", selectedMetricNameDialog);\n    console.log(\"selected metric value\", selectedMetricValueDialog);\n  \n    if(selectedMetricNameDialog===\"\")console.log(\"metric name is empty\");\n    else{\n      addMetric2VisionDB(selectedMetricNameDialog,selectedMetricValueDialog);\n      fetchExpectedMetricsDB();\n  /*     if(selectedMetrics===undefined){\n        setSelectedMetrics({name:selectedMetricNameDialog,value:selectedMetricValueDialog});  \n      }else{\n        const newList = selectedMetrics.concat({name:selectedMetricNameDialog,value:selectedMetricValueDialog});\n        setSelectedMetrics(newList);\n      }  */         \n    }\n    closeMetricDialogView();\n  }\n  function metricValueChangeView(event)\n  {\n    setSelectedMetricValueDialog(event.target.value);\n  }\n  function openAddMetricDialogView(){\n      setOpenMetricDialog(true);\n  }\n   function cancelAddMetricDialogView(){\n      setOpenMetricDialog(false); \n  }\n  function selectAddMetricDialogChangeView(event){\n      setSelectedMetricNameDialog(event.target.value);\n      console.log(\"metric dialog\" , getUnit(metricDefintions,event.target.value));\n      setUnit(getUnit(metricDefintions,event.target.value));\n  }\n  function getUnit(definitions,value){\n      for (let index = 0; index < definitions.length; index++) {\n        const element = definitions[index];\n        if(element.id===value) return element.unit;      \n      }\n  }\n  const closeMetricDialogView = () => {\n    setOpenMetricDialog(false);\n  };\n\n  function deleteMetricClick(value)\n  {\n    console.log(value);\n\n    if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n      \n      metrics_expected_ref.doc(value).delete().then(() => {\n          console.log(\"metric successfully deleted!\");\n          fetchExpectedMetricsDB();\n          \n      }).catch((error) => {\n          console.error(\"Error removing User: \", error);\n      });       \n  }\n  }\n  \n      return(\n        <>\n  \n              <List>\n              {\n                  (metrics===undefined ? console.log(\"selectedMetrics is undefined\"):\n                  (metrics.length===0 ? console.log(\"selectedMetrics has no item\"):\n                  metrics.map((metric,index) => {\n                      return (\n                                  <ListItem>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                                <Photo />\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText primary={metric.name} secondary={metric.value}/>\n                                        <ListItemSecondaryAction>\n                                            <IconButton id={metric.name} edge=\"end\" aria-label=\"delete\" onClick={()=>deleteMetricClick(metric.id)}>\n                                                <Delete />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                              );\n                            })))\n                } \n                                                            \n                      <ListItem>\n                          <ListItemText primary=\"Add metric\"/>\n                          <ListItemSecondaryAction>\n                              <IconButton edge=\"end\" aria-label=\"add\" onClick={openAddMetricDialogView}>\n                                  <Add autoFocus/>\n                              </IconButton>\n                          </ListItemSecondaryAction>\n                      </ListItem>\n                </List>\n                            \n                <Dialog disableBackdropClick disableEscapeKeyDown open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n                      <DialogTitle>{topic.toUpperCase()} Metrics</DialogTitle>\n                      <DialogContent>\n                          <form >\n                              <Box m={1}>\n                                  <Typography>Metric Name: </Typography>\n                                  <Select id=\"my-input\"  variant=\"outlined\" native onChange={selectAddMetricDialogChangeView}>\n{/*                                       <option aria-label=\"None\" value=\"\" />                                \n */}                                      {\n                                          metricDefintions.map((item,index)=>\n                                              <option value={item.id}>{item.id}</option>)\n                                      }\n                                  </Select>\n                              </Box>\n                              <Box m={1}>\n                                  <FormControl>\n                                      <Typography>Target Value:</Typography>\n                                      <TextField type=\"number\" variant=\"outlined\" defaultValue={\"0\"} id=\"desiredValue\"\n                                        aria-describedby=\"my-helper-text\" onChange={metricValueChangeView} />\n                                      <FormHelperText id=\"my-helper-text\">Target value shall be a number.</FormHelperText>\n                                  </FormControl>\n                              </Box>\n                              <Box m={1}>\n                                  <TextField disabled value={unit} onChange={metricValueChangeView} />\n                              </Box>\n\n                          </form>\n                      </DialogContent>\n                      <DialogActions>\n                          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n                                Cancel\n                          </Button>\n                          <Button onClick={okAddMetricDialogView} color=\"primary\">\n                                Add\n                          </Button>\n                      </DialogActions>\n                  </Dialog>\n        </>\n      )\n  }","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, GridList, GridListTile, GridListTileBar, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport { storage } from \"../firebase\";\n\n\nimport StepWizard from \"react-step-wizard\";\nimport Calendar from 'react-calendar';\nimport Quantitative from './Quantitative';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\nfunction Dream(props) {\n    const {history} = props;\n    const classes = useStyles();\n    const [selectedTopic,setSelectedTopic]=useState(\"\");\n    const [desc,setDesc]=useState(\"\");\n    const [file,setFile]=useState(null);\n    const [date,setDate]=useState(new Date(2022,1,1));\n\n    const { currentUser } = useContext(AuthContext);\n\n    //db ref\n  \n    function finish()\n    {\n        console.log(\"this is finish from Dream\");\n        console.log(\"topic=\" , selectedTopic);\n        console.log(\"desc=\" , desc);\n        console.log(\"date=\" , date.toString());\n        console.log(\"user=\" , currentUser.uid);\n\n        storeDreamInDB();\n\n    }\n\n    function storeDreamInDB(){\n\n        var year = date.getFullYear();\n        console.log(year);\n        var topic = selectedTopic;\n        var userRef = firebase.firestore().collection(\"Users\").doc(currentUser.uid);\n        var docRef = userRef.collection(\"visions\").doc(year.toString());\n\n        docRef.get().then((doc) => {\n            if (doc.exists) {\n                console.log(\"Document data:\", doc.data());\n                alert(\"You have other dreams on this date as well. You can integrate this dream directly to your vision board.\")\n            } else {\n                // doc.data() will be undefined in this case\n                console.log(\"No such document!\");\n                docRef.set({[topic]:desc},{ merge: true }).then(()=>{\n                    alert(\"Your new dream is successfully created.\");\n                    storeImageDB(file,currentUser.uid,year,topic);\n                    history.push(\"/visionBoard\");\n                });\n            }\n        }).catch((error) => {\n            console.log(\"Error getting document:\", error);\n        });\n    }\n\n    const storeImageDB = (file,userID,year,topic) => {\n        console.log(\"image file name: \" + file);\n        if(file){\n        const uploadTask = storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n        uploadTask.on(\"state_changed\", console.log, console.error, () => {\n          storage\n            .ref(`/images/${userID}/${year}`)\n            .child(topic)\n            .getDownloadURL()\n            .then((url) => {\n                console.log(\"image is saved\" , url);\n            });\n        });\n      }}\n\n    return (\n<>\n        <StepWizard>\n            <SelectTopic \n                classes={classes}\n                selectedTopic={selectedTopic}\n                setSelectedTopic={setSelectedTopic}\n            />\n            <NameIt  classes={classes}\n                desc={desc}\n                setDesc={setDesc}           \n            />\n            <Visualize  classes={classes} file={file} setFile={setFile}/>\n            <DateIt classes={classes} date={date} setDate={setDate} finish={finish}/>\n        </StepWizard>\n</>\n    );   \n\n}\n\nfunction SelectTopic(props){\n    const wizard = props;\n    const {classes,selectedTopic,setSelectedTopic} = props;\n    const { currentUser } = useContext(AuthContext);\n    const [topics,setTopics]=useState([]);\n  \n    \n    useEffect(() => {\n        fetchTopicsDB();\n    }, []);\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n\n                if(items.length>=1)\n                    if(selectedTopic===\"\")\n                        setSelectedTopic(items[0].id);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n  function galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n    console.log(\"selected topic: \" + event.target.alt);\n  \n  }\n\n      return (\n\n                <StyledStep classes={classes} \n                    wizard={wizard} messageToUser={\"Which life force?\"}>                \n\n                    <div id=\"gallery-placeholder\">\n                        <GridList cellHeight={160}  cols={2} className={classes.GridList} autoFocus>\n                            {topics.map((topic) => (\n                            <GridListTile key={topic.id} cols={1}>\n                            <img src={topic.placeholder} alt={topic.id}\n                            onClick={galleryClickView}\n                            style={selectedTopic===topic.id ? {border: '5px solid #021a40' }: {}}\n                            />\n                            <GridListTileBar\n                                title={topic.id}\n                                titlePosition=\"bottom\"\n                                actionPosition=\"left\"\n                                className={classes.GridListTileBar}\n                            />\n                            </GridListTile>\n                        ))}\n                        </GridList>\n                    </div>\n\n                </StyledStep>\n\n      );\n}\n\nfunction NameIt(props){\n        const wizard = props;\n        const {classes,desc,setDesc} = props;\n        \n       \n        useEffect(() => {\n            \n        }, []);\n\n        function handleChange(event){\n            console.log(event);\n            console.log(event.target.value);\n            setDesc(event.target.value);\n        }\n        return (\n            <StyledStep classes={classes} \n                wizard={wizard} messageToUser={\"Name it\"}>\n                Description\n                <TextField autoFocus p={1} id=\"desc\" value={desc} fullWidth\n                    multiline rows={3}  variant=\"outlined\"\n                     onChange={handleChange}/>\n            </StyledStep>\n        );\n\n}\n\nfunction Visualize(props){\n    const wizard = props;\n    const {classes,file,setFile} = props;\n\n    useEffect(() => {\n    }, []);\n\n      return (\n          <StyledStep classes={classes} wizard = {wizard}\n            messageToUser={\"Visualize it\"}>\n                <Typography>Visual</Typography>\n\n                <div justify=\"center\">\n                    <input type=\"file\" onChange={(e)=>setFile(e.target.files[0])} />\n                    <img src={file===null \n                        ? \"https://via.placeholder.com/400x300\" \n                        : URL.createObjectURL(file)}\n                        alt=\"Uploaded Images\"\n                        height=\"200\"\n                        width=\"200\"/>\n                </div>\n\n          </StyledStep>\n      );\n\n}\n\nfunction DateIt(props){\n    const wizard = props;\n    const {classes,date,setDate} = props;\n\n    function handleCalendarSelected(value){\n        console.log(value);\n        setDate(value);\n    }\n\n    useEffect(() => {\n    }, []);\n\n      return (\n          <StyledStep classes={classes} wizard = {wizard}>\n                <Calendar\n                    defaultView=\"decade\"\n                    maxDetail=\"decade\"\n                    showWeekNumbers=\"true\"\n                    defaultValue={date}\n                    onChange={handleCalendarSelected}\n                />\n          </StyledStep>\n      );\n\n}\n\nfunction MetricIt(props){\n    const wizard = props;\n    const {classes} = props;\n\n\n\n    useEffect(() => {\n    }, []);\n\n      return (\n          <StyledStep classes={classes} wizard = {wizard}>\n                <Quantitative />\n          </StyledStep>\n      );\n\n}\n\nfunction StyledStep(props) {\n    const { children, classes, messageToUser, wizard } = props;\n  \n    return (\n        <>\n        <Paper  id={wizard.currentStep} className={classes.paper}>\n            <AppBar p={1} position=\"static\"  className={classes.header}>   \n                <Typography p={1}>\n                    Step {wizard.currentStep}/{wizard.totalSteps}\n                </Typography>                  \n            </AppBar>\n\n            <Grid container item xs={12} alignItems=\"center\" \n            spacing={1} className={classes.content}>\n                <Grid item xs={2}>\n                        <button disabled = {(wizard.currentStep===1)} onClick={wizard.previousStep}>Back</button>\n                </Grid>\n                <Grid item xs={7}>\n                    {/* <Typography>{messageToUser}</Typography> */}\n                </Grid>\n                <Grid item xs={3}>\n                    {(wizard.currentStep===wizard.totalSteps ?\n                        <button  onClick={wizard.finish}>Finish</button>\n                         :\n                        <button  onClick={wizard.nextStep}>Next</button>\n                    )}\n                </Grid>\n            </Grid>\n\n            <Box p={2}>\n                {children}\n            </Box>\n            \n        </Paper>\n        </>\n\n    );\n  }\n  \nexport default withRouter(Dream);","export default __webpack_public_path__ + \"static/media/knee.dd00290c.jpg\";","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport IconButton from '@material-ui/core/IconButton';\nimport InfoIcon from '@material-ui/icons/Info';\nimport image from './knee.jpg';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    width: 500,\n    height: 450,\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)',\n  },\n}));\n\nconst tileData = [\n    {\n      img: image,\n      title: 'Strong Knee',\n    },\n\n];\n\nexport default function TitlebarGridList() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <GridList cellHeight={180} className={classes.gridList}>\n        <GridListTile key=\"Subheader\" cols={2} style={{ height: 'auto' }}>\n          <ListSubheader component=\"div\">December</ListSubheader>\n        </GridListTile>\n        {tileData.map((tile) => (\n          <GridListTile key={tile.img}>\n            <img src={tile.img} alt={tile.title} />\n            <GridListTileBar\n              title={tile.title}\n              subtitle={<span>by: {tile.author}</span>}\n              actionIcon={\n                <IconButton aria-label={`info about ${tile.title}`} className={classes.icon}>\n                  <InfoIcon />\n                </IconButton>\n              }\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n    </div>\n  );\n}","import { Button, TextField } from '@material-ui/core';\nimport React,{useState,useEffect,Fragment} from 'react';\nimport firebase from '../firebase';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Avatar from '@material-ui/core/Avatar';\nimport {Redirect} from 'react-router';\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\nexport default function Rate() {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n\n  const ref = firebase.firestore().collection(\"Rates\");\n\n  // ADD FUNCTION\n  function addRate(newRate) {\n    console.log(\"rate function started\");\n    ref.doc()\n      //.doc() use if for some reason you want that firestore generates the id\n      .set(newRate).then(() => {\n        console.log(\"A new user has been added\", \"Success\");\n        //it is not working\n        return <Redirect to=\"./dream\" />\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n    return(\n\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        {loading ? <h1>Loading...</h1> : null}\n        <div>                  \n              <TextField className={classes.form} label=\"Which aspect?\" variant=\"outlined\" required fullWidth value={title} onChange={(e) => setTitle(e.target.value)}/>\n              <TextField className={classes.form} label=\"Rate\" variant=\"outlined\" value={desc} onChange={(e) => setDesc(e.target.value)} />\n              <Button   type=\"submit\"  fullWidth variant=\"contained\" color=\"primary\"\n            className={classes.submit} onClick={() => addRate({ title, desc})}>Push</Button>\n        </div>\n      </div>\n    </Container>\n  )\n\n}","import { Button, TextField } from '@material-ui/core';\nimport React,{useState,useEffect} from 'react';\nimport firebase from '../firebase';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Avatar from '@material-ui/core/Avatar';\nimport { v4 as uuidv4 } from \"uuid\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\nexport default function Act() {\n\n  const classes = useStyles();\n  const [aspects, setAspects] = useState([]);\n  const [selectedAspect, setSelectedAspect] = useState(\"Money\");\n  const [loading, setLoading] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n\n  const ref = firebase.firestore().collection(\"LifeAspects\");\n\n  const handleChange = (event) => {\n    setSelectedAspect(event.target.value);\n  };\n\n  // ADD FUNCTION\n  function addGoal(newGoal) {\n    ref.doc()\n      //.doc() use if for some reason you want that firestore generates the id\n      //.collection()\n      .set(newGoal)\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  //REALTIME GET FUNCTION\n  function getAspects() {\n    setLoading(true);\n    ref.onSnapshot((querySnapshot) => {\n      const items = [];\n      querySnapshot.forEach((doc) => {\n        items.push(doc.data());\n        console.log(doc.id);\n      });\n      setAspects(items);\n      setLoading(false);\n    });\n  }\n\n  useEffect(() => {\n    getAspects();\n    console.log(aspects);\n    // eslint-disable-next-line\n  }, []);\n\n    return(\n\n      <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        {loading ? <h1>Loading...</h1> : null}\n        <form noValidate>\n              <FormControl className={classes.form}>\n                      <InputLabel id=\"select-label\" >Life Aspect</InputLabel>\n                      <Select labelId=\"select-label\" id=\"select-aspect\" onChange={handleChange} value={selectedAspect}>\n                          {aspects.map(item => <MenuItem value={item.title}>{item.title}</MenuItem>)}\n                      </Select>\n              </FormControl>\n                  \n              <TextField className={classes.form} label=\"How to call this goal?\" variant=\"outlined\" required fullWidth value={title} onChange={(e) => setTitle(e.target.value)}/>\n              <TextField className={classes.form} label=\"Description\" variant=\"outlined\" value={desc} onChange={(e) => setDesc(e.target.value)} />\n              <Button   type=\"submit\"  fullWidth variant=\"contained\" color=\"primary\"\n            className={classes.submit} onClick={() => addGoal({ title, desc, id: uuidv4() })}>Submit</Button>\n        </form>\n      </div>\n    </Container>\n\n)\n\n}","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n//        maxWidth: 400,\n    },\n  media: {\n        height: 0,\n        paddingTop: '100%', // 16:9,\n      \n    },\n});\n\n\n\nexport default function Health() {\n\n    const classes = useStyles();\n\n    return(\n\n        <Card className={classes.roots}>\n            <CardActionArea>\n                <CardMedia className={classes.media} image=\"/health.jpg\" title=\"health avatar\" align=\"center\"/>\n                <CardContent>\n                    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h2\">\n                    Health Dream\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Body: 3 goals\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Mind: 3 goals\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n\n        )\n}","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    root: {\n//      maxWidth: 300,\n\n      },\n    media: {\n        height: 0,\n        paddingTop: '100%', // 16:9,\n    },\n  });\n\n\nexport default function Money() {\n    const classes = useStyles();\n\n    return(\n\n        <Card className={classes.roots}>\n            <CardActionArea>\n                <CardMedia className={classes.media} image=\"/money.jpg\" title=\"money avatar\" align=\"center\"/>\n                <CardContent>\n                    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h2\">\n                    Money Dream\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Body: 3 goals\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n\n        )\n}","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { yellow } from '@material-ui/core/colors';\n\n\n\nconst useStyles = makeStyles({\n    root: {\n//          maxWidth: 400,\n      },\n    media: {\n          height: 0,\n          paddingTop: '100%', // 16:9,\n        \n      },\n  });\n\n\nexport default function Career() {\n\n    const classes = useStyles();\n\n    return(\n\n        <Card className={classes.roots}>\n            <CardActionArea>\n                <CardMedia className={classes.media} image=\"/career.jpg\" title=\"health avatar\" align=\"center\"/>\n                <CardContent>\n                    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h2\">\n                    Career Dream\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Body: 3 goals\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Mind: 3 goals\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n\n        )\n}","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport firebase,{storage} from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\n\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport DirectionsRunIcon from '@material-ui/icons/DirectionsRun';\nimport EuroIcon from '@material-ui/icons/Euro';\nimport GroupIcon from '@material-ui/icons/Group';\nimport { AccordionActions, Button, Divider, Fab, FormControlLabel, TextField } from '@material-ui/core';\n//tab//\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { withRouter } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PhotoIcon from '@material-ui/icons/Photo';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={1}>\n          <Typography>{children}</Typography>\n          <Box p={1}/>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n//tab//\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  add: {\n    position:'absolute',\n    right: theme.spacing(2),\n    top: 'auto',\n  },\n  save: {\n    position:'absolute',\n    right: theme.spacing(10),\n    top: 'auto',\n  },\n  deleteAccordion: {\n    position: 'absolute',\n    right: theme.spacing(10),\n  },\n  editAccordion: {\n    position: 'absolute',\n    right: theme.spacing(15),\n  },\n  disabledText:{\n      opacity:1.0\n  }\n}));\n\nconst LifeAccordionTab = props => {\n\n\nconst { history } = props;\n\n\n//tab// value keeps the current tab\nconst [value, setValue] = React.useState(0);\n\nconst handleChange = (event, newValue) => {\n  setValue(newValue);\n};\n\n//tab//\n\n  const classes = useStyles();\n\n  const [visions,setVisions]=useState([]);\n  const [loading, setLoading] = useState(false);\n\n\n  const { currentUser } = useContext(AuthContext);\n  const db=firebase.firestore().collection(\"Users\").doc(currentUser.uid).collection(\"visions\");\n\n//  const ref=firebase.firestore().collection(\"Users\");\n\n  //console.log(currentUser.uid);\n\n/*   const fetchVisionsOnce = () => {\n    return db.get()\n    .then(snap => {\n        snap.docs.map(doc => {\n            console.log(doc.data())\n            return {\n               ...doc.data(),\n               id: doc.id,\n               ref: doc.ref\n            };\n        })\n    });\n}\n\nuseEffect(() => {\n  (async () => {\n      const newVisions = await fetchVisionsOnce();\n      console.log(\"nv\",newVisions);\n      setVisions(newVisions);\n  })();\n}, []) */\n\n\n useEffect(() => {\n  fetchVisions();\n},[]); \n\n const fetchVisions=async()=>{\n    setLoading(true);\n    try {\n          console.log(\"fetch vision started\");\n          const data=await db.get();\n//          console.log(data);\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setVisions(items);\n            setLoading(false);\n//          console.log(item);\n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  const updateVisions=async()=>{\n    try {\n          console.log(\"update visions started\");\n          visions.forEach(item=>{\n            db.doc(item.id).set(item);\n          }\n          );\n          console.log(\"update done\");\n    \n        }catch(err){\n          console.log(err);\n        }\n  }\n\n  const removeFromDB=(vision)=>{\n    db.doc(vision.id).delete().then(() => {\n      console.log(vision,\"Document successfully deleted!\");\n      fetchVisions();\n      }).catch((error) => {\n          console.error(\"Error removing document: \", error);\n      });\n  }\n\n  function loadURL(year,filename)\n  {\n\n    var output=\"nothing\";\n\n    storage.ref().child(`/images/${currentUser.uid}/${year}/${filename}`)\n      .getDownloadURL().then(function(url) {\n      console.log(url);\n      output = url;\n    }).catch(function(error){console.log(error)})\n    console.log(output);\n    return output;\n  }\n\n  const createNewVision = ()=>\n  {\n    history.push(\"/newVision\");\n  }\n\n  const editVision=(vision)=>{\n    history.push(\"/newVision\",vision);\n  }\n\n  const showVisionBoard=()=>{\n    history.push(\"/visionBoard\");\n  }\n\n  return (\n    <div className={classes.root}>\n\n    {loading ? <h2>Loading...</h2> :\n\n    visions.map((vision,index)=>(\n\n                 <Accordion className={classes.root}>\n                  {console.log(vision,index)} \n                   <AccordionSummary className={classes.root} expandIcon={<ExpandMoreIcon />}>\n                      <Typography className={classes.heading}>Vision of {vision.id}</Typography>\n                      <FormControlLabel \n                          onClick={(event) => event.stopPropagation()}\n                          onFocus={(event) => event.stopPropagation()}\n                          control={<EditIcon color=\"primary\"\n                            className={classes.editAccordion}\n                            onClick={()=>editVision(vision)}  \n                          />}\n                      />\n                      <FormControlLabel \n                          onClick={(event) => event.stopPropagation()}\n                          onFocus={(event) => event.stopPropagation()}\n                          control={<DeleteIcon \n                            id={index} color=\"secondary\"\n                            className={classes.deleteAccordion}\n                            onClick={()=>removeFromDB(vision)}  \n                          />}\n                      />\n                  </AccordionSummary>\n                   <AccordionDetails className={classes.root}>\n                          <AppBar position=\"absolute\" color=\"secondary\" className={classes.appBar}>\n                            <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                              <Tab icon={<DirectionsRunIcon />} {...a11yProps(0)} />\n                              <Tab icon={<EuroIcon />} {...a11yProps(1)} />\n                              <Tab icon={<GroupIcon />} {...a11yProps(2)} />\n                            </Tabs>\n                          </AppBar>\n\n       <TabPanel value={value} index={0} className={classes.root} bottom=\"10\" >\n            <Typography>\n                <Box fontWeight=\"fontWeightMedium\">\n                    My health will be:\n                </Box >\n                <Box fullWidth border={1} p={1} borderRadius=\"borderRadius\" >\n                    {vision.health}\n                </Box>\n            </Typography>\n            <Box p={2}/>\n{/* \n            <TextField id=\"vision_desc\" disabled className={classes.disabledText} defaultValue={vision.health} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.health=e.target.value}/>\n */}            \n\n            {/* <Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Health</Button> */}\n\n{/*             <Typography>How do you visualize it?</Typography>\n            <div>\n              <img src={loadURL(vision.id,'health.jpg')} alt=\"\" />\n            </div> */}\n\n        </TabPanel>\n        <TabPanel value={value} index={1} className={classes.root}>\n            <Typography>\n                <Box fontWeight=\"fontWeightMedium\">\n                    My finance will be:\n                </Box >\n                <Box fullWidth border={1} p={1} borderRadius=\"borderRadius\" >\n                    {vision.money}\n                </Box>\n            </Typography>\n            <Box p={2}/>\n\n{/*             <Typography>How do you visualize it?</Typography>\n            <div>\n                <img href={vision.moneyImage} alt=\"\" />\n            </div> */}\n        </TabPanel>\n        <TabPanel value={value} index={2} className={classes.root}>\n        <Typography>\n                <Box fontWeight=\"fontWeightMedium\">\n                    My social connection will be:\n                </Box >\n                <Box fullWidth border={1} p={1} borderRadius=\"borderRadius\" >\n                    {vision.social}\n                </Box>\n            </Typography>\n            <Box p={2}/>\n        </TabPanel>\n\n                <Box p={2} />\n                </AccordionDetails>\n                </Accordion> \n      ))\n    }\n\n    <Box p={2} />\n    <Fab color=\"secondary\" aria-label=\"add\" className={classes.add} onClick={()=>createNewVision()}>\n        <AddIcon />\n    </Fab>    \n    <Fab color=\"secondary\" aria-label=\"show\" className={classes.save}>\n        <PhotoIcon onClick={()=>showVisionBoard()}/>\n    </Fab>\n\n    </div>\n\n  );\n}\nexport default withRouter(LifeAccordionTab);\n\n{/* <TabPanel value={value} index={0} className={classes.root} bottom=\"10\" >\n<Typography>How would like your health to be?</Typography>\n<TextField id=\"vision_desc\" defaultValue={vision.health} fullWidth\n multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.health=e.target.value}/>\n<Box p={1} />\n<Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Health</Button>\n</TabPanel>\n<TabPanel value={value} index={1} className={classes.root}>\n<Typography>How would be your desired financial situation?</Typography>\n<TextField id=\"money_desc\" defaultValue={vision.money} fullWidth\n multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.money=e.target.value}/>\n<Box p={1} />\n<Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Finance</Button>\n</TabPanel>\n<TabPanel value={value} index={2} className={classes.root}>\n<Typography>How would you like your social environment (e.g. friends, family, tribe etc) to be?</Typography>\n<TextField id=\"social_desc\" defaultValue={vision.social} fullWidth\n multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.social=e.target.value}/>\n<Box p={1} />\n<Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Social</Button>\n</TabPanel> */}","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\nconst Profile = props => {\n\nconst history = useHistory();\nconst classes = useStyles();\n\nuseEffect(() => {\n\n    console.log(\"------ profile ------- useEffect -----\");\n    console.log(\"------ action -------\", history.action);\n\n    return () => {\n        if (history.action === \"POP\") {\n            // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                console.log(\"------ profile ------- after -----\");\n                console.log(\"------ location -----\",history.location.pathname);\n                window.location.replace(\"/\");\n            }\n       }\n},[])\n\nreturn (\n    <div>\n\n    <Identity classes={classes}/>\n    <Metrics classes={classes}/>\n\n{/*     <Reset classes={classes}/>\n */}\n    </div>\n);\n}\n\nexport default withRouter(Profile);\n\n\nfunction Reset(props){\n\n    const {classes} = props;\n    const {currentUser} = useContext(AuthContext);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n\n    const removeAllVisions=async()=>{\n        try {\n              console.log(\"reset started\");\n              var visions_ref= user_ref.collection(\"visions\");\n              console.log(visions_ref);\n              if(visions_ref===undefined){\n                  console.log(\"no visions collection\");\n                  return;\n              }else{\n                        const data=await visions_ref.get();\n                        console.log(data);\n                        data.docs.forEach(item=>{\n                            console.log(item);\n                            visions_ref.doc(item.id).delete().then(()=>{\n                                console.log(item.id +\"successfully deleted!\")\n                            });\n                        });\n            }\n        }catch(err){\n              console.log(err);\n            }\n    } \n\n\n    function handleReset(){\n        console.log(\"reset started\");\n        removeAllVisions();        \n    }\n\n\n    return (\n\n        <Paper  id=\"metrics\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >Reset </Typography>                  \n            </AppBar>\n            <Box p={2} display=\"flex\" justifyContent=\"center\">\n                <Button  color=\"primary\" variant=\"contained\"\n                        onClick={handleReset}>\n                        Clear My Visions\n                </Button>\n            </Box>\n\n        </Paper> \n         \n    );\n\n\n}\n\nfunction Identity(props){\n    const {classes} = props;\n\n    const { currentUser } = useContext(AuthContext);\n    const [profileName,setProfileName]=useState();\n    const [birthYear,setBirthYear]=useState();\n    const [saved,setSaved] = useState(true);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n    useEffect(() => {\n        fetchProfileDB();\n    }, []);\n  \n\n    const updateProfileDB=async()=>{\n        try {\n                console.log(\"update profile started\");\n                user_ref.update(\n                    {\"name\":profileName,\"birthYear\":birthYear}).then(()=>{\n            //            changeInTopic();\n                        console.log(\"profile is updated\", profileName);\n                        setSaved(true);\n                    });\n    \n            }catch(err){\n            console.log(err);\n            }\n    } \n\n    const fetchProfileDB=async()=>{\n    try {\n            console.log(\"fetch profile started\", user_ref);\n        \n            user_ref.get().then((doc)=>{\n                if(doc.exists){\n                    setProfileName(doc.data().name);\n                    setBirthYear(doc.data().birthYear);\n                    console.log(doc.data().name);         \n                    console.log(doc.data().birthYear);\n                }else{\n                    console.log(\"such user doesnot exist\", doc.data());\n                }         \n\n            });\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n\n    function usernameClickChange(event)\n    {\n        setProfileName(event.target.value);\n        setSaved(false);\n    }\n  \n    function birthClickChange(event)\n    {\n        setBirthYear(event.target.value);\n        setSaved(false);\n    }\n\n    return(\n\n        <Paper  id=\"profile\" className={classes.paper}>\n        <AppBar p={1} position=\"static\" className={classes.header}>   \n            <Typography p={1} >Profile </Typography>                  \n        </AppBar>\n\n\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Username:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField variant=\"outlined\" margin=\"normal\" required fullWidth\n                    value={profileName} onChange={(event)=>usernameClickChange(event)} autoFocus/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Year of Birth:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField type=\"number\" variant=\"outlined\" margin=\"normal\" fullWidth\n                    value={birthYear} onChange={(event)=>birthClickChange(event)}/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>            \n        <Grid container xs={12} justify=\"center\" >\n                <Grid item xs={3} className={classes.content}>\n                    <Button disabled={saved} variant=\"contained\" fullWidth\n                        color=\"primary\" onClick={updateProfileDB}>\n                            Save\n                    </Button>\n                </Grid>\n        </Grid>\n\n\n        </Paper>\n\n      )\n}\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name', width: 150 },\n        { field: 'topic', headerName: 'Force', width: 90 },\n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"\");\n    const [unitName,setUnitName]=useState(\"\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n    function okAddMetricDialogView(){\n        console.log(selectedTopic);\n        try{\n            metric_ref.doc(metricName).set(\n              {\"topic\":selectedTopic,\"unit\":unitName,\"value\":0}\n              ,{ merge: true }); \n            console.log(\"metric added to vision\"); \n            setOpenMetricDialog(false);\n            fetchMetricNamesDB();\n            setMetricName(\"\");\n            setUnitName(\"\");\n      }catch(err){\n        console.log(\"errrror: metric not added to vision\");     \n        console.log(err);\n      }\n    }\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <Paper  id=\"metrics\" className={classes.paper}>\n        <AppBar p={1} position=\"static\" className={classes.header}>   \n            <Typography p={1} >Metrics </Typography>                  \n        </AppBar>\n\n        <Grid container xs={12} justify=\"center\" spacing={1}>\n\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth onClick={handleAdd}>\n                    <Add />\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled>\n                    <Edit/>\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                    <Delete/>\n                </Button>\n            </Grid>\n        </Grid>\n\n        <div style={{ height: 400, width: '100%' }}>\n            <DataGrid rows={metricDefinitions} columns={metricProperties} pageSize={5} checkboxSelection={false} onRowClick={handleRowClick}/>\n        </div>    \n    \n        </Paper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n        <DialogTitle>Metric</DialogTitle>\n        <DialogContent>\n          <form >\n            <FormControl>\n              <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n              <Select\n                native\n                onChange={selectedTopicChangeView}\n              >\n                <option aria-label=\"None\" value=\"\" />                                \n                {\n                    topics.map((item,index)=>\n                <option  value={item.id}>{item.id}</option>)\n                }\n              </Select>\n              <TextField defaultValue={metricName} onChange={metricNameChangeView} />\n              <TextField defaultValue={unitName} onChange={unitNameChangeView} />\n            </FormControl>\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={okAddMetricDialogView} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </>    \n    );\n\n\n}\n","//Based on Drawers https://material-ui.com/components/drawers/\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeSharp from '@material-ui/icons/HomeSharp';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { withRouter } from \"react-router-dom\";\nimport Drawer from '@material-ui/core/Drawer';\nimport clsx from 'clsx';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Delete, ExitToApp, Today, VideoLibrary } from '@material-ui/icons';\nimport PeopleIcon from '@material-ui/icons/People';\nimport SchoolIcon from '@material-ui/icons/School';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { AuthContext } from './Auth';\nimport { Link } from 'react-router-dom'\n\nconst drawerWidth = 200;\nvar currentTab = \"Home\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n}));\n  \n\n  const Header = props => {\n\n    const { history,role,user,year} = props;\n \n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n\n    const theme = useTheme();\n\n    const handleDrawerOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleDrawerClose = () => {\n      setOpen(false);\n    };\n\n    const openProfile = () => {\n      //history.push(\"/profile\");\n      handleDrawerClose();\n      currentTab=\"Profile\";\n    };\n    const openDream = () => {\n      console.log(\"start a dream.\");\n      history.push(\"/dream\");\n      handleDrawerClose();\n      currentTab=\"Start a new dream\";\n    };\n\n    const openVision = () => {\n        console.log(\"my vision pushed.\");\n        if(year===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", year );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": year }\n            });\n      }\n        handleDrawerClose();\n        currentTab=\"Vision Board\";\n      };\n\n    const openCalendar = () => {\n      console.log(\"my calendar pushed.\");\n      history.push(\"/mycalendar\");\n      handleDrawerClose();\n      currentTab=\"Calendar\";\n    }\n\n    const openContent = () => {\n      console.log(\"content pushed.\");\n      //history.push(\"/content\");\n      handleDrawerClose();\n      currentTab=\"Content\";\n    }\n\n    function signOut(){\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    function deleteMyAccount(){\n      if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n      \n        const user_doc = firebase.firestore().collection(\"Users\").doc(user.uid);\n\n        user_doc.collection(\"ExpectedMetrics\").get().then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n              console.log(doc.id, \" => \", doc.data());\n              user_doc.collection(\"ExpectedMetrics\").doc(doc.id).delete().then(() => {\n                console.log(\"metric deleted!\");                      \n            }).catch((error) => {\n                console.error(\"Error removing metric: \", error);\n            });\n          });\n        });\n\n        user_doc.delete().then(() => {\n            console.log(\"User main doc deleted!\");    \n            signOut();           \n          }).catch((error) => {\n              console.error(\"Error removing User: \", error);\n          });       \n      }\n    }\n\n    return(\n          <div className={classes.root}>\n          <CssBaseline />\n          <AppBar position=\"fixed\" className={clsx(classes.appBar, {[classes.appBarShift]: open,})}>\n              <Toolbar>             \n                <IconButton color=\"inherit\" aria-label=\"open drawer\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>        \n                    <MenuIcon />\n                </IconButton>\n                <Typography> {currentTab} </Typography>\n              </Toolbar>\n          </AppBar>\n          <Toolbar />\n          <Drawer\n              className={classes.drawer}\n              variant=\"temporary\"\n              anchor=\"left\"\n              open={open}\n              onClose={handleDrawerClose}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n          >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={handleDrawerClose}>\n              {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n            </IconButton>\n          </div>\n        <Divider />\n        <List>\n{/*             <ListItem button key=\"Profile\" onClick={openSetting}>\n              <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n              <ListItemText primary='Profile' />\n            </ListItem> */}\n            <ListItem key=\"Profile\" component={Link} to=\"/profile\" onClick={openProfile}>\n              <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n              <ListItemText primary='Profile' />\n            </ListItem>            \n{/*             <ListItem button key=\"dream\" onClick={openDream}>\n              <ListItemIcon>{<SettingsIcon />}</ListItemIcon>\n              <ListItemText primary='Start A Dream' />\n            </ListItem> */}\n            <ListItem key=\"Vision Board\" component={Link} to=\"/\" onClick={openVision}>\n              <ListItemIcon>{<InsertEmoticonIcon />}</ListItemIcon>\n              <ListItemText primary='Vision Board' />\n            </ListItem>\n            {role===\"admin\"\n            ?  <>\n                    <ListItem button key=\"Plan\">\n                      <ListItemIcon>{<ExploreIcon />}</ListItemIcon>\n                      <ListItemText primary='Plan' />\n                    </ListItem>\n                    <ListItem button key=\"Calendar\" onClick={openCalendar}>\n                      <ListItemIcon>{<Today />}</ListItemIcon>\n                      <ListItemText primary='Calendar' />\n                    </ListItem> \n               </>\n            : null}           \n        </List>\n        <Divider />\n        <List>\n            <ListItem key=\"Learn\" component={Link} to=\"/content\" onClick={openContent}>\n              <ListItemIcon>{<SchoolIcon />}</ListItemIcon>\n              <ListItemText primary='Content' />\n            </ListItem>\n            {role===\"admin\"\n            ?       <ListItem button key=\"Community\">\n                      <ListItemIcon>{<PeopleIcon />}</ListItemIcon>\n                      <ListItemText primary='Community' />\n                    </ListItem>\n            : null}                      \n        </List>\n        <Divider />\n        <List>\n            <ListItem button key=\"Sign Out\" onClick={signOut}>\n              <ListItemIcon>{<ExitToApp />}</ListItemIcon>\n              <ListItemText primary='Signout' />\n            </ListItem>\n            <ListItem button key=\"delete\" onClick={deleteMyAccount}>\n              <ListItemIcon>{<Delete />}</ListItemIcon>\n              <ListItemText primary='Delete My Account' />\n            </ListItem> \n        </List>        \n      </Drawer> \n    </div>        \n    )}\n\n    export default withRouter(Header);","import React,{useState,useEffect,useContext, Fragment} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\n\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport DirectionsRunIcon from '@material-ui/icons/DirectionsRun';\nimport EuroIcon from '@material-ui/icons/Euro';\nimport GroupIcon from '@material-ui/icons/Group';\nimport { AccordionActions, Button, Divider, Fab, FormControlLabel, TextField } from '@material-ui/core';\n//tab//\n\nimport { withRouter } from 'react-router-dom';\n\nimport { storage } from \"../firebase\";\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={1}>\n          <Typography>{children}</Typography>\n          <Box p={2}/>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n//tab//\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    position: 'relative',\n  },\n  yearField: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  yearLabel: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  cancelButton: {\n    top: 'auto',\n    left: theme.spacing(2),\n    position: 'absolute',\n  },\n  addButton: {\n    top: 'auto',\n    left: 'auto',\n    right: theme.spacing(2),\n    position: 'absolute',\n  },\n\n\n}));\n\nconst ManageVision = props => {\n\n  const { history,location } = props;\n  //console.log(location.state);\n  const { currentUser } = useContext(AuthContext);\n\n\n//tab// value keeps the current tab\nconst [value, setValue] = React.useState(0);\n\nconst [loading, setLoading] = React.useState(false);\nconst [updating,setUpdating] = React.useState(false);\n\nconst [visionHealth, setVisionHealth] = React.useState(\"\");\nconst [visionMoney, setVisionMoney] = React.useState(\"\");\nconst [visionSocial, setVisionSocial] = React.useState(\"\");\nconst [visionYear, setVisionYear] = React.useState(2020);\n\nconst [healthURL, setHealthURL] = React.useState(\"\");\nconst [moneyURL, setMoneyURL] = React.useState(\"\");\nconst [socialURL, setSocialURL] = React.useState(\"\");\n\nconst [healthFile, setHealthFile] = React.useState(null);\nconst [moneyFile, setMoneyFile] = React.useState(null);\nconst [socialFile, setSocialFile] = React.useState(null);\n\n//if it is to edit\n//load the vision\n\nuseEffect(() => {\n  loadVision();\n},[]);\n\n  const loadVision=async()=>{\n    setLoading(true);\n    if(location.state)\n    {\n      setUpdating(true);\n      console.log(location.state.id);\n      setVisionHealth(location.state.health);\n      setVisionMoney(location.state.money);\n      setVisionSocial(location.state.social);\n      setVisionYear(location.state.id);\n      await loadURL('health');\n      await loadURL('money');\n      await loadURL('social');\n    }\n    setLoading(false);  \n\n  }\n\n  function loadURL(filename)\n  {\n\n    storage.ref().child(`/images/${currentUser.uid}/${location.state.id}/${filename}`)\n    .getDownloadURL().then(function(url) {\n        console.log(url);\n        switch(filename){\n        case 'health':\n          setHealthURL(url);\n          console.log(\"h\");\n          break;\n        case 'money':\n          setMoneyURL(url);\n          console.log(\"m\");\n          break;\n        case 'social':\n          setSocialURL(url);\n          console.log(\"s\");\n          break;\n        default: console.log('what?');\n        }\n\n      }).catch(function(error){console.log(error);});\n\n  }\nconst handleChange = (event, newValue) => {\n  setValue(newValue);\n};\n\n//tab//\n\n  const classes = useStyles();\n\n  const db=firebase.firestore().collection(\"Users\").doc(currentUser.uid).collection(\"visions\"); \n\n  const add = async()=>\n  {\n    try {\n        console.log(\"add vision started\");\n\n        addImage(currentUser,visionYear,'health',healthFile);\n        addImage(currentUser,visionYear,'money',moneyFile);\n        addImage(currentUser,visionYear,'social',socialFile);\n\n        db.doc(visionYear).set(\n            {health:visionHealth,money:visionMoney,social:visionSocial\n            });       \n\n        close();\n\n    }catch(err){\n        console.log(err);\n      }    \n  }\n  const close = ()=>\n  {\n        history.push(\"/myvision\");   \n  }\n\n\n  const addImage = (user,year,filename,file) => {\n    if(file){\n    const uploadTask = storage.ref(`/images/${user.uid}/${year}/${filename}`).put(file);\n    uploadTask.on(\"state_changed\", console.log, console.error, () => {\n      storage\n        .ref(`/images/${user.uid}/${year}`)\n        .child(filename)\n        .getDownloadURL()\n        .then((url) => {\n            console.log(url);\n        });\n    });\n  }}\n\n  return (\n    <div className={classes.root}>\n    {loading ? <h2>Loading...</h2> :\n        <>    \n        <Typography className={classes.yearLabel}>Which year?</Typography>\n        <TextField id=\"year\" type=\"number\" placeholder=\"year has to be a number\" disabled={updating} required\n         className={classes.yearField} defaultValue={visionYear} onChange={(e)=>setVisionYear(e.target.value)}/>\n        <Box p={1} />        \n\n        <TabPanel value={value} index={0} className={classes.root} bottom=\"10\" >\n            <Typography>How would like your health to be?</Typography>\n            <TextField id=\"vision_desc\" defaultValue={visionHealth} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>setVisionHealth(e.target.value)}/>\n            <Box p={1}/>\n            {/* <Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Health</Button> */}\n\n            <Typography>How do you visualize it?</Typography>\n            <div>\n                <input type=\"file\" onChange={(e)=>setHealthFile(e.target.files[0])} />\n                {/* <img src={healthFile ? URL.createObjectURL(healthFile) : \"\" } alt=\"\" /> */}\n                <img id=\"health-image\" src={healthFile ? URL.createObjectURL(healthFile) : \n                ((healthURL===\"\") ? \"https://via.placeholder.com/400x300\": healthURL)}\n                alt=\"Uploaded Images\"\n                height=\"200\"\n                width=\"200\"/>           \n            </div>\n\n        </TabPanel>\n        <TabPanel value={value} index={1} className={classes.root}>\n            <Typography>How would be your desired financial situation?</Typography>\n            <TextField id=\"money_desc\" defaultValue={visionMoney} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>setVisionMoney(e.target.value)}/>\n            <Box p={1} />\n            <Typography>How do you visualize it?</Typography>\n            <div>\n                <input type=\"file\" onChange={(e)=>setMoneyFile(e.target.files[0])} />\n                <img id=\"money-image\"src={moneyFile ? URL.createObjectURL(moneyFile) :\n                 ((moneyURL===\"\") ? \"https://via.placeholder.com/400x300\": moneyURL)}\n                alt=\"Uploaded Images\"\n                height=\"200\"\n                width=\"200\"/>\n            </div>\n        </TabPanel>\n        <TabPanel value={value} index={2} className={classes.root}>\n            <Typography>How would you like your social environment (e.g. friends, family, tribe etc) to be?</Typography>\n            <TextField id=\"social_desc\" defaultValue={visionSocial} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>setVisionSocial(e.target.value)}/>\n            <Box p={1} />\n            <Typography>How do you visualize it?</Typography>\n            <div>\n                <input type=\"file\" onChange={(e)=>setSocialFile(e.target.files[0])} />\n                <img src={socialFile ? URL.createObjectURL(socialFile) :\n                ((socialURL===\"\") ? \"https://via.placeholder.com/400x300\": socialURL)}\n                alt=\"Uploaded Images\"\n                height=\"200\"\n                width=\"200\"/>            </div>\n        </TabPanel>\n        <AppBar position=\"absolute\" color=\"secondary\" className={classes.appBar}>\n            <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                <Tab icon={<DirectionsRunIcon />} {...a11yProps(0)} />\n                <Tab icon={<EuroIcon />} {...a11yProps(1)} />\n                <Tab icon={<GroupIcon />} {...a11yProps(2)} />\n            </Tabs>\n        </AppBar>\n\n        {/* <Button variant=\"contained\" color=\"primary\" className={classes.cancelButton} onClick={close}>Cancel</Button> */}\n\n        <Box p={1} />\n        <Button variant=\"contained\" color=\"primary\" className={classes.addButton} onClick={add}>Done</Button>\n        <Button variant=\"contained\" color=\"primary\" className={classes.cancelButton} onClick={close}>Cancel</Button>\n        <Box p={1} />\n\n    </>\n    }\n    </div>\n\n  );\n}\nexport default withRouter(ManageVision);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Styles.css\";\n\nconst YoutubeEmbed = ({ embedId }) => (\n  <div width=\"100%\">\n    <iframe\n      width=\"100%\"\n      //height=\"200\"\n      src={`https://www.youtube.com/embed/${embedId}`}\n      frameBorder=\"0\"\n      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n      allowFullScreen\n      title=\"Embedded youtube\"\n    />\n  </div>\n);\n\nYoutubeEmbed.propTypes = {\n  embedId: PropTypes.string.isRequired\n};\n\nexport default YoutubeEmbed;","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport Quantitative from './Quantitative';\n\n\nconst visionboardDefaultPlaceholder = 'https://www.emetabolic.com/media/pcon/vision-board-mrc-socialmedia-2089.jpg';\nconst minYear = 2021;\nconst maxYear = 2050;\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    position: 'relative',\n  },\n  yearField: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  yearLabel: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  addButton: {\n    bottom: theme.spacing(2),\n    right: theme.spacing(0),\n    position: 'absolute',\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n  paper: {\n    margin: theme.spacing(1),\n    justify : \"center\",\n  },\n  sliderLimit: {\n    margin: theme.spacing(2),\n    top: theme.spacing(4),\n  },\n  sliderLabel: {\n    left: theme.spacing(5),\n  },\n  save: {\n    justify: 'center'\n    },\n  header:{\n      alignItems: 'center',\n      background : '#ff8a65'\n  },\n  headerDetails:{\n    alignItems: 'center',\n    background : '#ff7043'\n},\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n      'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n  },\n\n}));\n\nconst VisionBoard = props => {\n\n  const classes = useStyles();\n\n  const { currentUser } = useContext(AuthContext);\n\n  //db ref\n  const visions_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid).collection(\"visions\"); \n  const expectedMetrics_ref=firebase.firestore().collection(\"ExpectedMetrics\");\n\n  // which tab to show \n  const [tabValue,setTabValue]=useState(0);\n\n  const [topics,setTopics]=useState([]);\n  const [visions,setVisions]=useState([]);\n//  const [visionDesc,setVisionDesc]=useState(\"\");\n//  const [uploadedFile,setUploadedFile] = useState(null);\n  const [images,setImages]=useState([]);\n  const [selectedTopic,setSelectedTopic]=useState(\"\");\n//  const [selectedURL,setSelectedURL]=useState(\"\");\n\n  const [selectedVision,setSelectedVision]=useState(null);\n  const [selectedYear,setSelectedYear]=useState(0);\n  const [newYear,setNewYear]=useState(minYear);\n  const [sliderYears,setSliderYears]=useState([]);\n  const [selectedMetrics,setSelectedMetrics]=useState([]);\n\n//loading semaphors  \n  const [loadingPix, setLoadingPix] = useState(false);\n  const [loading, setLoading] = useState(false);\n  \n//dialog variables  \n  const [openYearDialog,setOpenYearDialog]=useState(false);\n\n  const [showC2,setShowC2]=useState(true);\n\n  useEffect(() => {\n    fetchAllDB();\n  }, []);\n\n/*   function changeInTopic(){\n\n    resetView();\n\n    fetchSelectedVisionDB(selectedYear);\n    fetchImagesDB(selectedYear);\n    fetchExpectedMetricsDB(selectedYear);\n\n  } */\n  function refreshAfterYearDeletion(){\n    setSelectedYear(0)\n    fetchYearsDB()\n    setSelectedTopic(\"\");\n    setImages([]);\n  }\n  const existSuchYear=(year)=>{\n\n    for (let index = 0; index < visions.length; index++) {\n      if(visions[index].id===year) return true;\n    }\n    return false;\n  }\n\n  ////////////////View////////////////\n  const fetchTopicsDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref=firebase.firestore().collection(\"Topics\");\n          const data=await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n//            console.log(item);\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchSelectedVisionDB=async(year)=>{\n    try {\n          console.log(\"fetch vision started of year \", typeof year, year);\n          visions_ref.doc(year).get().then((item)=>{\n              setSelectedVision({id:item.id,...item.data()});\n              console.log(\"selectedVision successfully fetched: \"+item);\n            });\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchExpectedMetricsDB=async(year)=>{\n\n          console.log(\"fetch metrics started of year \", typeof year, year);\n          expectedMetrics_ref.where(\"year\", \"==\", year)\n          .where(\"userID\",\"==\",currentUser.uid).get()\n          .then((querySnapshot) => {\n            var items=[];\n            querySnapshot.forEach((item) => {\n              items.push({id:item.id,...item.data()});\n              console.log(\"selectedMetric successfully fetched: \"+item);\n            });\n            setSelectedMetrics(items);\n          })\n          .catch((err)=>{\n          console.log(err);\n        });\n  } \n  const fetchYearsDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          const data=await visions_ref.get();\n//          console.log(data);\n          const yrs=[];\n          const items = [];\n          data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items);\n//          console.log(item);\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const getPhotosDB=async(res)=>{\n    \n    var items = [];\n    for (let index = 0; index < topics.length; index++) {\n      const photo = {key:index,alt:topics[index].id,src:topics[index].placeholder,width:1,height:1};\n      items.push(photo);\n    }\n\n    try {\n\n        const promises = res.items.map((itemRef)=> getImageURLDB(itemRef));\n\n        const urls = await Promise.all(promises);\n        console.log(\"urls \" + urls);\n\n        await urls.forEach((x)=>{\n          for (let index = 0; index < topics.length; index++) {\n            if(topics[index].id===x.alt)\n            {\n              items[index]=x;\n              console.log(\"index: \"+items[index]);\n            }\n            console.log(\"item \" + items[index].src);\n          }\n        });\n\n    } catch (error) {\n        console.log(error);\n    }\n    return items;\n  }\n  const getImageURLDB=async(itemRef)=>{\n\n      var metadata = await itemRef.getMetadata();\n      var name = await metadata.name;\n      console.log(name);\n          \n      var photo =  {src:\"\",alt:name,width:1,height:1};\n      photo.src = await itemRef.getDownloadURL();\n      return photo;\n  }\n  const deleteVisionDB=(year)=>{\n    visions_ref.doc(year).delete().then(() => {\n      console.log(year,\" successfully deleted!\");\n      deleteImagesDB(year);\n      \n      }).catch((error) => {\n          console.error(\"Error removing document: \", error);\n      });\n  }\n  function deleteImagesDB(year){\n    var ref = storage.ref(`/images/${currentUser.uid}/${year}`);\n    ref.listAll()\n      .then((res) => {\n      res.items.forEach((itemRef) => {\n        itemRef.delete().then(() => {\n          console.log(\"File deleted successfully\");\n          setSelectedVision(null);\n          setSelectedYear(0);\n        }).catch((error) => {\n          // Uh-oh, an error occurred!\n          console.log(error);\n        });\n      });\n    }).catch((error) => {\n      // Uh-oh, an error occurred!\n      console.log(error);\n    });\n  \n  }\n  const fetchImagesDB=async(year)=>{\n\n    console.log(\"fetch images started\");\n    setLoadingPix(true);\n\n    // Create a reference under which you want to list\n    var listRef = storage.ref().child(`/images/${currentUser.uid}/${year}`);\n    console.log(\"year: \"+year);\n    console.log(listRef);\n\n    var res = await listRef.listAll();\n    var items = await getPhotosDB(res);\n    await setImages(items);\n    await setLoadingPix(false);\n    console.log(\"ended 1\");\n    console.log(\"ended 2\");\n\n  }\n  function fetchAllDB()\n  {\n    setLoading(true);\n    fetchTopicsDB();\n    fetchYearsDB();\n    fetchImagesDB(selectedYear);\n    setLoading(false);\n  }\n  const storeNewYearDB = async()=>\n  {\n    try {\n     var item = {}\n    for (let index = 0; index < topics.length; index++) {\n      item[topics[index].id] = \"\";\n//      item[topics[index].id+\"metrics\"] = null;\n      console.log(\"this topic created \", topics[index]);\n    } \n\n        console.log(\"add vision started\", item);\n        visions_ref.doc(newYear).set(item);\n\n    }catch(err){\n        console.log(err);\n      }    \n  }\n\n////////////////View////////////////\n\n\n/*   function resetView(){\n        //reset selected topic in gallery\n        setSelectedTopic(\"\");\n//        setSelectedURL(\"\");\n    \n        // reset topic info\n//        setVisionDesc(\"\");\n//        setUploadedFile(null);\n    \n        setImages([]);\n  } */\n  const yearClickView=(data)=>{\n    \n      console.log(data);\n\n      var year = data.id;\n      console.log(\"year click started\");\n\n      afterYearChangeView(year);\n\n      console.log(\"year click ended\");\n\n\n  }\n  function afterYearChangeView(year){\n\n    setSelectedYear(year);\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  function afterYearAddedView(year){\n\n    setSelectedYear(year);\n    fetchYearsDB()\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  const closeYearDialogView = () => {\n    setOpenYearDialog(false);\n  };\n\n  function galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n //   setSelectedURL(event.target.src);\n\n    console.log(\"selected topic: \" + event.target.alt);\n\n    console.log(\"vision:\"+selectedVision);\n\n    console.log(\"vision topic desc:\"+selectedVision[event.target.alt]);\n\n    if((typeof selectedVision[event.target.alt])==='undefined')\n    {\n      console.log(\"undefined catcher\");\n//      setVisionDesc(\"\");\n    } else {\n      console.log(\"yes desc exists\");\n//      setVisionDesc(selectedVision[event.target.alt]);\n//      fetchExpectedMetrics(selectedYear);\n    }\n  \n  }\n  function negateChipView(){\n    if(window.confirm(\"You are deleting the vision of \" + selectedYear + \".\\n Are you sure to continue?\",))\n    {\n        deleteVisionDB(selectedYear);\n        refreshAfterYearDeletion();\n    }\n  }\n  function plusChipView()\n  {\n    setOpenYearDialog(true);\n  }\n  const yearDialogTextView = (event) => {\n   setNewYear(event.target.value);\n//   console.log(event.target.value);\n  };\n  function goDialogView(){\n      if(existSuchYear(newYear)) \n          alert(\"You already started envisioning this year.\");\n      else {\n        storeNewYearDB();\n        closeYearDialogView();\n        afterYearAddedView(newYear);\n        //refreshAfterYearDeletion(newYear);\n      }\n\n  }\n  const sliderChangeView = (event,val) => {\n    console.log(\"event.target.value\",val);\n    afterYearChangeView(val+'');\n    \n  };\n  const tabChangeView = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  const C2 = () => (\n    <div id=\"c1\">\n          <Paper  className={classes.paper}>\n          <AppBar p={1} position=\"static\"  className={classes.header}>   \n                <Typography p={1} >Vision Board </Typography>                  \n            </AppBar>\n          {   loadingPix ? <CircularProgress /> :\n              (images.length===0 ? \n               <Gallery photos={[{src:visionboardDefaultPlaceholder,alt:\"Click on a year above\"}]}\n               direction={\"column\"} columns={1} \n               onClick={()=>alert(\"Click on a year above\")}/>  :\n              <div>\n{/*                   <Gallery photos={images} direction={\"column\"} columns={2} onClick={galleryClickView}/>\n */} \n               <div id=\"gallery-placeholder\">\n                <GridList cellHeight={160} className={classes.gridList} cols={2} autoFocus>\n                    {images.map((image) => (\n                    <GridListTile key={image.key} cols={1}>\n                      <img src={image.src} alt={image.alt}\n                       onClick={galleryClickView}\n                       style={selectedTopic===image.alt ? {border: '5px solid #021a40' }: {}}\n                      />\n                      <GridListTileBar\n                        title={image.alt}\n                        titlePosition=\"bottom\"\n                        actionPosition=\"left\"\n                        className={classes.titleBar}\n                      />\n                    </GridListTile>\n                  ))}\n                </GridList>\n              </div> \n                  {\n                  selectedTopic===\"\" ? <Typography>Click on images for details</Typography> :\n                  <div id=\"details\"  m={1}>\n<br/>\n\n                        <AppBar  position=\"static\" className={classes.headerDetails}>  \n                        <Typography> {\"<<\"} {selectedTopic} in {selectedVision.id} {\">>\"} </Typography>                        \n                        <Tabs\n                              value={tabValue}\n                              onChange={tabChangeView}\n                              variant=\"fullWidth\"\n                              indicatorColor=\"secondary\"\n                              textColor=\"default\"\n                              aria-label=\"icon label tabs example\"\n                            >\n                              <Tab icon={<Photo />}  {...a11yProps(0)} />\n                              <Tab icon={<Edit />} {...a11yProps(1)} />\n                              <Tab icon={<DirectionsRun />} {...a11yProps(2)} />\n                            </Tabs>\n                        </AppBar>\n                        <TabPanel value={tabValue} index={0}>\n                            <Visual year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n                        </TabPanel>\n                        <TabPanel value={tabValue} index={1}>\n                            <Textual year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n\n                        </TabPanel>\n                        <TabPanel value={tabValue} index={2}>\n                            <Quantitative year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n    \n                        </TabPanel>\n\n                      <div>\n                      </div>               \n\n                  </div>}\n              </div>)\n          }\n          </Paper>\n  \n    </div>\n  )\n\n  return (\n    <div className={classes.root}>\n\n        {loading ? <CircularProgress justify=\"center\"/> :\n\n            <Paper  id=\"year-paper\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >TimeLine </Typography>                  \n            </AppBar>\n\n              {visions.length===0 ? console.log(\"no vision yet\",visions.length ) :\n              <div className={classes.sliderLimit}>\n                <br/>\n                <br/>\n                <Slider className={classes.slider}\n                  value={selectedYear}\n                  //getAriaValueText={valuetext}\n                  aria-labelledby=\"discrete-slider\"\n                  valueLabelDisplay=\"on\"\n                  step={null}\n                  marks={sliderYears}\n                  min={minYear}\n                  max={maxYear}\n                  onChange={(e,v)=>sliderChangeView(e,v)} \n                />\n            </div> \n            }\n            {\n              visions.map((data,index) => {\n              return (\n                  <Chip\n                    color = {(data.id===selectedYear ? 'primary' : 'default')}\n                    id ={index}\n                    label={data.id}\n                    onClick={(e)=>yearClickView(data)}\n                    className={classes.chip}\n                  />\n              );\n            })}\n\n              <Chip\n              id ={visions.length}\n              label={'+'}\n              onClick={plusChipView}\n              className={classes.chip}\n              />\n\n              <Dialog open={openYearDialog} onClose={closeYearDialogView} aria-labelledby=\"form-dialog-title\">\n              <DialogTitle id=\"form-dialog-title\">Year</DialogTitle>\n              <DialogContent>\n              <TextField\n                autoFocus\n                onChange={(event)=>yearDialogTextView(event)}\n                margin=\"dense\"\n                id=\"newYear\"\n                label=\"year\"\n                type=\"number\"\n              />\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={closeYearDialogView} color=\"primary\">\n                  Cancel\n                </Button>\n                <Button onClick={goDialogView} color=\"primary\">\n                  Go\n                </Button>\n              </DialogActions>\n              </Dialog>\n    \n              {selectedYear===0 ? console.log(\"negateChip not shown\") :\n                <Chip\n                id ={visions.length+1}\n                label={'-'}\n                onClick={negateChipView}\n                className={classes.chip}\n                color = 'secondary'\n                />}\n            </Paper>\n        }\n        { showC2 ? <C2 /> : null }\n\n    </div>\n      );\n}\nexport default withRouter(VisionBoard);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer,PDFDownloadLink } from '@react-pdf/renderer';\nimport ReactPDF from '@react-pdf/renderer';\n\nimport { withRouter } from 'react-router-dom';\n\nimport { Document, Page, Text, View,Image, StyleSheet } from '@react-pdf/renderer';\nimport { Button, CircularProgress, Fab, Icon, IconButton, Typography } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport { PictureAsPdf, PictureAsPdfOutlined, PictureAsPdfRounded, PictureAsPdfSharp } from '@material-ui/icons';\n\n// Create styles\nconst stylesXX = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  sectionOdd: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1,\n    backgroundColor: '#ccff33'\n  },\n  sectionEven: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1,\n    backgroundColor: '#ffccff'\n  },\n  button:{\n    textDecoration:'none'\n  }\n});\n\nconst styles = StyleSheet.create({\n    page: {\n        backgroundColor: \"#ffffff\"\n    },\n    section: {\n        margin: 10,\n        padding: 10\n    },\n    sectionOdd: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1,\n        backgroundColor: '#ccff33'\n      },\n    sectionEven: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1,\n        backgroundColor: '#ffccff'\n      },    \n    header: {\n        backgroundColor: \"#f6f6f5\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        padding: 5\n    },\n    topicContainer: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginLeft: 5\n    },\n    overviewContainer: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        //justifyContent: \"center\",\n        marginLeft: 5\n    },    \n    title: {\n        fontSize: 20,\n        marginBottom: 10,\n        fontweight: \"bold\"\n    },\n    overview: {\n        fontSize: 14\n    },\n\n    image: {\n        height: 200,\n        width: 200\n    },\n    subtitle: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        flexDirection: \"row\",\n        width: 150,\n        alignItems: \"center\",\n        marginBottom: 12\n    },\n    vote: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    rating: {\n        height: 10,\n        width: 10\n    },\n    vote_text: {\n        fontSize: 10\n    },\n    vote_pop: {\n        fontSize: 10,\n        padding: 2,\n        backgroundColor: \"#61C74F\",\n        color: \"#fff\"\n    },\n    vote_pop_text: {\n        fontSize: 10,\n        marginLeft: 4\n    },\n    detailsFooter: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    lang: {\n        fontSize: 8,\n        fontWeight: 700\n    },\n    vote_average: {\n        fontSize: 8,\n        marginLeft: 4,\n        fontWeight: \"bold\"\n    },\n    body: {\n        padding: 10\n      },\n    table: { \n        display: \"table\", \n        width: \"auto\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderWidth: 1, \n        borderRightWidth: 0, \n        borderBottomWidth: 0 \n      }, \n      tableRow: { \n        margin: \"auto\", \n        flexDirection: \"row\" \n      }, \n      tableColHeader: { \n        width: \"25%\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderBottomColor: '#000',\n        borderWidth: 1, \n        borderLeftWidth: 0, \n        borderTopWidth: 0\n      },   \n      tableCol: { \n        width: \"25%\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderWidth: 1, \n        borderLeftWidth: 0, \n        borderTopWidth: 0 \n      }, \n      tableCellHeader: {\n        margin: \"auto\", \n        margin: 5, \n        fontSize: 12,\n        fontWeight: 500\n      },  \n      tableCell: { \n        margin: \"auto\", \n        margin: 5, \n        fontSize: 10 \n      }\n  \n});\n\n\n\nexport default function VisionPDF(props)\n{\n\n//    const {year,topics,images,descs,metrics} = props;\nconst {year,vision} = props;\n\nconst D = () => (\n    <Document>\n      <Page style={styles.body}>\n        <View style={styles.table}> \n          <View style={styles.tableRow}> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Product</Text> \n            </View> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Type</Text> \n            </View> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Period</Text> \n            </View> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Price</Text> \n            </View> \n          </View>\n          <View style={styles.tableRow}> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>React-PDF</Text> \n            </View> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>3</Text> \n            </View> \n            <View style={styles.tableCol}>\n              <Text style={styles.tableCell}>2019-02-20 - 2020-02-19</Text> \n            </View>\n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>5€</Text> \n            </View> \n          </View> \n          <View style={styles.tableRow}> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>Another row</Text> \n            </View> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>Capítulo I: Que trata de la condición y ejercicio del famoso hidalgo D.\n          Quijote de la Mancha</Text> \n            </View> \n            <View style={styles.tableCol}>\n              <Text style={styles.tableCell}>2019-05-20 - 2020-07-19</Text> \n            </View>\n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>25€</Text> \n            </View> \n          </View>        \n        </View>\n      </Page>\n    </Document>\n  );\n\n  const PicMosaic = () =>\n  (\n    <View style={styles.table}> \n        <View style={styles.tableRow}> \n            {vision&&\n                vision.map((item,index) => {\n                    return (\n                            <View key={index} style={styles.tableColHeader}> \n                                <Image  style={styles.body}  source={item.image}/> \n                            </View> \n                    )\n                })\n            }\n        </View>\n    </View>\n\n  )\n\n    const VisionAsPDF = () => (\n\n            <Document>\n                <Page style={styles.page}>\n\n                    <View style={styles.header}>\n                        <Text style={styles.title}> Vision Board for {year}</Text>\n                    </View>\n\n                    <PicMosaic />\n\n                    {vision\n                        ? vision.map((item, index) => {\n                                return (\n                                    <View style={index%2===1 ? styles.sectionOdd : styles.sectionEven}>\n                                        <View key={\"text\"+index} style={styles.topicContainer}>\n                                            <Text style={styles.title}>{(index+1)+\". \"+item.topic}</Text>\n                                        </View>\n                                        <View key={\"image\"+index} style={styles.overviewContainer}>\n                                            <Image\n                                                style={styles.image}\n                                                source={item.image}\n                                            /> \n                                            <View style={styles.overviewContainer}>\n                                                <Text style={styles.overview}>Description: {item.desc}</Text>\n                                            </View>\n                                        </View>\n                                    </View>\n                                );\n                            })\n                        : null\n                    }\n                </Page>\n            </Document>\n       \n/*         <Document>\n            <Page size=\"A4\" style={styles.page}>\n            <View style={styles.section}>\n                <Text>Section #1</Text>\n            </View>\n            <View style={styles.section}>\n                <Text>Section #2</Text>\n            </View>\n            </Page>\n\n        </Document> */\n);\n\n    return(\n\n             <PDFDownloadLink document={<VisionAsPDF />} style={styles.button} fileName=\"myvision.pdf\">\n                {({ blob, url, loading, error }) =>\n                    loading ? <CircularProgress /> :           \n                            <IconButton style={{border: \"2px solid white\"}}><PictureAsPdf style={{color:\"white\"}}/></IconButton>\n                }\n            </PDFDownloadLink> \n    );\n}\n\n","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, FormLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Radio, RadioGroup, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add, PhotoAlbum, PhotoAlbumRounded, PhotoAlbumOutlined, PhotoAlbumTwoTone, FormatUnderlined } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport Quantitative from './Quantitative';\nimport { blue } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport Calendar from 'react-calendar';\nimport VisionPDF from './VisionPDF';\n\n\nconst visionboardDefaultPlaceholder = 'https://www.emetabolic.com/media/pcon/vision-board-mrc-socialmedia-2089.jpg';\nconst minYear = new Date().getFullYear();\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    position: 'relative',\n  },\n  yearField: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  yearLabel: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  addButton: {\n    bottom: theme.spacing(2),\n    right: theme.spacing(0),\n    position: 'absolute',\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n  paper: {\n    margin: theme.spacing(1),\n    justify : \"center\",\n  },\n  sliderLimit: {\n    margin: theme.spacing(3),\n    top: theme.spacing(4),\n  },\n  sliderLabel: {\n    left: theme.spacing(5),\n  },\n  save: {\n    justify: 'center'\n    },\n  header:{\n      alignItems: 'center',\n      background : '#ff8a65'\n  },\n  headerDetails:{\n    alignItems: 'center',\n    background : '#ff7043'\n},\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n      'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n  },\n  titleBarSelected: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n      'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    fontWeight:\"bold\"\n    \n  },\n  goButton: {\n    background : blue[800],\n    color : \"white\"\n  },\n  browseIcon:{\n    color : \"white\"\n},  \n\n}));\n\nconst Vision = props => {\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const { currentUser } = useContext(AuthContext);\n  const location  = useLocation();\n  const maxYear = location.state.maxYear;\n\n  console.log(\"maxYear =\" , maxYear);\n\n\n  //db ref\n   const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid);\n\n  const expectedMetrics_ref=firebase.firestore().collection(\"ExpectedMetrics\");\n\n  const [topics,setTopics]=useState([]);\n  const [visions,setVisions]=useState([]);\n//  const [visionDesc,setVisionDesc]=useState(\"\");\n//  const [uploadedFile,setUploadedFile] = useState(null);\n  const [images,setImages]=useState([]);\n  const [selectedTopic,setSelectedTopic]=useState(\"\");\n//  const [selectedURL,setSelectedURL]=useState(\"\");\n\n  const [selectedVision,setSelectedVision]=useState(null);\n  const [selectedYear,setSelectedYear]=useState(0);\n  const [newYear,setNewYear]=useState(minYear);\n  const [sliderYears,setSliderYears]=useState([]);\n  const [selectedMetrics,setSelectedMetrics]=useState([]);\n\n//loading semaphors  \n  const [loadingPix, setLoadingPix] = useState(false);\n  const [loading, setLoading] = useState(false);\n  \n//dialog variables  \n  const [openYearDialog,setOpenYearDialog]=useState(false);\n\n  const [showC2,setShowC2]=useState(true);\n\n\n  useEffect(() => {\n    fetchAllDB();\n\n    return () => {\n      if (history.action === \"POP\") {\n          // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n              console.log(\"------ profile ------- after -----\");\n              console.log(\"------ location -----\",history.location.pathname);\n              window.location.replace(\"/\");\n          }\n     }\n  },[]);\n\n/*   function changeInTopic(){\n\n    resetView();\n\n    fetchSelectedVisionDB(selectedYear);\n    fetchImagesDB(selectedYear);\n    fetchExpectedMetricsDB(selectedYear);\n\n  } */\n  function refreshAfterYearDeletion(){\n    setSelectedYear(0)\n    //fetchYearsDB()\n    setSelectedTopic(\"\");\n    setImages([]);\n  }\n  const existSuchYear=(year)=>{\n\n    for (let index = 0; index < visions.length; index++) {\n      if(visions[index].id===year) return true;\n    }\n    return false;\n  }\n\n  ////////////////View////////////////\n  const fetchTopicsDB = async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref = firebase.firestore().collection(\"Topics\");\n          const data = await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n            console.log(\"fetching topics success ended:\", items);\n\n            return items;\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchSelectedVisionDB=async()=>{\n    \n    try {\n          //console.log(\"fetch vision started of year \", typeof year, year);\n\n          var doc = await user_ref.get();\n          if(doc===undefined) return null;\n          else{\n              var item = {id:doc.id,...doc.data()};\n              setSelectedVision(item);\n              console.log(\"selectedVision successfully fetched: \"+doc.data().finance);\n              return item;\n          }\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchExpectedMetricsDB=async(year)=>{\n\n          console.log(\"fetch metrics started of year \", typeof year, year);\n          expectedMetrics_ref.where(\"year\", \"==\", year)\n          .where(\"userID\",\"==\",currentUser.uid).get()\n          .then((querySnapshot) => {\n            var items=[];\n            querySnapshot.forEach((item) => {\n              items.push({id:item.id,...item.data()});\n              console.log(\"selectedMetric successfully fetched: \"+item);\n            });\n            setSelectedMetrics(items);\n          })\n          .catch((err)=>{\n          console.log(err);\n        });\n  } \n/*   const fetchYearsDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          const data=await visions_ref.get();\n//          console.log(data);\n          const yrs=[];\n          const items = [];\n          data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              if(maxYear<item.id) setFinalYear(item.id);\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items);\n          console.log(items);\n        }catch(err){\n          console.log(err);\n        }\n  }  */\n  const getPhotosDB=async(res,placeholders)=>{\n    var items = placeholders;\n\n    try {\n\n        const promises = res.items.map((itemRef)=> getImageURLDB(itemRef));\n        console.log(\"promises are produced. number of promises=\", promises.length);\n\n        if(promises.length===0) return placeholders;\n      \n        const urls = await Promise.all(promises);\n        console.log(\"urls \" + urls + urls.length);\n\n        urls.forEach((x)=>{\n          for (let index = 0; index < topics.length; index++) {\n            if(topics[index].id===x.alt)\n            {\n              items[index]=x;\n              console.log(\"index: \"+items[index]);\n            }\n            console.log(\"item \" + items[index].src);\n          }\n        });\n\n    } catch (error) {\n        console.log(error);\n    }\n    return items;\n  }\n  const getImageURLDB=async(itemRef)=>{\n\n      var metadata = await itemRef.getMetadata();\n      var name = await metadata.name;\n      console.log(name);\n          \n      var photo =  {src:\"\",alt:name,width:1,height:1};\n      photo.src = await itemRef.getDownloadURL();\n      return photo;\n  }\n/*   const deleteVisionDB=(year)=>{\n    visions_ref.doc(year).delete().then(() => {\n      console.log(year,\" successfully deleted!\");\n      deleteImagesDB(year);\n      \n      }).catch((error) => {\n          console.error(\"Error removing document: \", error);\n      });\n  } */\n/*   function deleteImagesDB(year){\n    var ref = storage.ref(`/images/${currentUser.uid}/${year}`);\n    ref.listAll()\n      .then((res) => {\n      res.items.forEach((itemRef) => {\n        itemRef.delete().then(() => {\n          console.log(\"File deleted successfully\");\n          setSelectedVision(null);\n          setSelectedYear(0);\n        }).catch((error) => {\n          // Uh-oh, an error occurred!\n          console.log(error);\n        });\n      });\n    }).catch((error) => {\n      // Uh-oh, an error occurred!\n      console.log(error);\n    });\n  \n  } */\n\n\n  function initiateImages(topics_quick,vision){\n    var items = [];\n    for (let index = 0; index < topics_quick.length; index++) {\n      \n        const photo = {\n                          key:index,\n                          alt:topics_quick[index].id,\n                          src:vision[topics_quick[index].id+\"-url\"],\n                          width:1,\n                          height:1\n        };\n        items.push(photo);\n        console.log(\"photo: \",photo);\n    }\n    console.log(\"placeholders added to images: \",items);\n\n    return items;\n  }\n\n  function addImagePlaceholders2VisionXX(topics_quick,vision_quick){\n    var item = vision_quick;\n    for (let index = 0; index < topics_quick.length; index++) {\n        var key = topics_quick[index].id+\"-url\";\n        \n        item[key] = topics_quick[index].placeholder;\n        console.log(\"vision_quick\",item[key]);\n    }\n    return item;\n\n  }\n\n  function initiateImagesByPlaceholdersX(topics_quick){\n    var items = [];\n    for (let index = 0; index < topics_quick.length; index++) {\n      \n        const photo = {\n                          key:index,\n                          alt:topics_quick[index].id,\n                          src:topics_quick[index].placeholder,\n                          width:1,\n                          height:1\n        };\n        items.push(photo);\n        console.log(\"photo: \",photo);\n    }\n    console.log(\"placeholders added to images: \",items);\n\n    return items;\n  }\n  const fetchImagesDB=async(placeholders)=>{\n  }\n\n\n  const fetchImageStorage=async(placeholders)=>{\n\n    var year = maxYear;\n    console.log(\"fetch images started\");\n    setLoadingPix(true);\n\n    // Create a reference under which you want to list\n    var listRef = storage.ref().child(`/images/${currentUser.uid}/${year}`);\n    console.log(\"year: \"+year);\n    console.log(\"about to get image list: \",listRef);\n\n    var res = await listRef.listAll();\n    console.log(\"res of image loading :\", res);\n    var items = await getPhotosDB(res,placeholders);\n    await setImages(items);\n    await setLoadingPix(false);\n    await console.log(\"loading images ended. images: \", items);\n  }\n  const fetchAllDB = async() =>\n  {\n    setLoading(true);\n    var vision = await fetchSelectedVisionDB();\n    console.log(\"vision\", vision);\n    var tpcs = await fetchTopicsDB();\n    console.log(\"items\", tpcs);\n\n    var photos = await initiateImages(tpcs,vision);\n    setImages(photos);\n    //should be changed to milestones instead of years\n    //fetchYearsDB();\n    //fetchSelectedVisionDB(maxYear);\n    \n    //fetchImagesDB(photos);\n    setLoading(false);\n  }\n/*   const storeNewYearDB = async(year)=>\n  {\n    try {\n     var item = {}\n    for (let index = 0; index < topics.length; index++) {\n      item[topics[index].id] = \"\";\n//      item[topics[index].id+\"metrics\"] = null;\n      console.log(\"this topic added \", topics[index]);\n    } \n\n        console.log(\"add vision started\", item);\n\n        var yearString = year+\"\";\n        visions_ref.doc(yearString).set(item).then(()=>{\n          console.log(\"vision created:\", yearString);\n        });\n\n    }catch(err){\n        console.log(\"storeNewYearDB failed:\",err);\n      }    \n  } */\n\n////////////////View////////////////\n\n\n/*   function resetView(){\n        //reset selected topic in gallery\n        setSelectedTopic(\"\");\n//        setSelectedURL(\"\");\n    \n        // reset topic info\n//        setVisionDesc(\"\");\n//        setUploadedFile(null);\n    \n        setImages([]);\n  } */\n/*   const yearClickView=(data)=>{\n    \n      console.log(data);\n\n      var year = data.id;\n      console.log(\"year click started\");\n\n      afterYearChangeView(year);\n\n      console.log(\"year click ended\");\n\n\n  }\n  function afterYearChangeView(year){\n\n    setSelectedYear(year);\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  function afterYearAddedView(year){\n\n    setSelectedYear(year);\n    //fetchYearsDB()\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  const closeYearDialogView = () => {\n    setOpenYearDialog(false);\n  }; */\n\n  function galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n //   setSelectedURL(event.target.src);\n\n    console.log(\"selected topic: \" + event.target.alt);\n\n\n    console.log(\"vision:\"+selectedVision);\n\n    console.log(\"vision topic desc:\"+selectedVision[event.target.alt]);\n\n    if((typeof selectedVision[event.target.alt])==='undefined')\n    {\n      console.log(\"undefined catcher\");\n//      setVisionDesc(\"\");\n    } else {\n      console.log(\"yes desc exists\");\n//      setVisionDesc(selectedVision[event.target.alt]);\n//      fetchExpectedMetrics(selectedYear);\n    }\n  \n  }\n/*   function negateChipView(){\n    if(window.confirm(\"You are deleting the vision of \" + selectedYear + \".\\n Are you sure to continue?\",))\n    {\n        deleteVisionDB(selectedYear);\n        refreshAfterYearDeletion();\n    }\n  }\n  function plusChipView()\n  {\n    setOpenYearDialog(true);\n  } */\n/*   const yearDialogTextView = (value) => {\n      setNewYear(value.getFullYear());\n       // console.log(\"yearDialogTextView  \",value);\n      console.log(\"yearDialogTextView value \" , value.getFullYear());\n  };\n  function goDialogView(){\n      if(existSuchYear(newYear))\n          alert(\"You already started envisioning this year.\");\n      else {\n        storeNewYearDB(newYear);\n        closeYearDialogView();\n        afterYearAddedView(newYear);\n        //refreshAfterYearDeletion(newYear);\n      }\n\n  } */\n/*   const sliderChangeView = (event,val) => {\n    console.log(\"event.target.value\",val);\n    afterYearChangeView(val+'');\n    \n  }; */\n\n  const  browseImage = async(event)=>{\n\n      var topic = event.target.id;\n      var file = event.target.files[0];\n\n      if(file===null) return;\n\n      if(window.confirm(\"Are you sure to change the picture?\"))\n      {\n          setLoadingPix(true);\n          var url = await storeImageDB(file,topic,currentUser.uid,maxYear);\n          await updateImageURLDB(topic,url);\n          var temp=images;\n          var index = getIndex(temp,topic)\n          temp[index].src=url;\n          setImages(temp);\n          setLoadingPix(false);\n          console.log(\"temp\",temp);\n          console.log(\"index\",index);\n          console.log(\"images\",images);\n\n      }\n\n  }\n\n  function getIndex(array,name){\n    for (let index = 0; index < array.length; index++) {\n      if(array[index].alt===name)\n      {\n        return index;\n      }\n    }\n  }\n\nconst updateImageURLDB=async(topic,url)=>{\n  try {\n          var key = topic+\"-url\";\n          console.log(\"update vision started :\", key,url);\n          user_ref.update({[key]:url},{merge:true}).then(()=>{\n                  console.log(\"image url is updated\", key, url);\n                  return true;\n              });\n\n      }catch(err){\n      console.log(err);\n      }\n} \n\n   const storeImageDB = async(file,topic,userID,year) => {\n    console.log(\"image file name: \" + file);\n    if(file){\n    const uploadTask = await storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n\n    var url = await storage.ref(`/images/${userID}/${year}`).child(topic).getDownloadURL();\n    console.log(\"url\", url);\n    return url;\n  }}\n\n  function Timeline(){\n    return(\n  \n      loading ? <CircularProgress justify=\"center\"/> \n         :\n            <StyledPaper message=\"Timeline\">\n  \n  {/*               <YearsSlider />\n  \n                <YearsChips />\n  \n                {(fixed_milestones \n                    ?   null\n                    :\n                    <>\n                        <AddYearChip />\n                        \n                        <ChooseDateDialog />\n  \n                        {\n                            selectedYear===0 \n                            ? console.log(\"negateChip not shown\") \n                            : <RemoveYearChip />\n                        }\n                    </>\n                )}\n   */}\n            </StyledPaper>\n      \n      );}\n\n  const TopicsGallery = () =>\n  (\n    <div id=\"gallery-placeholder\">\n        <GridList cellHeight={150} className={classes.gridList} cols={2} autoFocus>\n            {images.map((image) => (\n            <GridListTile key={image.key} cols={1}>\n              <img src={image.src} alt={image.alt}\n              onClick={galleryClickView}\n              style={selectedTopic===image.alt ? {border: '1px solid #021a40' }: {}}\n              />\n              <GridListTileBar\n                title={image.alt.toUpperCase()}\n                titlePosition=\"bottom\"\n                actionPosition=\"right\"\n                //className={classes.titleBar}\n                className={selectedTopic===image.alt ? classes.titleBarSelected : classes.titleBar}\n                actionIcon={\n                    <div class=\"image-upload\">\n                        <label for={image.alt}>\n                          <PhotoAlbum className={classes.browseIcon} />\n                        </label>\n                        <input id={image.alt} type=\"file\" style={{display: \"none\"}}\n                          onChange={(e)=>browseImage(e)}/>\n                    </div>\n                }\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n    </div> \n  )\n\n  const Details = () =>\n  (\n    <div id=\"details\">\n        <br/>\n{/*         <StyledPaper message={\"Visual \" + selectedTopic}>\n              <Visual year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n        </StyledPaper> */}\n        <StyledPaper  message={selectedTopic.toUpperCase() + \" in words\"}>\n              <Textual year={selectedYear} topic={selectedTopic} user_ref={user_ref}/>\n        </StyledPaper>\n        <StyledPaper message={selectedTopic.toUpperCase() + \" in numbers\"}>\n              <Quantitative year={selectedYear} topic={selectedTopic} \n                  userID={currentUser.uid} user_ref={user_ref}/>\n        </StyledPaper>\n{/*         <Timeline/>\n */}    \n      </div>    \n  )\n\n\nconst VisionBoard = () => (\n\n    <StyledPaper message={\"Vision Board \" + maxYear}\n         actionIcon={ <VisionPDF year={maxYear} vision={createVisionObject()} />}>\n\n            {loadingPix\n                  ? <CircularProgress /> \n                  : <div>\n{/*                         <Box m={1}>\n                            <VisionPDF year={maxYear} vision={createVisionObject()} />\n                        </Box> */}\n                        <TopicsGallery />\n                        { selectedTopic===\"\" \n                            ? <Box p={1}>\n                                  <Typography align=\"center\">Click on images</Typography> \n                              </Box>\n                            : <Details />\n                        }\n                    </div>\n              }         \n\n    </StyledPaper>\n\n)\n\nfunction createVisionObject(){\n    var item = [];\n    for (let index = 0; index < topics.length; index++) {\n      const topic = topics[index];\n      const image = selectedVision[topic.id+\"-url\"];\n      const desc = selectedVision[topic.id];\n      item.push({topic:topic.id,image,desc});\n    }\n    console.log(\"visionObject\",item);\n    return item;\n}\n\nreturn (\n\n      <div className={classes.root}>\n            <VisionBoard />\n      </div>\n        );    \n\n}\nexport default withRouter(Vision);\n\n\n/*   function YearsSlider(){\n  return (\n    <>\n        {visions.length===0 \n            ? console.log(\"no vision yet\",visions.length ) \n            :\n            <div className={classes.sliderLimit}>\n              <br/>\n              <br/>\n              <Slider className={classes.slider}\n                value={selectedYear}\n                //getAriaValueText={valuetext}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"on\"\n                step={null}\n                marks={sliderYears}\n                min={minYear}\n                max={maxYear}\n                onChange={(e,v)=>sliderChangeView(e,v)} \n              />\n          </div> \n      }\n  </>\n  )} */\n\n/*   const ChooseDateDialog = () =>\n  (\n      <Dialog open={openYearDialog} onClose={closeYearDialogView} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">Year</DialogTitle>\n          <DialogContent>\n              <Calendar minDate={new Date(minYear+1,1,1)} maxDate={new Date(maxYear-1,1,1)} onClickYear={yearDialogTextView} view=\"decade\"/>\n          </DialogContent>\n          <DialogActions>\n              <Button onClick={closeYearDialogView} color=\"primary\">\n                  Cancel\n              </Button>\n              <Button onClick={goDialogView} color=\"primary\">\n                  Go\n              </Button>\n          </DialogActions>\n      </Dialog>    \n  )\n \n  const YearsChips = () =>\n  (\n      visions.map((data,index) => {\n      return (\n          <Chip\n            color = {(data.id===selectedYear ? 'primary' : 'default')}\n            id ={index}\n            label={data.id}\n            onClick={(e)=>yearClickView(data)}\n            className={classes.chip}\n          />\n      );\n    })\n  )\n\n  /* const RemoveYearChip = () => \n  (\n    <Chip\n        id ={visions.length+1}\n        label={'-'}\n        onClick={negateChipView}\n        className={classes.chip}\n        color = 'secondary'\n    />    \n  )\n */\n/*   const AddYearChip = () => \n    (<Chip\n        id ={visions.length}\n        label={'+'}\n        onClick={plusChipView}\n        className={classes.chip}\n    />);\n */\n","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\nconst Setting = props => {\n\nconst classes = useStyles();\n\n\nreturn (\n    <div>\n\n    <Profile classes={classes}/>\n\n    <Topics classes={classes}/>\n\n    <Metrics classes={classes}/>\n\n    <Reset classes={classes}/>\n\n    </div>\n);\n}\n\nexport default withRouter(Setting);\n\n\nfunction Reset(props){\n\n    const {classes} = props;\n    const {currentUser} = useContext(AuthContext);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n\n    const removeAllVisions=async()=>{\n        try {\n              console.log(\"reset started\");\n              var visions_ref= user_ref.collection(\"visions\");\n              console.log(visions_ref);\n              if(visions_ref===undefined){\n                  console.log(\"no visions collection\");\n                  return;\n              }else{\n                        const data=await visions_ref.get();\n                        console.log(data);\n                        data.docs.forEach(item=>{\n                            console.log(item);\n                            visions_ref.doc(item.id).delete().then(()=>{\n                                console.log(item.id +\"successfully deleted!\")\n                            });\n                        });\n            }\n        }catch(err){\n              console.log(err);\n            }\n    } \n\n\n    function handleReset(){\n        console.log(\"reset started\");\n        removeAllVisions();        \n    }\n\n\n    return (\n\n        <Paper  id=\"metrics\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >Reset </Typography>                  \n            </AppBar>\n            <Box p={2} display=\"flex\" justifyContent=\"center\">\n                <Button  color=\"primary\" variant=\"contained\"\n                        onClick={handleReset}>\n                        Clear My Visions\n                </Button>\n            </Box>\n\n        </Paper> \n         \n    );\n\n\n}\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name', width: 150 },\n        { field: 'topic', headerName: 'Force', width: 90 },\n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"\");\n    const [unitName,setUnitName]=useState(\"\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n    function okAddMetricDialogView(){\n        console.log(selectedTopic);\n        try{\n            metric_ref.doc(metricName).set(\n              {\"topic\":selectedTopic,\"unit\":unitName,\"value\":0}\n              ,{ merge: true }); \n            console.log(\"metric added to vision\"); \n            setOpenMetricDialog(false);\n            fetchMetricNamesDB();\n            setMetricName(\"\");\n            setUnitName(\"\");\n      }catch(err){\n        console.log(\"errrror: metric not added to vision\");     \n        console.log(err);\n      }\n    }\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <Paper  id=\"metrics\" className={classes.paper}>\n        <AppBar p={1} position=\"static\" className={classes.header}>   \n            <Typography p={1} >Metrics </Typography>                  \n        </AppBar>\n\n        <Grid container xs={12} justify=\"center\" spacing={1}>\n\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth onClick={handleAdd}>\n                    <Add />\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled>\n                    <Edit/>\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                    <Delete/>\n                </Button>\n            </Grid>\n        </Grid>\n\n        <div style={{ height: 400, width: '100%' }}>\n            <DataGrid rows={metricDefinitions} columns={metricProperties} pageSize={5} checkboxSelection={false} onRowClick={handleRowClick}/>\n        </div>    \n    \n        </Paper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n        <DialogTitle>Metric</DialogTitle>\n        <DialogContent>\n          <form >\n            <FormControl>\n              <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n              <Select\n                native\n                onChange={selectedTopicChangeView}\n              >\n                <option aria-label=\"None\" value=\"\" />                                \n                {\n                    topics.map((item,index)=>\n                <option id={index} value={item.id}>{item.id}</option>)\n                }\n              </Select>\n              <TextField defaultValue={metricName} onChange={metricNameChangeView} />\n              <TextField defaultValue={unitName} onChange={unitNameChangeView} />\n            </FormControl>\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={okAddMetricDialogView} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </>    \n    );\n\n\n}\n\nfunction Topics(props){\n    const {classes} = props;\n    const { currentUser } = useContext(AuthContext);\n    const [topics,setTopics]=useState([]);\n\n    \n    useEffect(() => {\n        fetchTopicsDB();\n    }, []);\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n      return (\n        <div>\n    <Paper  id=\"metrics\" className={classes.paper}>\n    <AppBar p={1} position=\"static\" className={classes.header}>   \n        <Typography p={1} >Life Forces</Typography>                  \n    </AppBar>\n\n        <List dense className={classes.root}>\n        {topics.map((topic,index) => {\n            const labelId = `checkbox-list-secondary-label-${index}`;\n            return (\n            <ListItem key={topic.id}>\n                <ListItemAvatar>\n                <Avatar\n                    alt={topic.id}\n                    src={topic.placeholder}\n                />\n                </ListItemAvatar>\n                <ListItemText id={topic.id} primary={topic.id} />\n                <ListItemSecondaryAction>\n                <Checkbox\n                    edge=\"end\"\n                    //onChange={handleToggle(value)}\n                    //checked={checked.indexOf(value) !== -1}\n                    //inputProps={{ 'aria-labelledby': labelId }}\n                />\n                </ListItemSecondaryAction>\n            </ListItem>\n            );\n        })}\n        </List>\n\n        </Paper>\n        </div>\n      )\n          \n\n}\n\nfunction Profile(props){\n    const {classes} = props;\n\n    const { currentUser } = useContext(AuthContext);\n    const [profileName,setProfileName]=useState();\n    const [birthYear,setBirthYear]=useState();\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n    useEffect(() => {\n        fetchProfileDB();\n    }, []);\n  \n\n    const updateProfileDB=async()=>{\n        try {\n                console.log(\"update profile started\");\n                user_ref.update(\n                    {\"name\":profileName,\"birthYear\":birthYear}).then(()=>{\n            //            changeInTopic();\n                        console.log(\"profile is updated\", profileName);\n                    });\n    \n            }catch(err){\n            console.log(err);\n            }\n    } \n\n    const fetchProfileDB=async()=>{\n    try {\n            console.log(\"fetch profile started\", user_ref);\n        \n            user_ref.get().then((doc)=>{\n                if(doc.exists){\n                    setProfileName(doc.data().name);\n                    setBirthYear(doc.data().birthYear);\n                    console.log(doc.data().name);         \n                    console.log(doc.data().birthYear);\n                }else{\n                    console.log(\"such user doesnot exist\", doc.data());\n                }         \n\n            });\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n  \n    return(\n\n        <Paper  id=\"profile\" className={classes.paper}>\n        <AppBar p={1} position=\"static\" className={classes.header}>   \n            <Typography p={1} >Profile </Typography>                  \n        </AppBar>\n\n\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Username:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField variant=\"outlined\" margin=\"normal\" required fullWidth\n                    value={profileName} onChange={(e)=>setProfileName(e.target.value)} autoFocus/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Year of Birth:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                    value={birthYear} onChange={(e)=>setBirthYear(e.target.value)}/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>            \n        <Grid container xs={12} justify=\"center\" >\n                <Grid item xs={3} className={classes.content}>\n                    <Button variant=\"contained\" fullWidth\n                        color=\"primary\" onClick={updateProfileDB}>\n                            Save\n                    </Button>\n                </Grid>\n        </Grid>\n\n\n        </Paper>\n\n      )\n}","import React, {useContext, useEffect, useState} from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter} from 'react-router-dom';\nimport Dream from './Dream';\nimport Plan from './Plan';\nimport Rate from './Rate';\nimport Act from './Act';\nimport Health from './Health';\nimport Money from './Money';\nimport Career from './Career';\nimport Typography from '@material-ui/core/Typography';\nimport { AuthContext } from \"./Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport LifeAccordionTab from './LifeAccordionTab';\nimport Setting from './Setting';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport ManageVision from './ManageVision';\nimport ContentYoutube from './ContentYoutube';\nimport VisionBoard from './VisionBoard';\nimport Vision from './Vision';\nimport { Box, Button, CircularProgress, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport firebase from '../firebase';\nimport VisionPDF from './VisionPDF';\n\nconst Welcome = props =>\n{\n  const {history,maxYear} =props;\n  const { currentUser } = useContext(AuthContext);\n  //const [maxYear,setMaxYear]=useState(0);\n  const [loading,setLoading]=useState(false);\n  const [view,setView]=useState(\"welcome\");\n\n\n/* \n  useEffect(() => {\n    fetchVisionMaxYear();\n  }, []);\n\n  const fetchVisionMaxYear=async()=>{\n    try {\n\n          setLoading(true);\n          const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n          const doc = await user_ref.get();\n          const max = await doc.data().maxYear;\n\n          console.log(max,doc.data());\n          setMaxYear(await doc.data().maxYear);\n          setLoading(false);\n\n        }catch(err){\n          console.log(err);\n          setLoading(false);\n        }\n  }  */\n\n  function startClick(){\n    if(maxYear===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", maxYear );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": maxYear }\n            });\n      }\n}\n\nfunction exportPdf(){\n    setView(\"pdf\");\n}\n\n  return(\n\n\n    <Box p={2}>\n        <img src=\"xsmap.jpg\" alt='Map' style={{height:'auto',width:'100%', borderRadius:'50%'}}/>\n        <Box p={2}>\n          {loading===true \n          ?     <CircularProgress />\n          :\n          <>\n              <Box  p={1} display=\"flex\" justifyContent=\"center\">\n                  <Button variant=\"contained\" \n                      style={{background : orange[600], color : \"white\"}}\n                      onClick={startClick}>\n                      {maxYear===0 ? \"Start New Vision\" : \"Open Existing Vision\"}\n                  </Button>\n              </Box>                  \n{/*               <Box  p={1} display=\"flex\" justifyContent=\"center\">\n                  <VisionPDF />\n              </Box> */}\n          </>\n          }\n        </Box>\n    </Box>\n\n  )\n\n}\n\nexport default withRouter(Welcome);\n","import React, {useContext, useEffect, useState} from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter} from 'react-router-dom';\nimport Dream from './Dream';\nimport Plan from './Plan';\nimport Rate from './Rate';\nimport Act from './Act';\nimport Health from './Health';\nimport Money from './Money';\nimport Career from './Career';\nimport Typography from '@material-ui/core/Typography';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport LifeAccordionTab from './LifeAccordionTab';\nimport Setting from './Setting';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport ManageVision from './ManageVision';\nimport ContentYoutube from './ContentYoutube';\nimport VisionBoard from './VisionBoard';\nimport Vision from './Vision';\nimport { Box, Button, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport YoutubeEmbed from './YoutubeEmbed';\n\nfunction Initialize(props)\n{\n\n  const {history,} =props;\n  \n  const [showHelp,setShowHelp]=useState(false);\n  const [period,setPeriod]=useState(\"5\");\n  const { currentUser } = useContext(AuthContext);\n  const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n  const [topics,setTopics]=useState([]);\n\n  useEffect(()=>{\n    fetchTopicsDB();\n    return () => {\n      if (history.action === \"POP\") {\n          // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n              console.log(\"------ profile ------- after -----\");\n              console.log(\"------ location -----\",history.location.pathname);\n              window.location.replace(\"/\");\n          }\n     }\n  },[]);\n\n  const fetchTopicsDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref=firebase.firestore().collection(\"Topics\");\n          const data=await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  const storeNewYearDB = async(year)=>\n  {\n    try {\n     var item = {}\n\n    for (let index = 0; index < topics.length; index++) {\n        item[topics[index].id] = \"I would like to...\";\n        item[topics[index].id+\"-url\"] = topics[index].placeholder;\n        console.log(\"this topic added \", topics[index]);\n    } \n\n    item[\"maxYear\"] = year;\n\n    console.log(\"adding vision started\", item);\n\n    user_ref.set(item,{ merge: true }).then(()=>{\n        console.log(\"vision successfully stored\");\n        return true;\n    });\n\n/*         visions_ref.doc(year).set(item).then(()=>{\n            console.log(\"vision successfully stored\");\n            return true;\n        }); */\n\n    }catch(err){\n        console.log(err);\n      } \n      return false;   \n  }\n\n/*   const storeNewYearDB = async(year)=>\n  {\n    try {\n\n        console.log(\"add vision started\", year);\n\n        visions_ref.doc(year).set({\"year\":year}).then((item)=>{\n            console.log(\"max year created: \" , item.id);\n            return true;\n        });\n    }catch(err){\n        console.log(err);\n      }\n      return false;\n  }    \n */\n  \n function handleRadioChange(event,value){\n      console.log(value);\n      setPeriod(value);\n  }\n  function goClick(){\n    var max = (new Date().getFullYear()) + Number.parseInt(period);\n    console.log(\"max\" , max);\n    if(storeNewYearDB(max))\n        history.push({\n          pathname: \"/vision\",\n          state: { \"maxYear\": max }\n        });\n    else\n        console.log(\"vision is not created\");\n  }\n\n  return(\n    <>\n    <Typography>{showHelp}</Typography>\n      { \n            (showHelp===false\n              ?   <StyledPaper message=\"Introduction\">\n                      <YoutubeEmbed embedId=\"TUHmyEp4-7A\"/>\n                      <Button variant=\"contained\" fullWidth\n                                color=\"primary\" onClick={setShowHelp(true)}>\n                                    Save\n                      </Button>\n                  </StyledPaper>\n              :   <StyledPaper message=\"Choose your desired period\">\n                      <FormControl component=\"fieldset\">\n                          <RadioGroup aria-label=\"period\" name=\"period1\" value={period} onChange={handleRadioChange}>\n                              <FormControlLabel value=\"1\" control={<Radio/>} label=\"One Year Vision\" />\n                              <FormControlLabel value=\"5\" control={<Radio/>} label=\"Five Year Vision\" />\n                              <FormControlLabel value=\"10\" control={<Radio/>} label=\"10 Year Vision\" />\n                          </RadioGroup>\n                          <Button variant=\"contained\" //className={classes.goButton}\n                              onClick={goClick}>Go!\n                          </Button>\n                      </FormControl>\n                  </StyledPaper>\n          )\n      }\n      </>\n  )\n}\n\nexport default withRouter(Initialize);","import 'react-calendar/dist/Calendar.css';\nimport React, { useEffect, useState } from 'react';\nimport YoutubeEmbed from './YoutubeEmbed';\nimport firebase,{storage} from '../firebase';\nimport { Box, Button, Card, CardActionArea, CardActions, CardContent, CardMedia, Grid, Typography } from '@material-ui/core';\nimport StyledPaper from './StyledPaper';\nimport { withRouter } from 'react-router-dom';\n\nconst HelpVisionBoard = props =>\n{\n    const {history,} =props;\n\n    useEffect(() => {\n        \n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ profile ------- after -----\");\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n           }\n      }); \n\n    function nextClick(){\n        history.push(\"/initialize\")\n    }\n\n    return(\n\n        <StyledPaper message=\"Introduction\">\n            <YoutubeEmbed embedId=\"yNOpBc72DKM\"/>\n            <Button variant=\"contained\"\n                    color=\"primary\" onClick={nextClick}>\n                Next\n            </Button>\n        </StyledPaper>\n        )\n}\nexport default withRouter(HelpVisionBoard);","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"./Auth\";\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\n  const {currentUser} = useContext(AuthContext);\n\n  console.log(\"PrivateRoute component \");\n  console.log(\"currentuser is:\" + currentUser);\n\n  if (!currentUser) {\n    console.log(\"no user therefor redirect to signin\");\n    return <Redirect to=\"/signin\" />;\n  } \n\n  return (\n    <Route\n      {...rest}\n      render={routeProps =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps} />\n        ) : (\n          <Redirect to={\"/signin\"} />\n        )\n      }\n    />\n  );\n};\n\n\nexport default PrivateRoute","import 'react-calendar/dist/Calendar.css';\nimport React, { useEffect, useState } from 'react';\nimport YoutubeEmbed from './YoutubeEmbed';\nimport firebase,{storage} from '../firebase';\nimport { Box, Button, Typography } from '@material-ui/core';\nimport StyledPaper from './StyledPaper';\nimport { useHistory } from 'react-router-dom';\n\n\nexport default function Content() {\n\nconst [loading,setLoading]=useState(false);\nconst [contents,setContents]=useState([]);\nconst db = firebase.firestore().collection(\"Content\");\n\nconst history = useHistory();\n\n\n    useEffect(() => {\n        fetchContents();\n\n        \n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ profile ------- after -----\");\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n           }\n      },[]); \n      \n       const fetchContents=async()=>{\n          setLoading(true);\n          try {\n                console.log(\"fetch content started\");\n                const data=await db.get();\n      //          console.log(data);\n      \n                const items = [];\n                data.docs.forEach(item=>{\n                    items.push({id:item.id,...item.data()});\n                  });\n                  setContents(items);\n                  setLoading(false);\n      //          console.log(item);\n              }catch(err){\n                console.log(err);\n              }\n        } \n      \n\n\n    console.log(\"content\");\n\n    return(\n\n        <div>\n\n            {loading ? <h2>Loading...</h2> :\n    \n            contents.map((content,index)=>(\n                <div>\n\n                        <StyledPaper message={content.Title}>\n                            <YoutubeEmbed embedId={content.YoutubeID}/>\n                            <Button color=\"primary\" >\n                                More\n                            </Button>\n                        </StyledPaper>\n                </div>\n                ))\n            }\n        </div>\n        )\n}","import React, {useContext, useEffect, useState} from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter, useHistory} from 'react-router-dom';\nimport Dream from './Dream';\nimport Plan from './Plan';\nimport Rate from './Rate';\nimport Act from './Act';\nimport Health from './Health';\nimport Money from './Money';\nimport Career from './Career';\nimport Typography from '@material-ui/core/Typography';\nimport firebase from '../firebase';\nimport { AuthContext } from \"../Components/Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport LifeAccordionTab from './LifeAccordionTab';\nimport Profile from './Profile';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport ManageVision from './ManageVision';\nimport ContentYoutube from './ContentYoutube';\nimport VisionBoard from './VisionBoard';\nimport Vision from './Vision';\nimport { Box, Button, CircularProgress, Container } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport Welcome from './Welcome.js';\nimport Initialize from './Initialize';\nimport HelpVisionBoard from './HelpVisionBoard';\nimport PrivateRoute from './PrivateRoute';\nimport Content from './Content';\n\nfunction Home(props) {\n    \n  const { currentUser } = useContext(AuthContext);\n\n  const [loading,setLoading] = useState(false);\n  const [name,setName] = useState(\"\");\n  const [role,setRole] = useState(\"user\");\n  const [maxYear,setMaxYear]=useState(0);\n\n\n/*   if (!currentUser) {\n    console.log(\"no user therefor redirect to signin\");\n    return <Redirect to=\"/signin\" />;\n  }  */\n  useEffect(() => {\n    fetchUserInfo();\n}, []);\n\n  function handleSignOut(){\n\n      firebase.auth().signOut().then(() => {\n        console.log(\"user is out\", \"Success\");\n        window.location = \"./signin\";\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n  }\n\n\n  const fetchUserInfo=async()=>{\n    try {\n\n            setLoading(true);\n            const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n            const doc = await user_ref.get();\n            console.log(doc);\n\n            if(!doc) \n            {\n              console.log(\"new user\");\n              setName(\"Anonym\");\n              setRole(\"user\");\n              setMaxYear(0);\n              setLoading(false);\n\n            }\n            else\n            {\n                console.log(doc);\n                setName(await doc.data().name);\n                setRole(await doc.data().role);\n                setMaxYear(await doc.data().maxYear);\n                console.log(\"user name \", doc.data().name);\n                console.log(\"user role\", doc.data().role);\n                console.log(\"year\", doc.data().maxYear);\n                setLoading(false);\n            }\n        }catch(err){\n            console.log(err);\n            setLoading(false);\n\n        }\n  } \n\n \n  return (\n\n    <Container component=\"main\" maxWidth=\"xs\">\n\n          loading ? <CircularProgress />\n          :\n          <div>    \n              <Router>\n                  <HeaderSideMenu role={role} user={currentUser} year={maxYear}/>\n                  <Switch>\n      {/*             <Route exact path=\"/mycalendar\"><MyCalendar /></Route>\n                      <Route  path=\"/\"><Einstein /></Route>\n                      <Route exact path=\"/dream\"><Dream /></Route> */}\n                      <PrivateRoute exact path=\"/profile\"><Profile /></PrivateRoute>\n                      <PrivateRoute exact path=\"/content\"><Content/></PrivateRoute>\n                      <PrivateRoute exact path=\"/vision\"><Vision /></PrivateRoute>\n                      <PrivateRoute exact path=\"/\"><Welcome maxYear={maxYear}/></PrivateRoute>\n                      <PrivateRoute exact path=\"/initialize\"><Initialize /></PrivateRoute>\n                      <PrivateRoute exact path=\"/help\"><HelpVisionBoard /></PrivateRoute>\n                  </Switch>\n              </Router>\n\n          </div>\n\n    </Container>\n\n\n  );\n\n}\n\nconst Start = props =>\n{\n  const {history,maxYear} =props;\n\n\n  function startClick(){\n    if(maxYear===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", maxYear );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": maxYear }\n            });\n      }\n}\n\n  return(\n\n    /* style={{background : orange[300]}} */\n    <Box p={2}>\n        <img src=\"xsmap.jpg\" alt='Map' style={{height:'auto',width:'100%', borderRadius:'50%'}}/>\n        <Box p={2} display=\"flex\" justifyContent=\"center\">\n            <Button variant=\"contained\" style={{background : orange[600], color : \"white\"}} onClick={startClick}>\n                  {maxYear===0 ? \"Start New Vision\" : \"Open Existing Vision\"}\n            </Button>   \n        </Box>\n    </Box>\n  )\n\n}\n\n\nfunction Einstein()\n{\n\n  return(\n    <div>\n        <img src=\"einstein.gif\" alt='Nature' style={{height:'auto',width:'100%'}}/>\n        <Typography align='center' variant=\"body1\">\n        <p></p>\n          <i >\"Life is like riding a bike, move to keep your balance.\" ~ Einstein</i>\n        </Typography>\n    </div>\n  )\n\n}\nexport default withRouter(Home);","import React from 'react';\nimport {  BrowserRouter as Router,  Route,  Switch} from 'react-router-dom';\nimport SignIn from './templates/SignIn';\nimport SignUp from './templates/SignUp';\nimport Home from './Components/Home';\nimport PrivateRoute from './Components/PrivateRoute';\nimport Container from '@material-ui/core/Container';\nimport { AuthProvider } from './Components/Auth';\nimport Landing from './Landing';\n\n\n\nexport default function App() {\n  \n  document.title = \"Personal Map of Life\";\n  console.log(\"App component started...\");\n\n  return (\n    <Container component=\"main\"  style={{padding:0}}>\n\n    <div>\n      <AuthProvider>\n        <Router>    \n            <Switch>\n                <PrivateRoute exact path=\"/\"><Home /></PrivateRoute>    \n                <Route exact path=\"/signin\"><SignIn /></Route>\n                <Route exact path=\"/signup\"><SignUp /></Route>\n\n            </Switch>\n        </Router>\n      </AuthProvider>  \n \n    </div>\n    </Container>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}