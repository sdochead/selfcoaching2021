{"version":3,"sources":["firebase.js","Components/Auth.js","Components/StyledPaper.js","templates/SignIn.js","templates/SignUp.js","templates/ForgotPassword.js","Components/Profile.js","Components/HeaderSideMenu.js","Components/Textual.js","Components/Quantitative.js","Deprecated/Styles.js","Components/Vision.js","Components/VisionPDF.js","Components/Welcome.js","Components/YoutubeEmbed.js","Components/Initialize.js","Components/HelpVisionBoard.js","Components/PrivateRoute.js","Components/Content.js","Components/AdminDashboard.js","Components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","pending","setPending","console","log","useEffect","auth","onAuthStateChanged","user","Box","style","position","width","height","CircularProgress","left","top","Provider","value","require","AppBar","Typography","Paper","makeStyles","Toolbar","useStyles","theme","root","appBar","yearField","spacing","yearLabel","addButton","bottom","right","chip","margin","paper","justify","sliderLimit","sliderLabel","save","plainHeader","background","centeredHeader","alignItems","titleBar","goButton","blue","color","searchIcon","StyledPaper","props","classes","message","actionIcon","className","p","display","flexDirection","justifyItems","justifyContent","Copyright","variant","align","Date","getFullYear","marginTop","avatar","backgroundColor","palette","secondary","main","box","form","submit","withRouter","history","handleLogin","useCallback","event","a","preventDefault","target","elements","email","password","signInWithEmailAndPassword","push","alert","useContext","to","Container","component","maxWidth","CssBaseline","Avatar","m","fullWidth","onClick","provider","GoogleAuthProvider","signInWithRedirect","getRedirectResult","then","result","credential","token","accessToken","catch","error","code","onSubmit","noValidate","TextField","required","id","label","name","autoComplete","autoFocus","type","Button","Grid","container","item","xs","Link","href","mt","handleSignUp","createUserWithEmailAndPassword","res","uid","user_ref","firestore","collection","doc","set","err","sendEmailVerification","signOut","success","green","setEmail","emailSent","setEmailSent","setError","emailStatus","setEmailStatus","onChange","helperText","sendPasswordResetEmail","errorCode","errorMessage","underline","header","headerDetails","content","useHistory","action","location","pathname","window","replace","Identity","Metrics","Reset","confirm","user_doc","get","querySnapshot","forEach","data","delete","profileName","setProfileName","birthYear","setBirthYear","saved","setSaved","openUpdateSuccessSnack","setOpenUpdateSuccessSnack","handleClose","fetchProfileDB","updateProfileDB","update","exists","usernameClickChange","birthClickChange","disabled","Snackbar","open","autoHideDuration","onClose","Alert","severity","metric_ref","field","headerName","metricProperties","metricDefinitions","setMetricDefinitions","disableEditBut","setDisableEditBut","openMetricDialog","setOpenMetricDialog","cancelAddMetricDialogView","topics","setTopics","metricName","setMetricName","unitName","setUnitName","selectedTopic","setSelectedTopic","selectedGridMetric","setSelectedGridMetric","fetchTopicsDB","topics_ref","items","docs","fetchMetricNamesDB","Add","Edit","Delete","rows","columns","pageSize","checkboxSelection","onRowClick","element","rowIndex","Dialog","disableBackdropClick","disableEscapeKeyDown","DialogTitle","DialogContent","FormControl","InputLabel","htmlFor","Select","native","aria-label","map","index","defaultValue","DialogActions","merge","drawerWidth","currentTab","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","menuButton","marginRight","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","mixins","toolbar","flexGrow","contentShift","role","year","setOpen","useTheme","handleDrawerClose","openProfile","clsx","IconButton","edge","Drawer","anchor","direction","Divider","List","ListItem","state","ListItemIcon","ListItemText","primary","button","Today","ExitToApp","Textual","topic","desc","setDesc","fetchDescDB","updateDescDB","InputProps","fontSize","multiline","e","Quantitative","userID","metricDefintions","metrics","setMetrics","selectedMetricNameDialog","setSelectedMetricNameDialog","selectedMetricValueDialog","setSelectedMetricValueDialog","unit","setUnit","url","metric_already_exists","set_metric_already_exists","addDialog","setAddDialog","selectedMetricID","setSelectedMetricID","metrics_expected_ref","metrics_definition_ref","fetchExpectedMetricsDB","fetchMetricsDefinitionDB","where","addMetric2VisionDB","metricValue","entry","undefined","add","editMetric2VisionDB","newValue","closeMetricDialogView","metricValueChangeView","getUnitAndUrl","definitions","length","exists_metric","findIndex","obj","get_metric_URL","MetricList","GridList","cellHeight","cols","GridListTile","uu","metricImageClick","border","borderRadius","fontWeight","src","alt","GridListTileBar","title","titlePosition","actionPosition","metric","ListItemAvatar","Photo","u","ListItemSecondaryAction","paddingTop","paddingBottom","minWidth","aria-describedby","FormHelperText","titleBarSelected","browseIcon","styles","maxYear","useLocation","images","setImages","selectedVision","setSelectedVision","loadingPix","setLoadingPix","fetchAllDB","fetchSelectedVisionDB","finance","initiateImages","topics_quick","vision","photo","key","tpcs","photos","galleryClickView","browseImage","file","files","storeImageDB","updateImageURLDB","getIndex","temp","array","ref","put","child","getDownloadURL","TopicsGallery","image","toUpperCase","class","for","Details","Icon","find","pdfClick","createVisionObject","VisionBoard","PictureAsPdf","StyleSheet","page","section","sectionOdd","sectionEven","topicContainer","overviewContainer","marginBottom","fontweight","overview","subtitle","vote","rating","vote_text","vote_pop","vote_pop_text","detailsFooter","lang","vote_average","body","table","borderStyle","borderColor","borderWidth","borderRightWidth","borderBottomWidth","tableRow","tableColHeader","borderBottomColor","borderLeftWidth","borderTopWidth","tableCol","tableCellHeader","tableCell","VisionPDF","checkBoxes","setCheckBoxes","checkBoxClick","checked","isChecked","populateCheckArray","PicMosaic","source","VisionAsPDF","FormControlLabel","control","Checkbox","document","fileName","blob","loading","orange","YoutubeEmbed","embedId","frameBorder","allow","allowFullScreen","showHelp","setShowHelp","period","setPeriod","storeNewYearDB","placeholder","RadioGroup","Radio","max","Number","parseInt","PrivateRoute","RouteComponent","rest","render","routeProps","Content","setLoading","contents","setContents","db","fetchContents","Title","YoutubeID","setFile","headerClassName","okAddMetricDialogView","storeImageMetricDB","URL","createObjectURL","setName","setRole","setMaxYear","fetchUserInfo","HeaderSideMenu","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.f1576b85.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport 'firebase/auth'\nimport 'firebase/storage'\n\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBnHIZLpMJXQxtHh0433SCNVLXASaYZjwo\",\n    authDomain: \"vitacoach.firebaseapp.com\",\n    projectId: \"vitacoach\",\n    storageBucket: \"vitacoach.appspot.com\",\n    messagingSenderId: \"349656251768\",\n    appId: \"1:349656251768:web:a8b237c8295870d3cd5c8d\",\n    measurementId: \"G-XEBDPBZK7Q\"\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\n  const storage = firebase.storage()\n\n  export  {\n    storage, firebase as default\n  }","import React, { useEffect, useState } from \"react\";\nimport firebase from '../firebase';\nimport {Redirect} from 'react-router-dom';\nimport { Box, CircularProgress } from \"@material-ui/core\";\n \nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [pending, setPending] = useState(true);\n\n  console.log(\"AuthProvider component started...\");\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n        console.log(\"user is = \"+user);\n        if(!!user){\n            setCurrentUser(user);\n            console.log(\"user is in\");\n        }else{\n            console.log(\"no user\");\n        }\n        setPending(false);\n\n      }\n    );\n  }, []);\n\n  if(pending){\n    //return <>Waiting to authenticate...</>\n    return <Box  style={{position:\"relative\",width:\"100%\", height:\"400px\"}}><CircularProgress style={{position:\"absolute\", left:\"50%\" , top:\"50%\"}}/></Box>\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};","import { blue } from \"@material-ui/core/colors\";\n\nconst { AppBar, Typography, Paper, Box, makeStyles, Toolbar } = require(\"@material-ui/core\");\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n      },\n    plainHeader:{\n        left: theme.spacing(3),\n        background : '#ff8a65'\n    },\n    centeredHeader:{\n      alignItems: 'center',\n      background : '#ff7043'\n  },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    goButton: {\n      background : blue[800],\n      color : \"white\"\n    },\n    searchIcon: {\n      position:'absolute',\n      right: theme.spacing(2),\n      color:\"white\",\n    },\n  \n  }));\n  \nexport default function StyledPaper(props) {\n    \n    const classes = useStyles();\n\n    const { children, message, actionIcon} = props;\n    return (\n\n        <Paper className={classes.paper}>\n            {actionIcon\n              ?\n                <AppBar p={1} position=\"static\"  className={actionIcon ? classes.plainHeader : classes.centeredHeader}>   \n                    <Toolbar>\n                        <Typography p={1}>\n                            {message}\n                        </Typography>                \n                        <div className={classes.searchIcon}>\n                              {actionIcon}\n                        </div>  \n                    </Toolbar>            \n                </AppBar>\n              :\n                <AppBar p={1} position=\"static\"  className={classes.centeredHeader}>   \n                      <Typography p={1}>\n                          {message}\n                      </Typography>              \n                </AppBar>\n            }          \n            <Box p={2} display=\"flex\" flexDirection=\"column\" justifyItems=\"center\" justifyContent=\"center\">\n                {children}\n            </Box>\n        </Paper>\n  )\n}\n","import React, { useCallback, useContext } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { AuthContext } from \"../Components/Auth.js\";\nimport {Redirect,withRouter} from 'react-router';\nimport firebase from '../firebase';\nimport StyledPaper from '../Components/StyledPaper.js';\nimport GoogleButton from 'react-google-button'\nimport { Paper } from '@material-ui/core';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  Personal Map of Life '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  box: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignIn({history}) {\n  const classes = useStyles();\n\n  const handleLogin = useCallback(\n    async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n        await firebase\n          .auth()\n          .signInWithEmailAndPassword(email.value, password.value);\n        history.push(\"/\");\n      } catch (error) {\n        alert(error);\n      }\n    },\n    [history]\n  );\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    return <Redirect to=\"/\" />;\n  }\n\n  function googleLoginRedirect() {\n    // [START auth_google_signin_redirect_result]\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth().signInWithRedirect(provider);\n\n    firebase.auth()\n      .getRedirectResult()\n      .then((result) => {\n        if (result.credential) {\n          /** @type {firebase.auth.OAuthCredential} */\n          var credential = result.credential;\n  \n          // This gives you a Google Access Token. You can use it to access the Google API.\n          var token = credential.accessToken;\n          console.log(token);\n        }\n        // The signed-in user info.\n        var user = result.user;\n      }).catch((error) => {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        console.log(error);\n      });\n    // [END auth_google_signin_redirect_result]\n  }\n  \n  function googleLoginPopUp()\n  {\n\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      /** @type {firebase.auth.OAuthCredential} */\n      var credential = result.credential;\n\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      var token = credential.accessToken;\n      console.log(token);\n      // The signed-in user info.\n      var user = result.user;\n      console.log(user);\n      // ...\n    }).catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n      // ...\n      console.log(error);\n    });\n  }\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <Paper className={classes.paper}>\n          <Box p={2} className={classes.box}>\n              <Avatar className={classes.avatar}>\n                  <LockOutlinedIcon />\n              </Avatar>\n              <Typography component=\"h1\" variant=\"h5\">\n                  Sign In\n              </Typography>\n          </Box>\n          <Box m={2}>          \n                <GoogleButton fullWidth onClick={googleLoginRedirect}>\n                    Sign In with Google Account\n                </GoogleButton>\n          </Box>\n          <Typography variant=\"body1\">\n                  or\n          </Typography>\n          <Box p={3} className={classes.box}>\n              <Typography component=\"h2\" variant=\"h6\">\n                  Use Your Existing Account\n              </Typography>\n\n              <form className={classes.form} onSubmit={handleLogin} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n            />\n  {/*           <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            /> */}\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"green\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n          </form>\n\n              <Grid container>\n              <Grid item xs>\n                <Link href=\"./forgotpassword\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href={'./signup'} variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n      </Paper>\n\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(SignIn)","import React, {useCallback} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withRouter } from 'react-router';\nimport firebase from '../firebase';\nimport GoogleButton from 'react-google-button';\nimport { Paper } from '@material-ui/core';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Personal Map of Life\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignUp({history}) {\n  \n    const classes = useStyles();\n\n    const handleSignUp = useCallback(async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n              const res = await firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\n              console.log(res);\n              console.log(res.user);\n              if(res&&res.user)\n                {\n                    console.log(\"uid\",res.user.uid);\n                    var item = {}\n                    item[\"name\"]=\"anonym\";\n                    item[\"birthyear\"]=2000;\n                    item[\"maxYear\"]=0;\n\n                    const user_ref = firebase.firestore().collection(\"Users\").doc(res.user.uid);\n                    try{\n                          user_ref.set(item).then((doc)=>{\n                                console.log(\"user initiated in db\",doc);\n                           });\n                    }catch(err)\n                    {\n                        console.log(\"error\",err);\n                    }\n                      \n                    await res.user.sendEmailVerification();\n                    //await is need to do the upper insertion in db\n                    await firebase.auth().signOut();\n                    alert(\"Signup is successful. We also sent you a verification email.\");\n                }\n              //history.push(\"/signin\");\n      } catch (error) {\n            console.log(error);\n            alert(error.message);\n            //alert(\"Signup process is stopped. Please contact our staff for more info.\");\n      }\n    }, [history]);  \n\n\n    function googleLoginRedirect() {\n      // [START auth_google_signin_redirect_result]\n      var provider = new firebase.auth.GoogleAuthProvider();\n  \n      firebase.auth().signInWithRedirect(provider);\n  \n      firebase.auth()\n        .getRedirectResult()\n        .then((result) => {\n          if (result.credential) {\n            /** @type {firebase.auth.OAuthCredential} */\n            var credential = result.credential;\n    \n            // This gives you a Google Access Token. You can use it to access the Google API.\n            var token = credential.accessToken;\n            console.log(token);\n          }\n          // The signed-in user info.\n          var user = result.user;\n        }).catch((error) => {\n          // Handle Errors here.\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          // The email of the user's account used.\n          var email = error.email;\n          // The firebase.auth.AuthCredential type that was used.\n          var credential = error.credential;\n          console.log(error);\n        });\n      // [END auth_google_signin_redirect_result]\n    }\n   \n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      \n      <Paper className={classes.paper}>\n        <Box p={2} className={classes.box}>\n            <Avatar className={classes.avatar}>\n                <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                Sign Up\n            </Typography>\n        </Box>\n            <Box m={2}>          \n                <GoogleButton label=\"Sign Up with Google Account\" fullWidth onClick={googleLoginRedirect} />\n            </Box>\n            <Typography variant=\"body1\">\n                or\n            </Typography>\n            <Box p={3} className={classes.box}>\n                <Typography component=\"h1\" variant=\"h6\">\n                  Create A New Account\n                </Typography>\n                <form className={classes.form} onSubmit={handleSignUp} noValidate>\n                  <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email\"\n                        autoComplete=\"email\"\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"New Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        //autoComplete=\"current-password\"\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"repeat password\"\n                        label=\"Repeat Password\"\n                        type=\"password\"\n                        id=\"repeat password\"\n                        //autoComplete=\"current-password\"\n                      />\n                    </Grid>\n                  </Grid>\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Sign Up\n                  </Button>\n                  <Grid container justify=\"flex-end\">\n                    <Grid item>\n                      <Link href={'./signin'} variant=\"body2\">\n                        Already have an account? Sign in\n                      </Link>\n                    </Grid>\n                  </Grid>\n                </form>\n            </Box>\n        </Paper>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(SignUp);","import React, {useCallback, useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport DoneIcon from '@material-ui/icons/Done';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withRouter } from 'react-router';\nimport firebase from '../firebase';\nimport { green } from '@material-ui/core/colors';\nimport GoogleButton from 'react-google-button';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  success: {\n    margin: theme.spacing(1),\n    backgroundColor: green\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction ForgotPassword({history}) {\n  \n    const classes = useStyles();\n    const [email,setEmail]=useState(\"Enter your email\");\n    const [emailSent,setEmailSent]=useState(false);\n    const [error,setError]=useState(false);\n    const [emailStatus,setEmailStatus]=useState(\"\");\n\n    function emailChange(event){\n        setEmail(event.target.value);\n        console.log(event.target.value);\n    }\n\n    function resetClick(){\n\n        console.log(email);\n\n        firebase.auth().sendPasswordResetEmail(email).then(() => {\n            setEmailSent(true);\n            console.log(\"we sent you an email.\");\n        }).catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(errorCode,errorMessage);\n            setEmailStatus(errorMessage);\n            setError(true);\n        });\n    }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={emailSent ? classes.success : classes.avatar}>\n          {emailSent ? <DoneIcon color=\"white\"/> : <LockOutlinedIcon />}\n        </Avatar>\n        {emailSent===false\n            ?\n            <>\n                <Box m={1}>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Password Forgotten?\n                    </Typography>\n                </Box>\n                <Grid m={1} container spacing={2}>\n                    <Grid item xs={12}>\n                    <TextField\n                        error={error}\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        type=\"email\"\n                        autoComplete=\"email\"\n                        onChange={emailChange}\n                        helperText={emailStatus}\n                    />\n                    </Grid>           \n                </Grid>\n                <Box m={1}>\n                    <Button align onClick={resetClick} variant=\"contained\" color=\"primary\">\n                        Rest Password\n                    </Button>\n                </Box>\n            </>\n            :\n            <Box>\n                <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                    An email has been sent to you. Please check your inbox. \n                </Typography>\n\n                <Box p={5}>\n                    <Link align=\"center\" underline=\"always\" href=\"./signin\">\n                        <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                            Go Back to Sign In Page\n                        </Typography>\n                    </Link>\n                </Box>\n            </Box>     \n        }\n        </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(ForgotPassword);","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Snackbar, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport { Alert } from '@material-ui/lab';\nimport StyledPaper from './StyledPaper';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\nconst Profile = props => {\n\n\nconst history = useHistory();\nconst classes = useStyles();\n\nuseEffect(() => {\n\n    console.log(\"------ profile ------- useEffect -----\");\n    console.log(\"------ action -------\", history.action);\n\n    return () => {\n        if (history.action === \"POP\") {\n            // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                console.log(\"------ profile ------- after -----\");\n                console.log(\"------ location -----\",history.location.pathname);\n                window.location.replace(\"/\");\n            }\n       }\n},[])\n\nreturn (\n    <div>\n\n    <Identity classes={classes}/>\n    <Metrics classes={classes}/>\n\n    <Reset classes={classes}/>\n \n    </div>\n);\n}\n\nexport default withRouter(Profile);\n\n\nfunction Reset(props){\n\n    const {classes} = props;\n    const {currentUser} = useContext(AuthContext);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n\n    const removeAllVisions=async()=>{\n        try {\n              console.log(\"reset started\");\n              var visions_ref= user_ref.collection(\"visions\");\n              console.log(visions_ref);\n              if(visions_ref===undefined){\n                  console.log(\"no visions collection\");\n                  return;\n              }else{\n                        const data=await visions_ref.get();\n                        console.log(data);\n                        data.docs.forEach(item=>{\n                            console.log(item);\n                            visions_ref.doc(item.id).delete().then(()=>{\n                                console.log(item.id +\"successfully deleted!\")\n                            });\n                        });\n            }\n        }catch(err){\n              console.log(err);\n            }\n    } \n\n\n    function handleReset(){\n        console.log(\"reset started\");\n        removeAllVisions();        \n    }\n\n    function deleteMyAccount(){\n\n        if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n        \n          const user_doc = firebase.firestore().collection(\"Users\").doc(currentUser.uid);\n  \n          user_doc.collection(\"ExpectedMetrics\").get().then((querySnapshot) => {\n            querySnapshot.forEach((doc) => {\n                console.log(doc.id, \" => \", doc.data());\n                user_doc.collection(\"ExpectedMetrics\").doc(doc.id).delete().then(() => {\n                  console.log(\"metric deleted!\");                      \n              }).catch((error) => {\n                  console.error(\"Error removing metric: \", error);\n              });\n            });\n          });\n  \n          user_doc.delete().then(() => {\n              console.log(\"User main doc deleted!\");    \n              signOut();           \n            }).catch((error) => {\n                console.error(\"Error removing User: \", error);\n            });       \n        }\n      }\n\n      function signOut(){\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n\n    return (\n\n        <Paper  id=\"metrics\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >Delete</Typography>                  \n            </AppBar>\n            <Box p={2} display=\"flex\" justifyContent=\"center\">\n                <Button  color=\"primary\" variant=\"contained\"\n                        onClick={deleteMyAccount}>\n                        Delete My Account\n                </Button>\n            </Box>\n\n        </Paper> \n         \n    );\n\n\n}\n\nfunction Identity(props){\n    const {classes} = props;\n\n    const { currentUser } = useContext(AuthContext);\n    const [profileName,setProfileName]=useState();\n    const [birthYear,setBirthYear]=useState();\n    const [saved,setSaved] = useState(true);\n\n    const [openUpdateSuccessSnack, setOpenUpdateSuccessSnack] = useState(false);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n    function handleClose(){\n        setOpenUpdateSuccessSnack(false);\n    }\n\n    useEffect(() => {\n        fetchProfileDB();\n    }, []);\n  \n\n    const updateProfileDB=async()=>{\n        try {\n                console.log(\"update profile started\");\n                user_ref.update(\n                    {\"name\":profileName,\"birthYear\":birthYear}).then(()=>{\n            //            changeInTopic();\n                        console.log(\"profile is updated\", profileName);\n                        setSaved(true);\n                        setOpenUpdateSuccessSnack(true);\n                    });\n    \n            }catch(err){\n            console.log(err);\n            }\n    } \n\n    const fetchProfileDB=async()=>{\n    try {\n            console.log(\"fetch profile started\", user_ref);\n        \n            user_ref.get().then((doc)=>{\n                if(doc.exists){\n                    setProfileName(doc.data().name);\n                    setBirthYear(doc.data().birthYear);\n                    console.log(doc.data().name);         \n                    console.log(doc.data().birthYear);\n                }else{\n                    console.log(\"such user doesnot exist\", doc.data());\n                }         \n\n            });\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n\n    function usernameClickChange(event)\n    {\n        setProfileName(event.target.value);\n        setSaved(false);\n    }\n  \n    function birthClickChange(event)\n    {\n        setBirthYear(event.target.value);\n        setSaved(false);\n    }\n\n    return(\n\n        <StyledPaper message=\"Profile\">\n\n\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Username:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField variant=\"outlined\" margin=\"normal\" required fullWidth\n                    value={profileName} onChange={(event)=>usernameClickChange(event)} autoFocus/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Year of Birth:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField type=\"number\" variant=\"outlined\" margin=\"normal\" fullWidth\n                    value={birthYear} onChange={(event)=>birthClickChange(event)}/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>            \n        <Grid container xs={12} justify=\"center\" >\n                <Grid item xs={3} className={classes.content}>\n                    <Button disabled={saved} variant=\"contained\" fullWidth\n                        color=\"primary\" onClick={updateProfileDB}>\n                            Save\n                    </Button>\n                </Grid>\n        </Grid>\n\n            <Snackbar open={openUpdateSuccessSnack} autoHideDuration={6000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"success\">\n                    Your profile is updated.\n                </Alert>\n            </Snackbar>\n\n        </StyledPaper>\n\n      )\n}\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name', width: 150 },\n        { field: 'topic', headerName: 'Force', width: 90 },\n        { field: 'unit', headerName: 'Unit', width: 90 },        \n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"\");\n    const [unitName,setUnitName]=useState(\"\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n    function okAddMetricDialogView(){\n        console.log(selectedTopic);\n        try{\n            metric_ref.doc(metricName).set(\n              {\"topic\":selectedTopic,\"unit\":unitName,\"value\":0}\n              ,{ merge: true }); \n            console.log(\"metric added to vision\"); \n            setOpenMetricDialog(false);\n            fetchMetricNamesDB();\n            setMetricName(\"\");\n            setUnitName(\"\");\n      }catch(err){\n        console.log(\"errrror: metric not added to vision\");     \n        console.log(err);\n      }\n    }\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <Paper  id=\"metrics\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >Metrics </Typography>                  \n            </AppBar>\n            <Grid container xs={12} justify=\"center\" spacing={1}>\n                <Grid item xs={2} className={classes.content}>\n                    <Button  color=\"primary\" variant=\"contained\"\n                        fullWidth onClick={handleAdd}>\n                        <Add />\n                    </Button>\n                </Grid>\n                <Grid item xs={2} className={classes.content}>\n                    <Button  color=\"primary\" variant=\"contained\"\n                        fullWidth disabled>\n                        <Edit/>\n                    </Button>\n                </Grid>\n                <Grid item xs={2} className={classes.content}>\n                    <Button  color=\"primary\" variant=\"contained\"\n                        fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                        <Delete/>\n                    </Button>\n                </Grid>\n            </Grid>\n            <div style={{ height: 400, width: '100%' }}>\n                <DataGrid rows={metricDefinitions} columns={metricProperties} \n                    pageSize={5} checkboxSelection={false}\n                    onRowClick={handleRowClick}/>\n            </div>    \n        </Paper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n        <DialogTitle>Metric</DialogTitle>\n        <DialogContent>\n          <form >\n            <FormControl>\n              <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n              <Select\n                native\n                onChange={selectedTopicChangeView}\n              >\n                <option aria-label=\"None\" value=\"\" />                                \n                {\n                    topics.map((item,index)=>\n                <option  value={item.id}>{item.id}</option>)\n                }\n              </Select>\n              <TextField defaultValue={metricName} onChange={metricNameChangeView} />\n              <TextField defaultValue={unitName} onChange={unitNameChangeView} />\n            </FormControl>\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={okAddMetricDialogView} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </>    \n    );\n\n\n}\n","//Based on Drawers https://material-ui.com/components/drawers/\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeSharp from '@material-ui/icons/HomeSharp';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { withRouter } from \"react-router-dom\";\nimport Drawer from '@material-ui/core/Drawer';\nimport clsx from 'clsx';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Delete, ExitToApp, Today, VideoLibrary } from '@material-ui/icons';\nimport PeopleIcon from '@material-ui/icons/People';\nimport SchoolIcon from '@material-ui/icons/School';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { AuthContext } from './Auth';\nimport { Link } from 'react-router-dom'\n\nconst drawerWidth = 200;\nvar currentTab = \"Home\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n}));\n  \n\n  const Header = props => {\n\n    const { history,role,user,year} = props;\n \n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n\n    const theme = useTheme();\n\n    const handleDrawerOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleDrawerClose = () => {\n      setOpen(false);\n    };\n\n    const openProfile = () => {\n      //history.push(\"/profile\");\n      handleDrawerClose();\n      currentTab=\"Profile\";\n    };\n    const openDream = () => {\n      console.log(\"start a dream.\");\n      history.push(\"/dream\");\n      handleDrawerClose();\n      currentTab=\"Start a new dream\";\n    };\n\n    const openVision = () => {\n        console.log(\"my vision pushed.\");\n        if(year===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", year );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": year }\n            });\n      }\n        handleDrawerClose();\n        currentTab=\"Vision Board\";\n      };\n\n    const openCalendar = () => {\n      console.log(\"my calendar pushed.\");\n      history.push(\"/mycalendar\");\n      handleDrawerClose();\n      currentTab=\"Calendar\";\n    }\n\n    const openContent = () => {\n      console.log(\"content pushed.\");\n      //history.push(\"/content\");\n      handleDrawerClose();\n      currentTab=\"Content\";\n    }\n\n    function signOut(){\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    function deleteMyAccount(){\n      if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n      \n        const user_doc = firebase.firestore().collection(\"Users\").doc(user.uid);\n\n        user_doc.collection(\"ExpectedMetrics\").get().then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n              console.log(doc.id, \" => \", doc.data());\n              user_doc.collection(\"ExpectedMetrics\").doc(doc.id).delete().then(() => {\n                console.log(\"metric deleted!\");                      \n            }).catch((error) => {\n                console.error(\"Error removing metric: \", error);\n            });\n          });\n        });\n\n        user_doc.delete().then(() => {\n            console.log(\"User main doc deleted!\");    \n            signOut();           \n          }).catch((error) => {\n              console.error(\"Error removing User: \", error);\n          });       \n      }\n    }\n\n    return(\n          <div className={classes.root}>\n          <CssBaseline />\n          <AppBar position=\"fixed\" className={clsx(classes.appBar, {[classes.appBarShift]: open,})}>\n              <Toolbar>             \n                <IconButton color=\"inherit\" aria-label=\"open drawer\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>        \n                    <MenuIcon />\n                </IconButton>\n                <Typography> {currentTab} </Typography>\n              </Toolbar>\n          </AppBar>\n          <Toolbar />\n          <Drawer\n              className={classes.drawer}\n              variant=\"temporary\"\n              anchor=\"left\"\n              open={open}\n              onClose={handleDrawerClose}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n          >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={handleDrawerClose}>\n              {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n            </IconButton>\n          </div>\n        <Divider />\n        <List>\n{/*             <ListItem button key=\"Profile\" onClick={openSetting}>\n              <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n              <ListItemText primary='Profile' />\n            </ListItem> */}           \n{/*             <ListItem button key=\"dream\" onClick={openDream}>\n              <ListItemIcon>{<SettingsIcon />}</ListItemIcon>\n              <ListItemText primary='Start A Dream' />\n            </ListItem> */}\n            <ListItem key=\"Vision Board\" component={Link} to=\"/\" onClick={openVision}>\n              <ListItemIcon>{<InsertEmoticonIcon />}</ListItemIcon>\n              <ListItemText primary='Vision Board' />\n            </ListItem>\n            {role===\"admin\"\n            ?  <>\n                    <ListItem button key=\"Plan\">\n                      <ListItemIcon>{<ExploreIcon />}</ListItemIcon>\n                      <ListItemText primary='Plan' />\n                    </ListItem>\n                    <ListItem button key=\"Calendar\" onClick={openCalendar}>\n                      <ListItemIcon>{<Today />}</ListItemIcon>\n                      <ListItemText primary='Calendar' />\n                    </ListItem> \n               </>\n            : null}           \n        </List>\n        <Divider />\n        <List>\n            <ListItem key=\"Learn\" component={Link} to=\"/content\" onClick={openContent}>\n              <ListItemIcon>{<SchoolIcon />}</ListItemIcon>\n              <ListItemText primary='Content' />\n            </ListItem>\n            {role===\"admin\"\n            ?       <ListItem button key=\"Community\">\n                      <ListItemIcon>{<PeopleIcon />}</ListItemIcon>\n                      <ListItemText primary='Community' />\n                    </ListItem>\n            : null}                      \n        </List>\n        <Divider />\n        <List>\n            {role===\"admin\"\n              ?\n                <ListItem key=\"Admin\" component={Link} to=\"/admin\" onClick={openProfile}>\n                    <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n                    <ListItemText primary='Admin' />\n                </ListItem> \n              :\n                <ListItem key=\"Profile\" component={Link} to=\"/profile\" onClick={openProfile}>\n                      <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n                      <ListItemText primary='Profile' />\n                </ListItem> \n            }          \n            <ListItem button key=\"Sign Out\" onClick={signOut}>\n              <ListItemIcon>{<ExitToApp />}</ListItemIcon>\n              <ListItemText primary='Signout' />\n            </ListItem>\n{/*             <ListItem button key=\"delete\" onClick={deleteMyAccount}>\n              <ListItemIcon>{<Delete />}</ListItemIcon>\n              <ListItemText primary='Delete My Account' />\n            </ListItem>  */}\n        </List>        \n      </Drawer> \n    </div>        \n    )}\n\n    export default withRouter(Header);","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\n\n\nexport default function Textual(props){\n    const {topic,user_ref}=props;\n    const [desc,setDesc] =useState(\"\");\n    const [saved,setSaved]=useState(true);\n  \n    \n  \n  useEffect(() => {\n    fetchDescDB();\n  }, []);\n  \n  const fetchDescDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          user_ref.get().then((item)=>{\n            var data={id:item.id,...item.data()};\n            setDesc(data[topic]);\n            console.log(\"description updated\");\n            /*         data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items); */\n  //          console.log(item);          \n          });\n  \n          \n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  function textChangeClick(e)\n  {\n      setDesc(e.target.value);\n      setSaved(false);\n  }\n  \n  \n  const updateDescDB = async() => {\n  \n    try {\n      console.log(\"update description started\");\n  \n      user_ref.set(\n          {[topic]:desc},{ merge: true }).then(()=>{\n  //            changeInTopic();\n              console.log(\"description is saved\");\n              setSaved(true);\n          });\n  \n  /*       var promises = await Promise.all(\n        selectedMetrics.map((item)=>\n        db.doc(selectedVision.id).collection('metrics').doc().set(\n          {name:item.name,value:item.value},{ merge: true }))); \n  \n      console.log(\"promise:\", promises);*/\n  \n  }catch(err){\n      console.log(err);\n    } \n  \n  };\n  \n      return(\n        <>\n          \n          <TextField p={1} id=\"desc\" \n                      value={desc}\n                      fullWidth InputProps={{style: {fontSize: 14}}}  multiline rows={5}  variant=\"outlined\" onChange={textChangeClick}/>\n  \n          <Button disabled={saved} color=\"primary\" variant=\"contained\" label=\"Save\" onClick={()=>updateDescDB()}>\n              Save Changes\n          </Button> \n        </>\n      )\n  }","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, FormHelperText, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from '../Deprecated/Visual.js'\nimport { Alert } from '@material-ui/lab';\n\n\nexport default function Quantitative(props){\n    const {topic,userID,user_ref}=props;\n    const [metricDefintions,setMetricDefinitions] =useState([]);\n    const [metrics,setMetrics] =useState([]);\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    const [selectedMetricNameDialog,setSelectedMetricNameDialog]=useState(\"\");\n    const [selectedMetricValueDialog,setSelectedMetricValueDialog]=useState(0);\n    const [selectedMetric,setSelectMetric] = useState(\"\");\n    const [unit,setUnit] = useState(\"unit\");\n    const [url,setUrl] = useState(\"\");\n    const [metric_already_exists,set_metric_already_exists] = useState(false);\n    const [addDialog,setAddDialog] = useState(false);\n    const [selectedMetricID,setSelectedMetricID] = useState(0);\n\n    const metrics_expected_ref = user_ref.collection(\"ExpectedMetrics\"); \n  \n    const metrics_definition_ref = firebase.firestore().collection(\"Metrics\");\n  \n  useEffect(() => {\n    fetchExpectedMetricsDB();\n    fetchMetricsDefinitionDB();\n  }, []);\n  \n  const fetchExpectedMetricsDB=async()=>{\n    try {\n          console.log(\"fetch metrics started\");\n          var res = await metrics_expected_ref.where(\"topic\", \"==\", topic).get();\n          var items = [];\n          res.docs.forEach(item=>{\n            var data={id:item.id,...item.data()};\n            items.push(data);\n            console.log(data);\n          });\n          setMetrics(items);\n          \n        }catch(err){\n          console.log(err);\n        }\n  }\n  const fetchMetricsDefinitionDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const data=await metrics_definition_ref.where(\"topic\", \"==\", topic).get();\n  \n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n          console.log(err);\n        }\n  }\n\n  const addMetric2VisionDB=async(metricName,metricValue)=>\n  {\n    try{\n          var entry = {\"topic\":topic,\"name\":metricName,\"value\":metricValue,\"unit\":unit,\"url\":(url===undefined ? \"\" : url)};\n          console.log(entry);     \n          metrics_expected_ref.add(entry,{ merge: true }); \n          console.log(\"metric added to vision\");     \n    }catch(err){\n      console.log(\"errrror: metric not added to vision\");     \n      console.log(err);\n    }\n  }\n  \n  const editMetric2VisionDB=async(newValue)=>\n  {\n      metrics_expected_ref.doc(selectedMetricID).update({\"value\":newValue}).then(()=>{  \n          console.log(\"metric updated\");\n          fetchExpectedMetricsDB();\n          closeMetricDialogView();    \n      }).catch((err)=>{\n          console.log(\"errrror: metric not updated\");     \n          console.log(err);\n      });\n  }\n  \n  function okAddMetricDialogView(){\n    console.log(\"selected metric name\", selectedMetricNameDialog);\n    console.log(\"selected metric value\", selectedMetricValueDialog);\n  \n    if(selectedMetricNameDialog===\"\"){\n      console.log(\"metric name is empty\");\n    }\n    else{\n      addMetric2VisionDB(selectedMetricNameDialog,selectedMetricValueDialog);\n      fetchExpectedMetricsDB();\n      closeMetricDialogView();        \n    }\n  }\n\n  function editMetricDialogView(){\n      console.log(\"selected metric name\", selectedMetricNameDialog);\n      console.log(\"selected metric value\", selectedMetricValueDialog);\n\n      editMetric2VisionDB(selectedMetricValueDialog);\n      fetchExpectedMetricsDB();\n      closeMetricDialogView();\n  }  \n\n\n  function metricValueChangeView(event)\n  {\n    setSelectedMetricValueDialog(event.target.value);\n  }\n\n  function openEditMetricDialogView(id,name,value,u){\n    setAddDialog(false);\n    setSelectedMetricID(id);\n    setSelectedMetricNameDialog(name);\n    setSelectedMetricValueDialog(value);\n    setUnit(u);\n    console.log(id,name,value);\n    setOpenMetricDialog(true);\n}\n  function openAddMetricDialogView(){\n      setSelectedMetricNameDialog(\"\");\n      setSelectedMetricValueDialog(0);\n      setOpenMetricDialog(true);\n      setAddDialog(true);\n  }\n   function cancelAddMetricDialogView(){\n      setOpenMetricDialog(false); \n  }\n  function selectAddMetricDialogChangeView(event){\n      setSelectedMetricNameDialog(event.target.value);\n      var uu = getUnitAndUrl(metricDefintions,event.target.value);\n      console.log(\"metric dialog\" , uu);\n      setUnit(uu.unit);\n      setUrl(uu.url);\n  }\n  function getUnitAndUrl(definitions,value){\n      for (let index = 0; index < definitions.length; index++) {\n        const element = definitions[index];\n        if(element.id===value) return {unit:element.unit,url:element.url};      \n      }\n  }\n  function getUnitX01(definitions,value){\n    for (let index = 0; index < definitions.length; index++) {\n      const element = definitions[index];\n      if(element.id===value) return element.unit;      \n    }\n}  \n  const closeMetricDialogView = () => {\n    setOpenMetricDialog(false);\n  };\n\n  function editMetricClick(value)\n  {\n  }\n\n  function deleteMetricClick(value)\n  {\n    console.log(value);\n\n    if (window.confirm(\"You are deleting a metric. Are you sure?\")) {\n      \n      metrics_expected_ref.doc(value).delete().then(() => {\n          console.log(\"metric successfully deleted!\");\n          fetchExpectedMetricsDB();\n          \n      }).catch((error) => {\n          console.error(\"Error removing User: \", error);\n      });       \n  }\n  }\n\n  function metricImageClick(name){\n      console.log(\"metric image clicked. Name = \", name);\n      setSelectedMetricNameDialog(name);\n      var uu = getUnitAndUrl(metricDefintions,name);\n      console.log(\"metric dialog\" , uu);\n      setUnit(uu.unit);\n      console.log(metrics);\n      set_metric_already_exists(exists_metric(name));\n\n  }\n\n  function exists_metric(name){\n      var index = metrics.findIndex(obj => obj.name===name);\n      console.log(\"index \",index);\n\n      if(index===-1)\n          return false;\n      else\n          return true;\n  }\n\n  function get_metric_URL(name){\n      console.log(\"get_metric_URL\",name);\n\n      var index = metricDefintions.findIndex(obj => obj.id===name);\n      \n      console.log(\"index\",index);\n      if(index===-1) return \"\";\n      return metricDefintions[index].url;\n  }\n\n  const MetricList = () =>(\n      <GridList cellHeight={50} cols={2} autoFocus>\n          {metricDefintions.map((item) => \n          ((exists_metric(item.id) \n            ? null \n            :\n            <GridListTile id={item.id} cols={1} onClick={()=>metricImageClick(item.id)}\n                 style={selectedMetricNameDialog===item.id ? {border: '2px solid #021a40', borderRadius: \"5px\", fontWeight:\"bold\"}: {}}\n            >\n              <img src={item.url} alt={item.id}/>\n               <GridListTileBar\n                title={item.id}\n                titlePosition=\"bottom\"\n                actionPosition=\"right\"/>\n            </GridListTile>\n          )))}\n      </GridList>\n  )\n\n  const MetricComboBox = () =>(\n        <Box m={1} display='flex' alignItems=\"left\">\n        <Box>\n          <Typography>Metric Name: </Typography>\n          <Select id=\"my-input\"  variant=\"outlined\" native onChange={selectAddMetricDialogChangeView}>\n              <option aria-label=\"None\" value=\"\" />                                \n              {\n                  metricDefintions.map((item,index)=>\n                      <option value={item.id}>{item.id}</option>)\n              }\n          </Select>\n        </Box>\n        <Box pl={2} pt={4}>\n            <Avatar>\n                <img src={url} width={50} height={50} alt={selectedMetricNameDialog} />\n            </Avatar>\n        </Box>\n    </Box>    \n  )\n  \n      return(\n        <>  \n            <List>\n            {\n                  (metrics===undefined ? console.log(\"selectedMetrics is undefined\"):\n                  (metrics.length===0 ? console.log(\"selectedMetrics has no item\"):\n                  metrics.map((metric,index) => {\n                  return (\n                          <ListItem id={index} >\n                                <ListItemAvatar>\n                                    <Avatar>\n                                      {metric.url===undefined\n                                        ? <Photo />\n                                        : <img src={get_metric_URL(metric.name)} alt={metric.name} />\n                                      }\n                                    </Avatar>\n                                </ListItemAvatar>\n                                <ListItemText primary={metric.name} secondary={metric.value+\" \"+metric.unit}/>\n                                <ListItemIcon>\n                                    <IconButton id={metric.name} edge=\"false\" aria-label=\"edit\" onClick={()=>openEditMetricDialogView(metric.id,metric.name,metric.value,metric.unit)}>\n                                        <Edit />\n                                    </IconButton>\n                                    <IconButton id={metric.name} edge=\"end\" aria-label=\"delete\" onClick={()=>deleteMetricClick(metric.id)}>\n                                        <Delete />\n                                    </IconButton>\n                                </ListItemIcon>                                        \n                            </ListItem>\n                    );\n                    })))\n                } \n                                                            \n                <ListItem>\n                    <ListItemText primary=\"Add metric\"/>\n                    <ListItemSecondaryAction>\n                        <IconButton edge=\"end\" aria-label=\"add\" onClick={openAddMetricDialogView}>\n                            <Add autoFocus/>\n                        </IconButton>\n                    </ListItemSecondaryAction>\n                </ListItem>\n                </List>\n\n            <Dialog disableBackdropClick disableEscapeKeyDown open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n                  <DialogTitle style={{background: '#ff8a65', color : \"white\"}}>\n                      {selectedMetricNameDialog===\"\" ? \"Choose a metric:\" : selectedMetricNameDialog}\n                      </DialogTitle>\n                  <DialogContent>\n                    <form >\n                      {addDialog ? <MetricList /> : null}\n                      {metric_already_exists \n                        ?   <Box><br /><Alert severity=\"info\">This metric is already set.</Alert></Box>\n                        :   <Box>\n                              <br />\n                              <Grid container \n                                style={{display:'flex', flexDirection: 'column', alignItems: 'center',\n                                paddingTop:\"10px\", paddingBottom:\"10px\", minWidth:\"250px\"}}>\n                                    <Grid item>\n                                        <Typography p={2}>What is your target Value?</Typography>\n                                        <TextField disabled={selectedMetricNameDialog===\"\" ? true : false}\n                                          type=\"number\" variant=\"outlined\" \n                                          defaultValue={addDialog ? \"0\" : selectedMetricValueDialog} id=\"desiredValue\"\n                                          style={{width:\"100px\"}}\n                                          aria-describedby=\"my-helper-text\" onChange={metricValueChangeView} />\n                                        <TextField style={{marginLeft:\"10px\", width:\"50px\"}} disabled value={unit} onChange={metricValueChangeView} />\n                                        <FormHelperText id=\"my-helper-text\">Target value shall be a number.</FormHelperText>\n                                    </Grid>\n                              </Grid>\n                            </Box>\n                      }\n\n                      </form>\n                  </DialogContent>\n                  <DialogActions style={{justifyContent: 'center'}}>\n                      <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n                            Cancel\n                      </Button>\n                      {addDialog \n                          ? <Button onClick={okAddMetricDialogView} color=\"primary\">\n                                Add\n                            </Button>\n                          : <Button onClick={editMetricDialogView} color=\"primary\">\n                                Edit\n                            </Button>\n                      }\n                  </DialogActions>\n              </Dialog>\n        </>\n      )\n  }","import {makeStyles} from '@material-ui/core/styles';\nimport { blue } from '@material-ui/core/colors';\n\n\nexport default makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(3),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n      },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n  },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    titleBarSelected: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n      fontWeight:\"bold\"\n      \n    },\n    goButton: {\n      background : blue[800],\n      color : \"white\"\n    },\n    browseIcon:{\n      color : \"white\",\n      //background: grey[500]\n      //borderStyle: \"dashed\",\n      border:\"white\"\n  },\n  }));","import React,{useState,useEffect,useContext} from 'react';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport {  Box, CircularProgress, GridList, GridListTile, GridListTileBar, Icon, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Radio, RadioGroup, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport { DirectionsRun, Edit, Photo, Delete, Add, PhotoAlbum, PhotoAlbumRounded, PhotoAlbumOutlined, PhotoAlbumTwoTone, FormatUnderlined } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Quantitative from './Quantitative';\nimport StyledPaper from './StyledPaper';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport { PictureAsPdf } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\nimport styles from '../Deprecated/Styles';\n\nconst Vision = props => {\n\nconst history = useHistory();\n\nconst classes = styles();\n\nconst { currentUser } = useContext(AuthContext);\nconst location  = useLocation();\nconst maxYear = location.state.maxYear;\n\nconsole.log(\"maxYear =\" , maxYear);\n\n  //db ref\nconst user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid);\nconst [topics,setTopics]=useState([]);\nconst [images,setImages]=useState([]);\nconst [selectedTopic,setSelectedTopic]=useState(\"\");\nconst [selectedVision,setSelectedVision]=useState(null);\n\n//loading semaphors  \nconst [loadingPix, setLoadingPix] = useState(false);\n\nuseEffect(() => {\n    fetchAllDB();\n\n    return () => {\n      if (history.action === \"POP\") {\n          // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n              console.log(\"------ profile ------- after -----\");\n              console.log(\"------ location -----\",history.location.pathname);\n              window.location.replace(\"/\");\n          }\n     }\n  },[]);\n\n  ////////////////View////////////////\nconst fetchTopicsDB = async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref = firebase.firestore().collection(\"Topics\");\n          const data = await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n            console.log(\"fetching topics success ended:\", items);\n\n            return items;\n        }catch(err){\n          console.log(err);\n        }\n} \nconst fetchSelectedVisionDB=async()=>{\n    \n    try {\n          //console.log(\"fetch vision started of year \", typeof year, year);\n\n          var doc = await user_ref.get();\n          if(doc===undefined) return null;\n          else{\n              var item = {id:doc.id,...doc.data()};\n              setSelectedVision(item);\n              console.log(\"selectedVision successfully fetched: \"+doc.data().finance);\n              return item;\n          }\n        }catch(err){\n          console.log(err);\n        }\n}\nfunction initiateImages(topics_quick,vision){\n    var items = [];\n    for (let index = 0; index < topics_quick.length; index++) {\n      \n        const photo = {\n                          key:index,\n                          alt:topics_quick[index].id,\n                          src:vision[topics_quick[index].id+\"-url\"],\n                          width:1,\n                          height:1\n        };\n        items.push(photo);\n        console.log(\"photo: \",photo);\n    }\n    console.log(\"placeholders added to images: \",items);\n\n    return items;\n}\nconst fetchAllDB = async() =>\n{\n    //setLoading(true);\n    var vision = await fetchSelectedVisionDB();\n    console.log(\"vision\", vision);\n    var tpcs = await fetchTopicsDB();\n    console.log(\"items\", tpcs);\n\n    var photos = await initiateImages(tpcs,vision);\n    setImages(photos);\n    //should be changed to milestones instead of years\n    //fetchYearsDB();\n    //fetchSelectedVisionDB(maxYear);\n    \n    //fetchImagesDB(photos);\n    //setLoading(false);\n}\nfunction galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n\n    console.log(\"selected topic: \" + event.target.alt);\n    console.log(\"vision:\"+selectedVision);\n    console.log(\"vision topic desc:\"+selectedVision[event.target.alt]);\n\n    if((typeof selectedVision[event.target.alt])==='undefined')\n    {\n      console.log(\"undefined catcher\");\n    } else {\n      console.log(\"yes desc exists\");\n    }\n  \n}\nconst  browseImage = async(event)=>{\n\n      var topic = event.target.id;\n      var file = event.target.files[0];\n\n      if(file===null) return;\n\n      if(window.confirm(\"Are you sure to change the picture?\"))\n      {\n          setLoadingPix(true);\n          var url = await storeImageDB(file,topic,currentUser.uid,maxYear);\n          await updateImageURLDB(topic,url);\n          var temp=images;\n          var index = getIndex(temp,topic)\n          temp[index].src=url;\n          setImages(temp);\n          setLoadingPix(false);\n          console.log(\"temp\",temp);\n          console.log(\"index\",index);\n          console.log(\"images\",images);\n\n      }\n\n}\nfunction getIndex(array,name){\n    for (let index = 0; index < array.length; index++) {\n      if(array[index].alt===name)\n      {\n        return index;\n      }\n    }\n}\nconst updateImageURLDB=async(topic,url)=>{\n  try {\n          var key = topic+\"-url\";\n          console.log(\"update vision started :\", key,url);\n          user_ref.update({[key]:url},{merge:true}).then(()=>{\n                  console.log(\"image url is updated\", key, url);\n                  return true;\n              });\n\n      }catch(err){\n      console.log(err);\n      }\n} \nconst storeImageDB = async(file,topic,userID,year) => {\n    console.log(\"image file name: \" + file);\n    if(file){\n    const uploadTask = await storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n\n    var url = await storage.ref(`/images/${userID}/${year}`).child(topic).getDownloadURL();\n    console.log(\"url\", url);\n    return url;}\n}\nconst TopicsGallery = () =>(\n    <div id=\"gallery-placeholder\">\n        <GridList cellHeight={150} cols={2} autoFocus>\n            {images.map((image) => (\n            <GridListTile key={image.key} cols={1}\n                style={selectedTopic===image.alt ? {border: '2px solid #021a40', borderRadius: \"5px\"}: {}}>\n              <img src={image.src} alt={image.alt}\n              onClick={galleryClickView}\n              />\n              <GridListTileBar\n                title={image.alt.toUpperCase()}\n                titlePosition=\"bottom\"\n                actionPosition=\"right\"\n                //className={classes.titleBar}\n                className={selectedTopic===image.alt ? classes.titleBarSelected : classes.titleBar}\n                actionIcon={\n                    <div class=\"image-upload\">\n                        <label for={image.alt}>\n                          <PublishIcon className={classes.browseIcon} />\n                        </label>\n                        <input id={image.alt} type=\"file\" style={{display: \"none\"}}\n                          onChange={(e)=>browseImage(e)}/>\n                    </div>\n                }\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n    </div> \n  )\n\nconst Details = () =>(\n    <div id=\"details\">\n        <br/>\n        <StyledPaper  message={selectedTopic.toUpperCase() + \" in words\"}\n            actionIcon={<Icon><img alt=\"\" src={(images.find(item => item.alt===selectedTopic)).src} style={{width:\"40px\",height:\"40px\", marginTop:\"10px\", border: \"0px solid white\", borderRadius:'50%'}} /></Icon>}>\n            <Textual  topic={selectedTopic} user_ref={user_ref}/>\n        </StyledPaper>\n\n        <StyledPaper message={selectedTopic.toUpperCase() + \" in numbers\"}\n            actionIcon={<Icon><img alt=\"\" src={(images.find(item => item.alt===selectedTopic)).src} style={{width:\"40px\",height:\"40px\", marginTop:\"10px\", border: \"0px solid white\", borderRadius:'50%'}} /></Icon>}>\n            <Quantitative topic={selectedTopic} \n                userID={currentUser.uid} user_ref={user_ref}/>\n        </StyledPaper>  \n      </div>    \n  )\n\nfunction pdfClick() {\n\n      history.push({\n        pathname: \"/export\",\n        state: { \"year\":maxYear,\"vision\": createVisionObject() }\n      });\n\n/*     <VisionPDF year={maxYear} vision={createVisionObject()} />\n */\n}\nconst VisionBoard = () => (\n\n    <StyledPaper message={\"Vision Board \" + maxYear}\n         actionIcon={<IconButton onClick={pdfClick} style={{border: \"2px solid white\"}}><PictureAsPdf style={{color:\"white\"}}/></IconButton>}>\n\n            {loadingPix\n                  ? <CircularProgress /> \n                  : <div>\n{/*                         <Box m={1}>\n                            <VisionPDF year={maxYear} vision={createVisionObject()} />\n                        </Box> */}\n                        <TopicsGallery />\n\n                        { selectedTopic===\"\" \n                            ? <Box p={1}>\n{/*                                   <Typography align=\"center\">Click on images</Typography> \n */}\n                                      <Alert severity=\"info\">Click on images for details.</Alert>\n                              </Box>\n                            : <Details />\n                        }\n                    </div>\n              }         \n\n    </StyledPaper>\n\n)\n\nfunction createVisionObject(){\n    var item = [];\n    for (let index = 0; index < topics.length; index++) {\n      const topic = topics[index];\n      const image = selectedVision[topic.id+\"-url\"];\n      const desc = selectedVision[topic.id];\n      item.push({\"topic\":topic.id,\"image\":image,\"desc\":desc});\n    }\n    console.log(\"visionObject\",item);\n    return item;\n}\nreturn (\n  <div className={classes.root}>\n            <VisionBoard />\n  </div>);\n}\nexport default withRouter(Vision);","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer,PDFDownloadLink } from '@react-pdf/renderer';\nimport ReactPDF from '@react-pdf/renderer';\n\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\n\nimport { Document, Page, Text, View,Image, StyleSheet } from '@react-pdf/renderer';\nimport { Box, Button, Checkbox, CircularProgress, Fab, FormControlLabel, Icon, IconButton, Typography } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport {  PictureAsPdf, PictureAsPdfOutlined, PictureAsPdfRounded, PictureAsPdfSharp } from '@material-ui/icons';\nimport StyledPaper from './StyledPaper';\n\n\nconst styles = StyleSheet.create({\n    page: {\n        backgroundColor: \"#ffffff\"\n    },\n    section: {\n        margin: 10,\n        padding: 10\n    },\n    sectionOdd: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1,\n        backgroundColor: '#ccff33'\n      },\n    sectionEven: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1,\n        backgroundColor: '#ffccff'\n      },    \n    header: {\n        backgroundColor: \"#f6f6f5\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        padding: 5\n    },\n    topicContainer: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginLeft: 5\n    },\n    overviewContainer: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        //justifyContent: \"center\",\n        marginLeft: 5\n    },    \n    title: {\n        fontSize: 20,\n        marginBottom: 10,\n        fontweight: \"bold\"\n    },\n    overview: {\n        fontSize: 14\n    },\n\n    image: {\n        height: 200,\n        width: 200\n    },\n    subtitle: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        flexDirection: \"row\",\n        width: 150,\n        alignItems: \"center\",\n        marginBottom: 12\n    },\n    vote: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    rating: {\n        height: 10,\n        width: 10\n    },\n    vote_text: {\n        fontSize: 10\n    },\n    vote_pop: {\n        fontSize: 10,\n        padding: 2,\n        backgroundColor: \"#61C74F\",\n        color: \"#fff\"\n    },\n    vote_pop_text: {\n        fontSize: 10,\n        marginLeft: 4\n    },\n    detailsFooter: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    lang: {\n        fontSize: 8,\n        fontWeight: 700\n    },\n    vote_average: {\n        fontSize: 8,\n        marginLeft: 4,\n        fontWeight: \"bold\"\n    },\n    body: {\n        padding: 10\n      },\n    table: { \n        display: \"table\", \n        width: \"auto\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderWidth: 1, \n        borderRightWidth: 0, \n        borderBottomWidth: 0 \n      }, \n      tableRow: { \n        margin: \"auto\", \n        flexDirection: \"row\" \n      }, \n      tableColHeader: { \n        width: \"25%\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderBottomColor: '#000',\n        borderWidth: 1, \n        borderLeftWidth: 0, \n        borderTopWidth: 0\n      },   \n      tableCol: { \n        width: \"25%\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderWidth: 1, \n        borderLeftWidth: 0, \n        borderTopWidth: 0 \n      }, \n      tableCellHeader: {\n        margin: \"auto\", \n        margin: 5, \n        fontSize: 12,\n        fontWeight: 500\n      },  \n      tableCell: { \n        margin: \"auto\", \n        margin: 5, \n        fontSize: 10 \n      }\n  \n});\n\nexport default function VisionPDF(props)\n{\n\nconst location = useLocation();  \n//    const {year,topics,images,descs,metrics} = props;\nconst {year,vision} = location.state;\n\nconsole.log(\"vision pdf\");\nconsole.log(\"year\",year);\nconsole.log(\"vision\",vision);\nconst [checkBoxes,setCheckBoxes]=useState([]);\n\nfunction populateCheckArray(){\n\n  var temp=[];\n  vision.forEach(element => {\n    temp.push({\"id\":element.topic,value:true});\n  });\n  setCheckBoxes(temp);\n\n}\n\nuseEffect(()=>{\n  populateCheckArray();\n},[])\n\nfunction checkBoxClick(event){\n    console.log(event.target.id);\n    console.log(event.target.checked);\n\n    var temp=[];\n    checkBoxes.forEach(element => {\n        if(element.id===event.target.id){\n            element.value=event.target.checked;\n        }\n        temp.push(element);\n\n    });\n\n    setCheckBoxes(temp);\n}\n\nfunction isChecked(topic){\n  for (let index = 0; index < checkBoxes.length; index++) {\n    if(topic === checkBoxes[index].id)\n      return checkBoxes[index].value;\n   }\n   return false;\n}\n\nconst PicMosaic = () =>\n  (\n    <View style={styles.table}> \n        <View style={styles.tableRow}> \n            {vision&&\n                vision.map((item,index) => {\n                    return (isChecked(item.topic)\n                            ? <View key={index} style={styles.tableColHeader}> \n                                 <Image  style={styles.body} source={item.image}/> \n                              </View>\n                            : null)\n                })\n            }\n        </View>\n    </View>\n\n  )\n\nconst VisionAsPDF = (props) => {\n  return(\n        <Document>\n            <Page style={styles.page}>\n                <View style={styles.header}>\n                    <Text style={styles.title}> Vision Board for {year}</Text>\n                </View>\n                <PicMosaic />\n                {vision\n                    ? vision.map((item, index) => {\n                            return (\n                                <View style={index%2===1 ? styles.sectionOdd : styles.sectionEven}>\n                                  {isChecked(item.topic)\n                                  ? <div>\n                                      <View key={\"text\"+index} style={styles.topicContainer}>\n                                          <Text style={styles.title}>{item.topic}</Text>\n                                      </View>\n                                      <View key={\"image\"+index} style={styles.overviewContainer}>\n                                          <Image\n                                              style={styles.image}\n                                              source={item.image}\n                                          /> \n                                          <View style={styles.overviewContainer}>\n                                              <Text style={styles.overview}>Description: {item.desc}</Text>\n                                          </View>\n                                      </View>\n                                    </div>\n                                    : null\n                                  }\n                                </View>\n                            );\n                        })\n                    : null\n                }\n            </Page>\n        </Document>\n       \n  )\n}\n\n  return(\n        <StyledPaper message=\"Customization\">\n        <Box m={1}>\n        {checkBoxes.map((item,index)=>{\n          return  <Box>\n                      <FormControlLabel control={<Checkbox checked={item.value} onChange={checkBoxClick}\n                         id={item.id}/>} label={item.id} />\n                  </Box>}\n          )\n        }\n        </Box>\n            <PDFDownloadLink document={<VisionAsPDF />} style={styles.button} fileName=\"myvision.pdf\">\n              {({ blob, url, loading, error }) =>\n                  loading ? <CircularProgress /> :           \n                          <Button variant=\"contained\" color=\"primary\"> Save As PDF </Button>\n              }\n          </PDFDownloadLink> \n        \n        </StyledPaper>\n\n    );\n}\n\n","import React, {useContext, useEffect, useState} from 'react';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter} from 'react-router-dom';\nimport Typography from '@material-ui/core/Typography';\nimport { AuthContext } from \"./Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport Vision from './Vision';\nimport { Box, Button, CircularProgress, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport firebase from '../firebase';\nimport VisionPDF from './VisionPDF';\n\nconst Welcome = props =>\n{\n  const {history,maxYear} =props;\n  const { currentUser } = useContext(AuthContext);\n  //const [maxYear,setMaxYear]=useState(0);\n  const [loading,setLoading]=useState(false);\n  const [view,setView]=useState(\"welcome\");\n\n\n/* \n  useEffect(() => {\n    fetchVisionMaxYear();\n  }, []);\n\n  const fetchVisionMaxYear=async()=>{\n    try {\n\n          setLoading(true);\n          const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n          const doc = await user_ref.get();\n          const max = await doc.data().maxYear;\n\n          console.log(max,doc.data());\n          setMaxYear(await doc.data().maxYear);\n          setLoading(false);\n\n        }catch(err){\n          console.log(err);\n          setLoading(false);\n        }\n  }  */\n\n  function startClick(){\n    if(maxYear===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", maxYear );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": maxYear }\n            });\n      }\n}\n\nfunction exportPdf(){\n    setView(\"pdf\");\n}\n\n  return(\n\n\n    <Box p={2}>\n        <img src=\"start-vision-600.jpg\"  alt='Map' style={{height:'auto',width:'100%', borderRadius:'50%'}}/>\n        <Box p={2} style={{position:\"relative\"}}>\n          {loading===true \n          ?     <CircularProgress style={{position:\"absolute\", left:\"50%\" , top:\"50%\"}}/>\n          :\n          <>\n              <Box  p={1} display=\"flex\" justifyContent=\"center\">\n                  <Button variant=\"contained\" \n                      style={{background : orange[600], color : \"white\"}}\n                      onClick={startClick}>\n                      {maxYear===0 ? \"Start New Vision\" : \"Open Existing Vision\"}\n                  </Button>\n              </Box>                  \n          </>\n          }\n        </Box>\n    </Box>\n\n  )\n\n}\n\nexport default withRouter(Welcome);\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Styles.css\";\n\nconst YoutubeEmbed = ({ embedId }) => (\n  <div width=\"100%\">\n    <iframe\n      width=\"100%\"\n      //height=\"200\"\n      src={`https://www.youtube.com/embed/${embedId}`}\n      frameBorder=\"0\"\n      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n      allowFullScreen\n      title=\"Embedded youtube\"\n    />\n  </div>\n);\n\nYoutubeEmbed.propTypes = {\n  embedId: PropTypes.string.isRequired\n};\n\nexport default YoutubeEmbed;","import React, {useContext, useEffect, useState} from 'react';\n\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter} from 'react-router-dom';\n\nimport Typography from '@material-ui/core/Typography';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport MyCalendar from './MyCalendar';\n\nimport HeaderSideMenu from './HeaderSideMenu';\n\nimport Vision from './Vision';\nimport { Box, Button, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport YoutubeEmbed from './YoutubeEmbed';\n\nfunction Initialize(props)\n{\n\n  const {history,} =props;\n  \n  const [showHelp,setShowHelp]=useState(false);\n  const [period,setPeriod]=useState(\"5\");\n  const { currentUser } = useContext(AuthContext);\n  const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n  const [topics,setTopics]=useState([]);\n\n  useEffect(()=>{\n    fetchTopicsDB();\n    return () => {\n      if (history.action === \"POP\") {\n          // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n              console.log(\"------ profile ------- after -----\");\n              console.log(\"------ location -----\",history.location.pathname);\n              window.location.replace(\"/\");\n          }\n     }\n  },[]);\n\n  const fetchTopicsDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref=firebase.firestore().collection(\"Topics\");\n          const data=await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  const storeNewYearDB = async(year)=>\n  {\n    try {\n     var item = {}\n\n    for (let index = 0; index < topics.length; index++) {\n        item[topics[index].id] = \"I would like to...\";\n        item[topics[index].id+\"-url\"] = topics[index].placeholder;\n        console.log(\"this topic added \", topics[index]);\n    } \n\n    item[\"maxYear\"] = year;\n\n    console.log(\"adding vision started\", item);\n\n    user_ref.set(item,{ merge: true }).then(()=>{\n        console.log(\"vision successfully stored\");\n        return true;\n    });\n\n/*         visions_ref.doc(year).set(item).then(()=>{\n            console.log(\"vision successfully stored\");\n            return true;\n        }); */\n\n    }catch(err){\n        console.log(err);\n      } \n      return false;   \n  }\n\n/*   const storeNewYearDB = async(year)=>\n  {\n    try {\n\n        console.log(\"add vision started\", year);\n\n        visions_ref.doc(year).set({\"year\":year}).then((item)=>{\n            console.log(\"max year created: \" , item.id);\n            return true;\n        });\n    }catch(err){\n        console.log(err);\n      }\n      return false;\n  }    \n */\n  \n function handleRadioChange(event,value){\n      console.log(value);\n      setPeriod(value);\n  }\n  function goClick(){\n    var max = (new Date().getFullYear()) + Number.parseInt(period);\n    console.log(\"max\" , max);\n    if(storeNewYearDB(max))\n        history.push({\n          pathname: \"/vision\",\n          state: { \"maxYear\": max }\n        });\n    else\n        console.log(\"vision is not created\");\n  }\n\n  return(\n    <>\n    <Typography>{showHelp}</Typography>\n      { \n            (showHelp===false\n              ?   <StyledPaper message=\"Introduction\">\n                      <YoutubeEmbed embedId=\"TUHmyEp4-7A\"/>\n                      <Button variant=\"contained\" fullWidth\n                                color=\"primary\" onClick={setShowHelp(true)}>\n                                    Save\n                      </Button>\n                  </StyledPaper>\n              :   <StyledPaper message=\"Choose your desired period\">\n                      <FormControl component=\"fieldset\">\n                          <RadioGroup aria-label=\"period\" name=\"period1\" value={period} onChange={handleRadioChange}>\n                              <FormControlLabel value=\"1\" control={<Radio/>} label=\"One Year Vision\" />\n                              <FormControlLabel value=\"5\" control={<Radio/>} label=\"Five Year Vision\" />\n                              <FormControlLabel value=\"10\" control={<Radio/>} label=\"10 Year Vision\" />\n                          </RadioGroup>\n                          <Button variant=\"contained\" //className={classes.goButton}\n                              onClick={goClick}>Go!\n                          </Button>\n                      </FormControl>\n                  </StyledPaper>\n          )\n      }\n      </>\n  )\n}\n\nexport default withRouter(Initialize);","import 'react-calendar/dist/Calendar.css';\nimport React, { useEffect, useState } from 'react';\nimport YoutubeEmbed from './YoutubeEmbed';\nimport firebase,{storage} from '../firebase';\nimport { Box, Button, Card, CardActionArea, CardActions, CardContent, CardMedia, Grid, Typography } from '@material-ui/core';\nimport StyledPaper from './StyledPaper';\nimport { withRouter } from 'react-router-dom';\n\nconst HelpVisionBoard = props =>\n{\n    const {history,} =props;\n\n    useEffect(() => {\n        \n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ profile ------- after -----\");\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n           }\n      }); \n\n    function nextClick(){\n        history.push(\"/initialize\")\n    }\n\n    return(\n\n        <StyledPaper message=\"Introduction\">\n            <YoutubeEmbed embedId=\"yNOpBc72DKM\"/>\n            <Button variant=\"contained\"\n                    color=\"primary\" onClick={nextClick}>\n                Next\n            </Button>\n        </StyledPaper>\n        )\n}\nexport default withRouter(HelpVisionBoard);","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"./Auth\";\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\n  const {currentUser} = useContext(AuthContext);\n\n  console.log(\"PrivateRoute component \");\n  console.log(\"currentuser is:\" + currentUser);\n\n  if (!currentUser) {\n    console.log(\"no user therefor redirect to signin\");\n    return <Redirect to=\"/signin\" />;\n  } \n\n  return (\n    <Route\n      {...rest}\n      render={routeProps =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps} />\n        ) : (\n          <Redirect to={\"/signin\"} />\n        )\n      }\n    />\n  );\n};\n\n\nexport default PrivateRoute","import 'react-calendar/dist/Calendar.css';\nimport React, { useEffect, useState } from 'react';\nimport YoutubeEmbed from './YoutubeEmbed';\nimport firebase,{storage} from '../firebase';\nimport { Box, Button, Typography } from '@material-ui/core';\nimport StyledPaper from './StyledPaper';\nimport { useHistory } from 'react-router-dom';\n\n\nexport default function Content() {\n\nconst [loading,setLoading]=useState(false);\nconst [contents,setContents]=useState([]);\nconst db = firebase.firestore().collection(\"Content\");\n\nconst history = useHistory();\n\n\n    useEffect(() => {\n        fetchContents();\n\n        \n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ profile ------- after -----\");\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n           }\n      },[]); \n      \n       const fetchContents=async()=>{\n          setLoading(true);\n          try {\n                console.log(\"fetch content started\");\n                const data=await db.get();\n      //          console.log(data);\n      \n                const items = [];\n                data.docs.forEach(item=>{\n                    items.push({id:item.id,...item.data()});\n                  });\n                  setContents(items);\n                  setLoading(false);\n      //          console.log(item);\n              }catch(err){\n                console.log(err);\n              }\n        } \n      \n\n\n    console.log(\"content\");\n\n    return(\n        <div>\n            {loading ? <h2>Loading...</h2> :\n            contents.map((content,index)=>(\n                <div>\n                    <StyledPaper message={content.Title}>\n                        <YoutubeEmbed embedId={content.YoutubeID}/>\n                        <Button color=\"primary\" >\n                            More\n                        </Button>\n                    </StyledPaper>\n                </div>\n                ))\n            }\n        </div>\n        )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Snackbar, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport Alert from '@material-ui/lab/Alert';\nimport StyledPaper from './StyledPaper';\nimport { storage } from \"../firebase\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65',\n        color: '#ffffff'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\n    const AdminDashboard = props => {\n\n\n    const history = useHistory();\n    const classes = useStyles();\n\n    useEffect(() => {\n\n        console.log(\"------ action -------\", history.action);\n\n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n        }\n    },[])\n\n    return (\n\n        <Metrics classes={classes}/>\n    \n    );\n}\n\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const [file,setFile]=useState(null);\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name',\n          headerClassName: classes.header, width: 150 },\n        { field: 'topic', headerName: 'Force', \n          headerClassName: classes.header, width: 90 },\n        { field: 'unit', headerName: 'Unit',\n          headerClassName: classes.header },\n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"name...\");\n    const [unitName,setUnitName]=useState(\"unit...\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n\n    const okAddMetricDialogView = async()=>{\n\n        console.log(selectedTopic);\n        \n        try{\n\n            var url=\"\";\n            if(file!==null)\n            {\n                url = await storeImageMetricDB(file,metricName);\n            }\n            await metric_ref.doc(metricName)\n                .set({\"topic\":selectedTopic,\"unit\":unitName,\"value\":0, \"url\":url},{ merge: true })\n                .then(()=>\n                {\n                    console.log(\"metric added to vision\"); \n                    setOpenMetricDialog(false);\n                    fetchMetricNamesDB();\n                    setMetricName(\"\");\n                    setUnitName(\"\");\n                    setFile(null);\n                });\n      }catch(err){\n        console.log(\"errrror: metric not added\");     \n        console.log(err);\n      }\n    }\n\n    const storeImageMetricDB = async(file,metric) => {\n        console.log(\"image file name: \" + file);\n        if(file){\n        const uploadTask = await storage.ref(`/images/metrics/${metric}`).put(file);\n    \n        var url = await storage.ref(`/images/metrics/`).child(metric).getDownloadURL();\n        console.log(\"url\", url);\n        return url;\n    }}    \n\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <StyledPaper message=\"Metrics\">\n\n        <Grid container xs={12} justify=\"center\" spacing={1}>\n\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth onClick={handleAdd}>\n                    <Add />\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled>\n                    <Edit/>\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                    <Delete/>\n                </Button>\n            </Grid>\n        </Grid>\n\n        <div style={{ height: 400, width: '100%' }}>\n            <DataGrid rows={metricDefinitions} columns={metricProperties}\n                pageSize={5} checkboxSelection={false}\n                onRowClick={handleRowClick}/>\n        </div>    \n    \n        </StyledPaper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n            <DialogTitle>Metric</DialogTitle>\n            <DialogContent>\n            <form >\n                <FormControl>\n                    <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n                    <Select\n                        native variant=\"standard\"\n                        onChange={selectedTopicChangeView}>\n                        <option aria-label=\"None\" value=\"\" />                                \n                        {\n                            topics.map((item,index)=>\n                        <option  value={item.id}>{item.id}</option>)\n                        }\n                    </Select>\n                    <Box  m={1}>\n                        <TextField value={metricName} variant=\"outlined\" onChange={metricNameChangeView}/>\n                    </Box>\n                    <Box  m={1}>\n                        <TextField value={unitName} variant=\"outlined\"  onChange={unitNameChangeView}/>\n                    </Box>\n                    <div justify=\"center\">\n                        <input type=\"file\" onChange={(e)=>setFile(e.target.files[0])} />\n                        <img src={file===null \n                            ? \"https://via.placeholder.com/400x300\" \n                            : URL.createObjectURL(file)}\n                            alt=\"Uploaded Image\"\n                            height=\"50\"\n                            width=\"50\"/>\n                    </div>\n\n                </FormControl>\n            </form>\n            </DialogContent>\n            <DialogActions>\n            <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n                Cancel\n            </Button>\n            <Button onClick={okAddMetricDialogView} color=\"primary\">\n                Add\n            </Button>\n            </DialogActions>\n        </Dialog>\n      </>    \n    );\n\n\n}\n\nexport default withRouter(AdminDashboard)","import React, {useContext, useEffect, useState} from 'react';\n\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter, useHistory} from 'react-router-dom';\n\nimport Typography from '@material-ui/core/Typography';\nimport firebase from '../firebase';\nimport { AuthContext } from \"../Components/Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport Profile from './Profile';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport Vision from './Vision';\nimport { Box, Button, CircularProgress, Container } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport Welcome from './Welcome.js';\nimport Initialize from './Initialize';\nimport HelpVisionBoard from './HelpVisionBoard';\nimport PrivateRoute from './PrivateRoute';\nimport Content from './Content';\nimport VisionPDF from './VisionPDF';\nimport AdminDashboard from './AdminDashboard';\n\nfunction Home(props) {\n    \n  const { currentUser } = useContext(AuthContext);\n\n  const [loading,setLoading] = useState(false);\n  const [name,setName] = useState(\"\");\n  const [role,setRole] = useState(\"user\");\n  const [maxYear,setMaxYear]=useState(0);\n\n\n/*   if (!currentUser) {\n    console.log(\"no user therefor redirect to signin\");\n    return <Redirect to=\"/signin\" />;\n  }  */\n  useEffect(() => {\n    fetchUserInfo();\n}, []);\n\n  function handleSignOut(){\n\n      firebase.auth().signOut().then(() => {\n        console.log(\"user is out\", \"Success\");\n        window.location = \"./signin\";\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n  }\n\n\n  const fetchUserInfo=async()=>{\n    try {\n\n            setLoading(true);\n            const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n            const doc = await user_ref.get();\n            console.log(doc);\n\n            if(!doc) \n            {\n              console.log(\"new user\");\n              setName(\"Anonym\");\n              setRole(\"user\");\n              setMaxYear(0);\n              setLoading(false);\n\n            }\n            else\n            {\n                console.log(doc);\n                setName(await doc.data().name);\n                setRole(await doc.data().role);\n                setMaxYear(await doc.data().maxYear);\n                console.log(\"user name \", doc.data().name);\n                console.log(\"user role\", doc.data().role);\n                console.log(\"year\", doc.data().maxYear);\n                setLoading(false);\n            }\n        }catch(err){\n            console.log(err);\n            setLoading(false);\n\n        }\n  } \n\n \n  return (\n\n    <Container component=\"main\" maxWidth=\"xs\">\n\n        {loading \n          ? <Box style={{position:\"relative\"}}><CircularProgress  style={{position:\"absolute\", left:\"50%\" , top:\"50%\"}} /></Box>\n          : <div>    \n              <Router>\n                  <HeaderSideMenu role={role} user={currentUser} year={maxYear}/>\n                  <Switch>\n                      <PrivateRoute exact path=\"/profile\"><Profile /></PrivateRoute>\n                      <PrivateRoute exact path=\"/admin\"><AdminDashboard /></PrivateRoute>\n                      <PrivateRoute exact path=\"/content\"><Content/></PrivateRoute>\n                      <PrivateRoute exact path=\"/vision\"><Vision /></PrivateRoute>\n                      <PrivateRoute exact path=\"/export\"><VisionPDF /></PrivateRoute>\n                      <PrivateRoute exact path=\"/\"><Welcome maxYear={maxYear}/></PrivateRoute>\n                      <PrivateRoute exact path=\"/initialize\"><Initialize /></PrivateRoute>\n                      <PrivateRoute exact path=\"/help\"><HelpVisionBoard /></PrivateRoute>\n                  </Switch>\n              </Router>\n            </div>\n        }\n    </Container>\n  );\n\n}\n\nconst Start = props =>\n{\n  const {history,maxYear} =props;\n\n\n  function startClick(){\n    if(maxYear===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", maxYear );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": maxYear }\n            });\n      }\n}\n\n  return(\n\n    /* style={{background : orange[300]}} */\n    <Box p={2}>\n        <img src=\"xsmap.jpg\" alt='Map' style={{height:'auto',width:'100%', borderRadius:'50%'}}/>\n        <Box p={2} display=\"flex\" justifyContent=\"center\">\n            <Button variant=\"contained\" style={{background : orange[600], color : \"white\"}} onClick={startClick}>\n                  {maxYear===0 ? \"Start New Vision\" : \"Open Existing Vision\"}\n            </Button>   \n        </Box>\n    </Box>\n  )\n\n}\n\n\nfunction Einstein()\n{\n\n  return(\n    <div>\n        <img src=\"einstein.gif\" alt='Nature' style={{height:'auto',width:'100%'}}/>\n        <Typography align='center' variant=\"body1\">\n        <p></p>\n          <i >\"Life is like riding a bike, move to keep your balance.\" ~ Einstein</i>\n        </Typography>\n    </div>\n  )\n\n}\nexport default withRouter(Home);","import React from 'react';\nimport {  BrowserRouter as Router,  Route,  Switch} from 'react-router-dom';\nimport SignIn from './templates/SignIn';\nimport SignUp from './templates/SignUp';\nimport ForgotPassword from './templates/ForgotPassword';\nimport Home from './Components/Home';\nimport PrivateRoute from './Components/PrivateRoute';\nimport Container from '@material-ui/core/Container';\nimport { AuthProvider } from './Components/Auth';\n\n\n\nexport default function App() {\n  \n  document.title = \"Personal Map of Life\";\n  console.log(\"App component started...\");\n\n  return (\n    <Container component=\"main\"  style={{padding:0}}>\n\n    <div>\n      <AuthProvider>\n        <Router>    \n            <Switch>\n                <PrivateRoute exact path=\"/\"><Home /></PrivateRoute>    \n                <Route exact path=\"/signin\"><SignIn /></Route>\n                <Route exact path=\"/signup\"><SignUp /></Route>\n                <Route exact path=\"/forgotpassword\"><ForgotPassword /></Route>\n\n            </Switch>\n        </Router>\n      </AuthProvider>  \n \n    </div>\n    </Container>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}