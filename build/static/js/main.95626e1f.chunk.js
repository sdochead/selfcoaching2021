(this.webpackJsonpvitacoach=this.webpackJsonpvitacoach||[]).push([[0],{1011:function(e,t,n){},1012:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),i=n(29),o=n.n(i),s=n(32),l=n(35),u=n(13),d=n.n(u),j=n(16),b=n(1096),h=n(139),p=n(1062),f=n(381),O=n(1074),g=n(1069),x=n(359),m=n(96),v=n.n(m),y=n(138),w=n(72),k=n(1061),C=n(10),S=n(252);n(1013),n(607),n(1014);S.a.initializeApp({apiKey:"AIzaSyBnHIZLpMJXQxtHh0433SCNVLXASaYZjwo",authDomain:"vitacoach.firebaseapp.com",projectId:"vitacoach",storageBucket:"vitacoach.appspot.com",messagingSenderId:"349656251768",appId:"1:349656251768:web:a8b237c8295870d3cd5c8d",measurementId:"G-XEBDPBZK7Q"});var N=S.a.storage(),E=n(1016),I=r.a.createContext(),D=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(C.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)(!0),l=Object(C.a)(s,2),u=l[0],d=l[1];return console.log("AuthProvider component started..."),Object(a.useEffect)((function(){S.a.auth().onAuthStateChanged((function(e){console.log("user is = "+e),e?(o(e),console.log("user is in")):console.log("no user"),d(!1)}))}),[]),u?Object(c.jsx)(x.a,{p:10,width:"100%",justifyContent:"center",children:Object(c.jsx)(E.a,{})}):Object(c.jsx)(I.Provider,{value:{currentUser:i},children:t})},B=n(168),U=n(41),L=U.AppBar,W=U.Typography,F=U.Paper,P=U.Box,T=U.makeStyles,R=U.Toolbar,M=T((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},plainHeader:{left:e.spacing(3),background:"#ff8a65"},centeredHeader:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},goButton:{background:B.a[800],color:"white"},searchIcon:{position:"absolute",right:e.spacing(2),color:"white"}}}));function V(e){var t=M(),n=e.children,a=e.message,r=e.actionIcon;return Object(c.jsxs)(F,{className:t.paper,children:[r?Object(c.jsx)(L,{p:1,position:"static",className:r?t.plainHeader:t.centeredHeader,children:Object(c.jsxs)(R,{children:[Object(c.jsx)(W,{p:1,children:a}),Object(c.jsx)("div",{className:t.searchIcon,children:r})]})}):Object(c.jsx)(L,{p:1,position:"static",className:t.centeredHeader,children:Object(c.jsx)(W,{p:1,children:a})}),Object(c.jsx)(P,{p:2,display:"flex",flexDirection:"column",justifyItems:"center",justifyContent:"center",children:n})]})}var Y=n(208),A=n.n(Y),z=n(106);function H(){return Object(c.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 Personal Map of Life ",(new Date).getFullYear(),"."]})}var G=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},box:{display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var _=Object(l.i)((function(e){var t=e.history,n=G(),r=Object(a.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(n){var c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=n.target.elements,a=c.email,r=c.password,e.prev=2,e.next=5,S.a.auth().signInWithEmailAndPassword(a.value,r.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(I).currentUser?Object(c.jsx)(l.a,{to:"/"}):Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(p.a,{}),Object(c.jsxs)(z.a,{className:n.paper,children:[Object(c.jsxs)(x.a,{p:2,className:n.box,children:[Object(c.jsx)(b.a,{className:n.avatar,children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign In"})]}),Object(c.jsx)(x.a,{m:2,children:Object(c.jsx)(A.a,{fullWidth:!0,onClick:function(){var e=new S.a.auth.GoogleAuthProvider;S.a.auth().signInWithRedirect(e),S.a.auth().getRedirectResult().then((function(e){if(e.credential){var t=e.credential.accessToken;console.log(t)}e.user})).catch((function(e){e.code,e.message,e.email,e.credential;console.log(e)}))},children:"Sign In with Google Account"})}),Object(c.jsx)(y.a,{variant:"body1",children:"or"}),Object(c.jsxs)(x.a,{p:3,className:n.box,children:[Object(c.jsx)(y.a,{component:"h2",variant:"h6",children:"Use Your Existing Account"}),Object(c.jsxs)("form",{className:n.form,onSubmit:r,noValidate:!0,children:[Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(c.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"green",className:n.submit,children:"Sign In"})]}),Object(c.jsxs)(g.a,{container:!0,children:[Object(c.jsx)(g.a,{item:!0,xs:!0,children:Object(c.jsx)(O.a,{href:"./forgotpassword",variant:"body2",children:"Forgot password?"})}),Object(c.jsx)(g.a,{item:!0,children:Object(c.jsx)(O.a,{href:"./signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]})]}),Object(c.jsx)(x.a,{mt:8,children:Object(c.jsx)(H,{})})]})}));function q(){return Object(c.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(O.a,{color:"inherit",href:"https://material-ui.com/",children:"Personal Map of Life"})," ",(new Date).getFullYear(),"."]})}var K=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},box:{display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var J=Object(l.i)((function(e){var t=e.history,n=K(),r=Object(a.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,r,i,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,c=n.email,a=n.password,e.prev=2,e.next=5,S.a.auth().createUserWithEmailAndPassword(c.value,a.value);case 5:if(r=e.sent,console.log(r),console.log(r.user),!r||!r.user){e.next=21;break}console.log("uid",r.user.uid),(i={}).name="anonym",i.birthyear=2e3,i.maxYear=0,o=S.a.firestore().collection("Users").doc(r.user.uid);try{o.set(i).then((function(e){console.log("user initiated in db",e)}))}catch(s){console.log("error",s)}return e.next=18,r.user.sendEmailVerification();case 18:return e.next=20,S.a.auth().signOut();case 20:alert("Signup is successful. We also sent you a verification email.");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0),alert(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(p.a,{}),Object(c.jsxs)(z.a,{className:n.paper,children:[Object(c.jsxs)(x.a,{p:2,className:n.box,children:[Object(c.jsx)(b.a,{className:n.avatar,children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign Up"})]}),Object(c.jsx)(x.a,{m:2,children:Object(c.jsx)(A.a,{label:"Sign Up with Google Account",fullWidth:!0,onClick:function(){var e=new S.a.auth.GoogleAuthProvider;S.a.auth().signInWithRedirect(e),S.a.auth().getRedirectResult().then((function(e){if(e.credential){var t=e.credential.accessToken;console.log(t)}e.user})).catch((function(e){e.code,e.message,e.email,e.credential;console.log(e)}))}})}),Object(c.jsx)(y.a,{variant:"body1",children:"or"}),Object(c.jsxs)(x.a,{p:3,className:n.box,children:[Object(c.jsx)(y.a,{component:"h1",variant:"h6",children:"Create A New Account"}),Object(c.jsxs)("form",{className:n.form,onSubmit:r,noValidate:!0,children:[Object(c.jsxs)(g.a,{container:!0,spacing:2,children:[Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password"})}),Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat password",label:"Repeat Password",type:"password",id:"repeat password"})})]}),Object(c.jsx)(h.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign Up"}),Object(c.jsx)(g.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(g.a,{item:!0,children:Object(c.jsx)(O.a,{href:"./signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]})]}),Object(c.jsx)(x.a,{mt:5,children:Object(c.jsx)(q,{})})]})})),X=n(568),Z=n.n(X),Q=n(169);function $(){return Object(c.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(O.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var ee=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},success:{margin:e.spacing(1),backgroundColor:Q.a},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var te=Object(l.i)((function(e){e.history;var t=ee(),n=Object(a.useState)("Enter your email"),r=Object(C.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)(!1),l=Object(C.a)(s,2),u=l[0],d=l[1],j=Object(a.useState)(!1),m=Object(C.a)(j,2),w=m[0],N=m[1],E=Object(a.useState)(""),I=Object(C.a)(E,2),D=I[0],B=I[1];return Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(p.a,{}),Object(c.jsxs)("div",{className:t.paper,children:[Object(c.jsx)(b.a,{className:u?t.success:t.avatar,children:u?Object(c.jsx)(Z.a,{color:"white"}):Object(c.jsx)(v.a,{})}),!1===u?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(x.a,{m:1,children:Object(c.jsx)(y.a,{component:"h1",variant:"h5",children:"Password Forgotten?"})}),Object(c.jsx)(g.a,{m:1,container:!0,spacing:2,children:Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{error:w,variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",type:"email",autoComplete:"email",onChange:function(e){o(e.target.value),console.log(e.target.value)},helperText:D})})}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsx)(h.a,{align:!0,onClick:function(){console.log(i),S.a.auth().sendPasswordResetEmail(i).then((function(){d(!0),console.log("we sent you an email.")})).catch((function(e){var t=e.code,n=e.message;console.log(t,n),B(n),N(!0)}))},variant:"contained",color:"primary",children:"Rest Password"})})]}):Object(c.jsxs)(x.a,{children:[Object(c.jsx)(y.a,{align:"center",component:"h1",variant:"h5",children:"An email has been sent to you. Please check your inbox."}),Object(c.jsx)(x.a,{p:5,children:Object(c.jsx)(O.a,{align:"center",underline:"always",href:"./signin",children:Object(c.jsx)(y.a,{align:"center",component:"h1",variant:"h5",children:"Go Back to Sign In Page"})})})]})]}),Object(c.jsx)(x.a,{mt:5,children:Object(c.jsx)($,{})})]})})),ne=n(1053),ce=n(1082),ae=n(120),re=n(565),ie=n(121),oe=n(361),se=n.n(oe),le=n(360),ue=n.n(le),de=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(0)},title:{flexGrow:1}}})),je=(Object(l.i)((function(e){var t=e.history,n=de(),a=r.a.useState(null),i=Object(C.a)(a,2),o=i[0],s=i[1],l=function(){s(null)};return Object(c.jsx)(ne.a,{position:"static",children:Object(c.jsxs)(ce.a,{children:[Object(c.jsx)(y.a,{variant:"h6",className:n.title,children:Object(c.jsx)(ue.a,{label:"Home",onClick:function(e){s(e.currentTarget)}})}),Object(c.jsx)(ae.a,{edge:"end",className:n.menuButton,color:"inherit","aria-label":"setting",children:Object(c.jsx)(se.a,{label:"Setting",onClick:function(){console.log("setting pushed."),t.push("/setting"),s(null)}})}),Object(c.jsxs)(re.a,{id:"simple-menu",anchorEl:o,keepMounted:!0,open:Boolean(o),onClose:l,children:[Object(c.jsx)(ie.a,{onClick:l,children:"My Profile"}),Object(c.jsx)(ie.a,{onClick:function(){console.log("my vision pushed."),t.push("/myvision"),s(null)},children:"My Vision"}),Object(c.jsx)(ie.a,{onClick:l,children:"My Strategy"}),Object(c.jsx)(ie.a,{onClick:function(){console.log("my calendar pushed."),t.push("/mycalendar"),s(null)},children:"My Calendar"}),Object(c.jsx)(ie.a,{onClick:function(){S.a.auth().signOut().then((function(){console.log("user is out","Success"),window.location="./signin"})).catch((function(e){console.error(e)}))},children:"Logout"})]})]})})})),n(1054),n(1055),n(569),n(268)),be=n.n(je),he=n(267),pe=n.n(he);Object(w.a)({stickToBottom:{width:"100%",position:"fixed",bottom:0,backgroundColor:"lightblue"}});var fe=n(21),Oe=n(46),ge=n(1070),xe=n(1071),me=n(1072),ve=n(160);function ye(e){e.year;var t=e.topic,n=e.user_ref,r=Object(a.useState)(""),i=Object(C.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(!0),u=Object(C.a)(l,2),b=u[0],p=u[1];Object(a.useEffect)((function(){O()}),[]);var O=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch vision started"),n.get().then((function(e){var n=Object(fe.a)({id:e.id},e.data());s(n[t]),console.log("description updated")}))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var g=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("update description started"),n.set(Object(Oe.a)({},t,o),{merge:!0}).then((function(){console.log("description is saved"),p(!0)}))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.a,{p:1,id:"desc",value:o,fullWidth:!0,InputProps:{style:{fontSize:14}},multiline:!0,rows:5,variant:"outlined",onChange:function(e){s(e.target.value),p(!1)}}),Object(c.jsx)(h.a,{disabled:b,color:"primary",variant:"contained",label:"Save",onClick:function(){return g()},children:"Save Changes"})]})}var we=n(1092);function ke(e){var t=e.year,n=e.topic,r=e.userID,i=Object(a.useState)(""),o=Object(C.a)(i,2),s=o[0],l=o[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){var e=Object(j.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch image started"),c=N.ref().child("/images/".concat(r,"/").concat(t,"/").concat(n)),console.log("year: "+t),console.log(c),e.next=7,c.getDownloadURL().then((function(e){console.log("C3 P url:",e),l(e)}));case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(we.a,{severity:"info",children:["Choose an ",Object(c.jsx)("strong",{children:" inspiring "})," picture"]}),Object(c.jsx)(x.a,{p:1,children:Object(c.jsx)("img",{id:"money-image",src:""===s?"https://via.placeholder.com/400x300":s,alt:"",width:"100%"})}),Object(c.jsx)(x.a,{display:"flex",justifyContent:"center",children:Object(c.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return c=e.target.files[0],console.log("image file name: "+c),void(c&&N.ref("/images/".concat(r,"/").concat(t,"/").concat(n)).put(c).on("state_changed",console.log,console.error,(function(){N.ref("/images/".concat(r,"/").concat(t)).child(n).getDownloadURL().then((function(e){console.log(e),l(e)}))})));var c}})})]})}var Ce=n(571),Se=n.n(Ce),Ne=n(209),Ee=n(1028),Ie=n(1029),De=n(1075),Be=n(1077),Ue=n(1076),Le=n(1063),We=n(1066),Fe=n(1065),Pe=n(278),Te=n(118),Re=n(1026),Me=n(1064),Ve=n(1084),Ye=n(1085),Ae=n(1086);function ze(e){e.year;var t=e.topic,n=(e.userID,e.user_ref),r=Object(a.useState)([]),i=Object(C.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)([]),u=Object(C.a)(l,2),p=u[0],O=u[1],g=Object(a.useState)(!1),m=Object(C.a)(g,2),v=m[0],w=m[1],k=Object(a.useState)(""),N=Object(C.a)(k,2),E=N[0],I=N[1],D=Object(a.useState)(0),B=Object(C.a)(D,2),U=B[0],L=B[1],W=Object(a.useState)("unit"),F=Object(C.a)(W,2),P=F[0],T=F[1],R=Object(a.useState)(""),M=Object(C.a)(R,2),V=M[0],Y=M[1],A=n.collection("ExpectedMetrics"),z=S.a.firestore().collection("Metrics");Object(a.useEffect)((function(){H(),G()}),[]);var H=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch metrics started"),e.next=4,A.where("topic","==",t).get();case 4:n=e.sent,c=[],n.docs.forEach((function(e){var t=Object(fe.a)({id:e.id},e.data());c.push(t),console.log(t)})),O(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),G=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,z.where("topic","==",t).get();case 4:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),s(c),console.log("Metric Defs",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),_=function(){var e=Object(j.a)(d.a.mark((function e(n,c){var a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{a={topic:t,name:n,value:c,url:V},console.log(a),A.add(a,{merge:!0}),console.log("metric added to vision")}catch(r){console.log("errrror: metric not added to vision"),console.log(r)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function q(e){L(e.target.value)}function K(){w(!1)}var J=function(){w(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(Ee.a,{children:[void 0===p?console.log("selectedMetrics is undefined"):0===p.length?console.log("selectedMetrics has no item"):p.map((function(e,t){return Object(c.jsxs)(Ie.a,{children:[Object(c.jsx)(De.a,{children:Object(c.jsx)(b.a,{children:void 0===e.url?Object(c.jsx)(Ve.a,{}):Object(c.jsx)("img",{src:e.url,alt:e.name})})}),Object(c.jsx)(Be.a,{primary:e.name,secondary:e.value}),Object(c.jsx)(Ue.a,{children:Object(c.jsx)(ae.a,{id:e.name,edge:"end","aria-label":"delete",onClick:function(){return t=e.id,console.log(t),void(window.confirm("You are deleting your account. This will erase all your information permanently. Are you sure?")&&A.doc(t).delete().then((function(){console.log("metric successfully deleted!"),H()})).catch((function(e){console.error("Error removing User: ",e)})));var t},children:Object(c.jsx)(Ye.a,{})})})]})})),Object(c.jsxs)(Ie.a,{children:[Object(c.jsx)(Be.a,{primary:"Add metric"}),Object(c.jsx)(Ue.a,{children:Object(c.jsx)(ae.a,{edge:"end","aria-label":"add",onClick:function(){I(""),L(0),w(!0)},children:Object(c.jsx)(Ae.a,{autoFocus:!0})})})]})]}),Object(c.jsxs)(Le.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:v,onClose:K,children:[Object(c.jsxs)(We.a,{children:[t.toUpperCase()," Metrics"]}),Object(c.jsx)(Fe.a,{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)(x.a,{m:1,display:"flex",alignItems:"left",children:[Object(c.jsxs)(x.a,{children:[Object(c.jsx)(y.a,{children:"Metric Name: "}),Object(c.jsxs)(Pe.a,{id:"my-input",variant:"outlined",native:!0,onChange:function(e){I(e.target.value);var t=function(e,t){for(var n=0;n<e.length;n++){var c=e[n];if(c.id===t)return{unit:c.unit,url:c.url}}}(o,e.target.value);console.log("metric dialog",t),T(t.unit),Y(t.url)},children:[Object(c.jsx)("option",{"aria-label":"None",value:""}),o.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.id})}))]})]}),Object(c.jsx)(x.a,{pl:2,pt:4,children:Object(c.jsx)(b.a,{children:Object(c.jsx)("img",{src:V,width:50,height:50,alt:E})})})]}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsxs)(Te.a,{children:[Object(c.jsx)(y.a,{children:"Target Value:"}),Object(c.jsx)(f.a,{disabled:""===E,type:"number",variant:"outlined",defaultValue:"0",id:"desiredValue","aria-describedby":"my-helper-text",onChange:q}),Object(c.jsx)(Re.a,{id:"my-helper-text",children:"Target value shall be a number."})]})}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsx)(f.a,{disabled:!0,value:P,onChange:q})})]})}),Object(c.jsxs)(Me.a,{children:[Object(c.jsx)(h.a,{onClick:K,color:"primary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:function(){console.log("selected metric name",E),console.log("selected metric value",U),""===E?console.log("metric name is empty"):(_(E,U),H(),J())},color:"primary",children:"Add"})]})]})]})}var He=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}}));function Ge(e){var t=e,n=e.classes,r=e.selectedTopic,i=e.setSelectedTopic,o=(Object(a.useContext)(I).currentUser,Object(a.useState)([])),s=Object(C.a)(o,2),l=s[0],u=s[1];Object(a.useEffect)((function(){b()}),[]);var b=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),u(c),c.length>=1&&""===r&&i(c[0].id),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();function h(e){i(e.target.alt),console.log("selected topic: "+e.target.alt)}return Object(c.jsx)(Je,{classes:n,wizard:t,messageToUser:"Which life force?",children:Object(c.jsx)("div",{id:"gallery-placeholder",children:Object(c.jsx)(ge.a,{cellHeight:160,cols:2,className:n.GridList,autoFocus:!0,children:l.map((function(e){return Object(c.jsxs)(xe.a,{cols:1,children:[Object(c.jsx)("img",{src:e.placeholder,alt:e.id,onClick:h,style:r===e.id?{border:"5px solid #021a40"}:{}}),Object(c.jsx)(me.a,{title:e.id,titlePosition:"bottom",actionPosition:"left",className:n.GridListTileBar})]},e.id)}))})})})}function _e(e){var t=e,n=e.classes,r=e.desc,i=e.setDesc;return Object(a.useEffect)((function(){}),[]),Object(c.jsxs)(Je,{classes:n,wizard:t,messageToUser:"Name it",children:["Description",Object(c.jsx)(f.a,{autoFocus:!0,p:1,id:"desc",value:r,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){console.log(e),console.log(e.target.value),i(e.target.value)}})]})}function qe(e){var t=e,n=e.classes,r=e.file,i=e.setFile;return Object(a.useEffect)((function(){}),[]),Object(c.jsxs)(Je,{classes:n,wizard:t,messageToUser:"Visualize it",children:[Object(c.jsx)(y.a,{children:"Visual"}),Object(c.jsxs)("div",{justify:"center",children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return i(e.target.files[0])}}),Object(c.jsx)("img",{src:null===r?"https://via.placeholder.com/400x300":URL.createObjectURL(r),alt:"Uploaded Images",height:"200",width:"200"})]})]})}function Ke(e){var t=e,n=e.classes,r=e.date,i=e.setDate;return Object(a.useEffect)((function(){}),[]),Object(c.jsx)(Je,{classes:n,wizard:t,children:Object(c.jsx)(Ne.a,{defaultView:"decade",maxDetail:"decade",showWeekNumbers:"true",defaultValue:r,onChange:function(e){console.log(e),i(e)}})})}function Je(e){var t=e.children,n=e.classes,a=(e.messageToUser,e.wizard);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(z.a,{id:a.currentStep,className:n.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:n.header,children:Object(c.jsxs)(y.a,{p:1,children:["Step ",a.currentStep,"/",a.totalSteps]})}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,className:n.content,children:[Object(c.jsx)(g.a,{item:!0,xs:2,children:Object(c.jsx)("button",{disabled:1===a.currentStep,onClick:a.previousStep,children:"Back"})}),Object(c.jsx)(g.a,{item:!0,xs:7}),Object(c.jsx)(g.a,{item:!0,xs:3,children:a.currentStep===a.totalSteps?Object(c.jsx)("button",{onClick:a.finish,children:"Finish"}):Object(c.jsx)("button",{onClick:a.nextStep,children:"Next"})})]}),Object(c.jsx)(x.a,{p:2,children:t})]})})}Object(l.i)((function(e){var t=e.history,n=He(),r=Object(a.useState)(""),i=Object(C.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(""),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(null),h=Object(C.a)(b,2),p=h[0],f=h[1],O=Object(a.useState)(new Date(2022,1,1)),g=Object(C.a)(O,2),x=g[0],m=g[1],v=Object(a.useContext)(I).currentUser,y=function(e,t,n,c){(console.log("image file name: "+e),e)&&N.ref("/images/".concat(t,"/").concat(n,"/").concat(c)).put(e).on("state_changed",console.log,console.error,(function(){N.ref("/images/".concat(t,"/").concat(n)).child(c).getDownloadURL().then((function(e){console.log("image is saved",e)}))}))};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(Se.a,{children:[Object(c.jsx)(Ge,{classes:n,selectedTopic:o,setSelectedTopic:s}),Object(c.jsx)(_e,{classes:n,desc:d,setDesc:j}),Object(c.jsx)(qe,{classes:n,file:p,setFile:f}),Object(c.jsx)(Ke,{classes:n,date:x,setDate:m,finish:function(){console.log("this is finish from Dream"),console.log("topic=",o),console.log("desc=",d),console.log("date=",x.toString()),console.log("user=",v.uid),function(){var e=x.getFullYear();console.log(e);var n=o,c=S.a.firestore().collection("Users").doc(v.uid).collection("visions").doc(e.toString());c.get().then((function(a){a.exists?(console.log("Document data:",a.data()),alert("You have other dreams on this date as well. You can integrate this dream directly to your vision board.")):(console.log("No such document!"),c.set(Object(Oe.a)({},n,d),{merge:!0}).then((function(){alert("Your new dream is successfully created."),y(p,v.uid,e,n),t.push("/visionBoard")})))})).catch((function(e){console.log("Error getting document:",e)}))}()}})]})})})),n(1078),n(572),n.p,Object(w.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"}}}));Object(w.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var Xe=n(276);n(1094),Object(w.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));n(1056),n(1057),n(1059),n(1060),Object(w.a)({root:{},media:{height:0,paddingTop:"100%"}});Object(w.a)({root:{},media:{height:0,paddingTop:"100%"}});Object(w.a)({root:{},media:{height:0,paddingTop:"100%"}});n(235);var Ze=n(117),Qe=n(1050),$e=n(1052),et=n(1051),tt=n(362),nt=n.n(tt),ct=n(1093),at=n(1080),rt=n(269),it=n.n(rt),ot=n(270),st=n.n(ot),lt=n(271),ut=n.n(lt),dt=n(1024),jt=n(1068),bt=n(575),ht=n.n(bt),pt=n(574),ft=n.n(pt),Ot=n(573),gt=n.n(Ot),xt=n(576),mt=n.n(xt);function vt(e){var t=e.children,n=e.value,a=e.index,r=Object(Ze.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(fe.a)(Object(fe.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsxs)(x.a,{p:1,children:[Object(c.jsx)(y.a,{children:t}),Object(c.jsx)(x.a,{p:1})]})}))}function yt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var wt=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{top:"auto",bottom:0},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},add:{position:"absolute",right:e.spacing(2),top:"auto"},save:{position:"absolute",right:e.spacing(10),top:"auto"},deleteAccordion:{position:"absolute",right:e.spacing(10)},editAccordion:{position:"absolute",right:e.spacing(15)},disabledText:{opacity:1}}})),kt=(Object(l.i)((function(e){var t=e.history,n=r.a.useState(0),i=Object(C.a)(n,2),o=i[0],s=i[1],l=function(e,t){s(t)},u=wt(),b=Object(a.useState)([]),h=Object(C.a)(b,2),p=h[0],f=h[1],O=Object(a.useState)(!1),g=Object(C.a)(O,2),m=g[0],v=g[1],w=Object(a.useContext)(I).currentUser,k=S.a.firestore().collection("Users").doc(w.uid).collection("visions");Object(a.useEffect)((function(){N()}),[]);var N=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,console.log("fetch vision started"),e.next=5,k.get();case 5:t=e.sent,n=[],t.docs.forEach((function(e){n.push(Object(fe.a)({id:e.id},e.data()))})),f(n),v(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:u.root,children:[m?Object(c.jsx)("h2",{children:"Loading..."}):p.map((function(e,n){return Object(c.jsxs)(Qe.a,{className:u.root,children:[console.log(e,n),Object(c.jsxs)($e.a,{className:u.root,expandIcon:Object(c.jsx)(nt.a,{}),children:[Object(c.jsxs)(y.a,{className:u.heading,children:["Vision of ",e.id]}),Object(c.jsx)(dt.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(c.jsx)(gt.a,{color:"primary",className:u.editAccordion,onClick:function(){return function(e){t.push("/newVision",e)}(e)}})}),Object(c.jsx)(dt.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(c.jsx)(ft.a,{id:n,color:"secondary",className:u.deleteAccordion,onClick:function(){return function(e){k.doc(e.id).delete().then((function(){console.log(e,"Document successfully deleted!"),N()})).catch((function(e){console.error("Error removing document: ",e)}))}(e)}})})]}),Object(c.jsxs)(et.a,{className:u.root,children:[Object(c.jsx)(ne.a,{position:"absolute",color:"secondary",className:u.appBar,children:Object(c.jsxs)(ct.a,{value:o,onChange:l,"aria-label":"simple tabs example",children:[Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(it.a,{})},yt(0))),Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(st.a,{})},yt(1))),Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(ut.a,{})},yt(2)))]})}),Object(c.jsxs)(vt,{value:o,index:0,className:u.root,bottom:"10",children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"My health will be:"}),Object(c.jsx)(x.a,{fullWidth:!0,border:1,p:1,borderRadius:"borderRadius",children:e.health})]}),Object(c.jsx)(x.a,{p:2})]}),Object(c.jsxs)(vt,{value:o,index:1,className:u.root,children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"My finance will be:"}),Object(c.jsx)(x.a,{fullWidth:!0,border:1,p:1,borderRadius:"borderRadius",children:e.money})]}),Object(c.jsx)(x.a,{p:2})]}),Object(c.jsxs)(vt,{value:o,index:2,className:u.root,children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"My social connection will be:"}),Object(c.jsx)(x.a,{fullWidth:!0,border:1,p:1,borderRadius:"borderRadius",children:e.social})]}),Object(c.jsx)(x.a,{p:2})]}),Object(c.jsx)(x.a,{p:2})]})]})})),Object(c.jsx)(x.a,{p:2}),Object(c.jsx)(jt.a,{color:"secondary","aria-label":"add",className:u.add,onClick:function(){t.push("/newVision")},children:Object(c.jsx)(ht.a,{})}),Object(c.jsx)(jt.a,{color:"secondary","aria-label":"show",className:u.save,children:Object(c.jsx)(mt.a,{onClick:function(){t.push("/visionBoard")}})})]})})),n(1079)),Ct=n(1087),St=n(133),Nt=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}})),Et=Object(l.i)((function(e){var t=Object(l.g)(),n=Nt();return Object(a.useEffect)((function(){return console.log("------ profile ------- useEffect -----"),console.log("------ action -------",t.action),function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(Dt,{classes:n}),Object(c.jsx)(Bt,{classes:n}),Object(c.jsx)(It,{classes:n})]})}));function It(e){var t=e.classes,n=Object(a.useContext)(I).currentUser;S.a.firestore().collection("Users").doc(n.uid);return Object(c.jsxs)(z.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Delete"})}),Object(c.jsx)(x.a,{p:2,display:"flex",justifyContent:"center",children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){if(window.confirm("You are deleting your account. This will erase all your information permanently. Are you sure?")){var e=S.a.firestore().collection("Users").doc(n.uid);e.collection("ExpectedMetrics").get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data()),e.collection("ExpectedMetrics").doc(t.id).delete().then((function(){console.log("metric deleted!")})).catch((function(e){console.error("Error removing metric: ",e)}))}))})),e.delete().then((function(){console.log("User main doc deleted!"),S.a.auth().signOut().then((function(){console.log("user is out","Success"),window.location="./signin"})).catch((function(e){console.error(e)}))})).catch((function(e){console.error("Error removing User: ",e)}))}},children:"Delete My Account"})})]})}function Dt(e){var t=e.classes,n=Object(a.useContext)(I).currentUser,r=Object(a.useState)(),i=Object(C.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(),u=Object(C.a)(l,2),b=u[0],p=u[1],O=Object(a.useState)(!0),m=Object(C.a)(O,2),v=m[0],w=m[1],k=Object(a.useState)(!1),N=Object(C.a)(k,2),E=N[0],D=N[1],B=S.a.firestore().collection("Users").doc(n.uid);function U(){D(!1)}Object(a.useEffect)((function(){W()}),[]);var L=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("update profile started"),B.update({name:o,birthYear:b}).then((function(){console.log("profile is updated",o),w(!0),D(!0)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),W=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch profile started",B),B.get().then((function(e){e.exists?(s(e.data().name),p(e.data().birthYear),console.log(e.data().name),console.log(e.data().birthYear)):console.log("such user doesnot exist",e.data())}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(V,{message:"Profile",children:[Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Username:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:o,onChange:function(e){return function(e){s(e.target.value),w(!1)}(e)},autoFocus:!0})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Year of Birth:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{type:"number",variant:"outlined",margin:"normal",fullWidth:!0,value:b,onChange:function(e){return function(e){p(e.target.value),w(!1)}(e)}})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsx)(g.a,{container:!0,xs:12,justify:"center",children:Object(c.jsx)(g.a,{item:!0,xs:3,className:t.content,children:Object(c.jsx)(h.a,{disabled:v,variant:"contained",fullWidth:!0,color:"primary",onClick:L,children:"Save"})})}),Object(c.jsx)(kt.a,{open:E,autoHideDuration:6e3,onClose:U,children:Object(c.jsx)(we.a,{onClose:U,severity:"success",children:"Your profile is updated."})})]})}function Bt(e){var t=e.classes,n=S.a.firestore().collection("Metrics"),r=Object(a.useState)([{field:"id",headerName:"Name",width:150},{field:"topic",headerName:"Force",width:90}]),i=Object(C.a)(r,2),o=i[0],s=(i[1],Object(a.useState)([])),l=Object(C.a)(s,2),u=l[0],b=l[1],p=Object(a.useState)(!0),O=Object(C.a)(p,2),x=O[0],m=O[1],v=Object(a.useState)(!1),w=Object(C.a)(v,2),k=w[0],N=w[1];function E(){N(!1)}var I=Object(a.useState)([]),D=Object(C.a)(I,2),B=D[0],U=D[1],L=Object(a.useState)(""),W=Object(C.a)(L,2),F=W[0],P=W[1],T=Object(a.useState)(""),R=Object(C.a)(T,2),M=R[0],V=R[1];var Y=Object(a.useState)(0),A=Object(C.a)(Y,2),H=A[0],G=A[1],_=Object(a.useState)(0),q=Object(C.a)(_,2),K=q[0],J=q[1];var X=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),U(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Z(),X()}),[]);var Z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,n.get();case 4:t=e.sent,c=[],t.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),b(c),console.log("Metric Defs",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(z.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Metrics "})}),Object(c.jsxs)(g.a,{container:!0,xs:12,justify:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){N(!0)},children:Object(c.jsx)(Ae.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!0,children:Object(c.jsx)(Ct.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:x,onClick:function(){n.doc(K).delete().then((function(){console.log(K," successfully deleted!"),Z()})).catch((function(e){console.error("Error removing document: ",e)}))},children:Object(c.jsx)(Ye.a,{})})})]}),Object(c.jsx)("div",{style:{height:400,width:"100%"},children:Object(c.jsx)(St.a,{rows:u,columns:o,pageSize:5,checkboxSelection:!1,onRowClick:function(e){console.log(e.id),e.rowIndex>=0&&(m(!1),J(e.id))}})})]}),Object(c.jsxs)(Le.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:k,onClose:E,children:[Object(c.jsx)(We.a,{children:"Metric"}),Object(c.jsx)(Fe.a,{children:Object(c.jsx)("form",{children:Object(c.jsxs)(Te.a,{children:[Object(c.jsx)(Xe.a,{htmlFor:"demo-dialog-native",children:"Related Topic"}),Object(c.jsxs)(Pe.a,{native:!0,onChange:function(e){G(e.target.value)},children:[Object(c.jsx)("option",{"aria-label":"None",value:""}),B.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.id})}))]}),Object(c.jsx)(f.a,{defaultValue:F,onChange:function(e){P(e.target.value)}}),Object(c.jsx)(f.a,{defaultValue:M,onChange:function(e){V(e.target.value)}})]})})}),Object(c.jsxs)(Me.a,{children:[Object(c.jsx)(h.a,{onClick:E,color:"primary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:function(){console.log(H);try{n.doc(F).set({topic:H,unit:M,value:0},{merge:!0}),console.log("metric added to vision"),N(!1),Z(),P(""),V("")}catch(e){console.log("errrror: metric not added to vision"),console.log(e)}},color:"primary",children:"Add"})]})]})]})}var Ut=n(28),Lt=n(80),Wt=n(6),Ft=n(1067),Pt=n(577),Tt=n.n(Pt),Rt=n(578),Mt=n.n(Rt),Vt=n(579),Yt=n.n(Vt),At=n(1030),zt=n(1088),Ht=n(1089),Gt=n(580),_t=n.n(Gt),qt=n(581),Kt=n.n(qt),Jt=n(369),Xt=n.n(Jt),Zt=200,Qt="Home",$t=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(Zt,"px)"),marginLeft:Zt,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:Zt,flexShrink:0},drawerPaper:{width:Zt},drawerHeader:Object(fe.a)(Object(fe.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-200},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),en=Object(l.i)((function(e){var t=e.history,n=e.role,a=(e.user,e.year),i=$t(),o=r.a.useState(!1),l=Object(C.a)(o,2),u=l[0],d=l[1],j=Object(Ut.a)(),b=function(){d(!1)},h=function(){b(),Qt="Profile"};function f(){S.a.auth().signOut().then((function(){console.log("user is out","Success"),window.location="./signin"})).catch((function(e){console.error(e)}))}return Object(c.jsxs)("div",{className:i.root,children:[Object(c.jsx)(p.a,{}),Object(c.jsx)(ne.a,{position:"fixed",className:Object(Wt.a)(i.appBar,Object(Oe.a)({},i.appBarShift,u)),children:Object(c.jsxs)(ce.a,{children:[Object(c.jsx)(ae.a,{color:"inherit","aria-label":"open drawer",onClick:function(){d(!0)},edge:"start",className:Object(Wt.a)(i.menuButton,u&&i.hide),children:Object(c.jsx)(Tt.a,{})}),Object(c.jsxs)(y.a,{children:[" ",Qt," "]})]})}),Object(c.jsx)(ce.a,{}),Object(c.jsxs)(Lt.a,{className:i.drawer,variant:"temporary",anchor:"left",open:u,onClose:b,classes:{paper:i.drawerPaper},children:[Object(c.jsx)("div",{className:i.drawerHeader,children:Object(c.jsx)(ae.a,{onClick:b,children:"ltr"===j.direction?Object(c.jsx)(Mt.a,{}):Object(c.jsx)(Yt.a,{})})}),Object(c.jsx)(Ft.a,{}),Object(c.jsxs)(Ee.a,{children:[Object(c.jsxs)(Ie.a,{component:s.b,to:"/",onClick:function(){console.log("my vision pushed."),0===a?t.push({pathname:"/help"}):(console.log("maxYear: ",a),t.push({pathname:"/vision",state:{maxYear:a}})),b(),Qt="Vision Board"},children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(_t.a,{})}),Object(c.jsx)(Be.a,{primary:"Vision Board"})]},"Vision Board"),"admin"===n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(Ie.a,{button:!0,children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(Kt.a,{})}),Object(c.jsx)(Be.a,{primary:"Plan"})]},"Plan"),Object(c.jsxs)(Ie.a,{button:!0,onClick:function(){console.log("my calendar pushed."),t.push("/mycalendar"),b(),Qt="Calendar"},children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(zt.a,{})}),Object(c.jsx)(Be.a,{primary:"Calendar"})]},"Calendar")]}):null]}),Object(c.jsx)(Ft.a,{}),Object(c.jsxs)(Ee.a,{children:[Object(c.jsxs)(Ie.a,{component:s.b,to:"/content",onClick:function(){console.log("content pushed."),b(),Qt="Content"},children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(pe.a,{})}),Object(c.jsx)(Be.a,{primary:"Content"})]},"Learn"),"admin"===n?Object(c.jsxs)(Ie.a,{button:!0,children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(be.a,{})}),Object(c.jsx)(Be.a,{primary:"Community"})]},"Community"):null]}),Object(c.jsx)(Ft.a,{}),Object(c.jsxs)(Ee.a,{children:["admin"===n?Object(c.jsxs)(Ie.a,{component:s.b,to:"/admin",onClick:h,children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(Xt.a,{})}),Object(c.jsx)(Be.a,{primary:"Admin"})]},"Admin"):Object(c.jsxs)(Ie.a,{component:s.b,to:"/profile",onClick:h,children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(Xt.a,{})}),Object(c.jsx)(Be.a,{primary:"Profile"})]},"Profile"),Object(c.jsxs)(Ie.a,{button:!0,onClick:f,children:[Object(c.jsx)(At.a,{children:Object(c.jsx)(Ht.a,{})}),Object(c.jsx)(Be.a,{primary:"Signout"})]},"Sign Out")]})]})]})}));function tn(e){var t=e.children,n=e.value,a=e.index,r=Object(Ze.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(fe.a)(Object(fe.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsxs)(x.a,{p:1,children:[Object(c.jsx)(y.a,{children:t}),Object(c.jsx)(x.a,{p:2})]})}))}function nn(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var cn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},cancelButton:{top:"auto",left:e.spacing(2),position:"absolute"},addButton:{top:"auto",left:"auto",right:e.spacing(2),position:"absolute"}}})),an=(Object(l.i)((function(e){var t=e.history,n=e.location,i=Object(a.useContext)(I).currentUser,o=r.a.useState(0),s=Object(C.a)(o,2),l=s[0],u=s[1],b=r.a.useState(!1),p=Object(C.a)(b,2),O=p[0],g=p[1],m=r.a.useState(!1),v=Object(C.a)(m,2),w=v[0],k=v[1],E=r.a.useState(""),D=Object(C.a)(E,2),B=D[0],U=D[1],L=r.a.useState(""),W=Object(C.a)(L,2),F=W[0],P=W[1],T=r.a.useState(""),R=Object(C.a)(T,2),M=R[0],V=R[1],Y=r.a.useState(2020),A=Object(C.a)(Y,2),z=A[0],H=A[1],G=r.a.useState(""),_=Object(C.a)(G,2),q=_[0],K=_[1],J=r.a.useState(""),X=Object(C.a)(J,2),Z=X[0],Q=X[1],$=r.a.useState(""),ee=Object(C.a)($,2),te=ee[0],ce=ee[1],ae=r.a.useState(null),re=Object(C.a)(ae,2),ie=re[0],oe=re[1],se=r.a.useState(null),le=Object(C.a)(se,2),ue=le[0],de=le[1],je=r.a.useState(null),be=Object(C.a)(je,2),he=be[0],pe=be[1];Object(a.useEffect)((function(){Oe()}),[]);var Oe=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),!n.state){e.next=14;break}return k(!0),console.log(n.state.id),U(n.state.health),P(n.state.money),V(n.state.social),H(n.state.id),e.next=10,ge("health");case 10:return e.next=12,ge("money");case 12:return e.next=14,ge("social");case 14:g(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ge(e){N.ref().child("/images/".concat(i.uid,"/").concat(n.state.id,"/").concat(e)).getDownloadURL().then((function(t){switch(console.log(t),e){case"health":K(t),console.log("h");break;case"money":Q(t),console.log("m");break;case"social":ce(t),console.log("s");break;default:console.log("what?")}})).catch((function(e){console.log(e)}))}var xe=cn(),me=S.a.firestore().collection("Users").doc(i.uid).collection("visions"),ve=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("add vision started"),we(i,z,"health",ie),we(i,z,"money",ue),we(i,z,"social",he),me.doc(z).set({health:B,money:F,social:M}),ye()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){t.push("/myvision")},we=function(e,t,n,c){c&&N.ref("/images/".concat(e.uid,"/").concat(t,"/").concat(n)).put(c).on("state_changed",console.log,console.error,(function(){N.ref("/images/".concat(e.uid,"/").concat(t)).child(n).getDownloadURL().then((function(e){console.log(e)}))}))};return Object(c.jsx)("div",{className:xe.root,children:O?Object(c.jsx)("h2",{children:"Loading..."}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{className:xe.yearLabel,children:"Which year?"}),Object(c.jsx)(f.a,{id:"year",type:"number",placeholder:"year has to be a number",disabled:w,required:!0,className:xe.yearField,defaultValue:z,onChange:function(e){return H(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsxs)(tn,{value:l,index:0,className:xe.root,bottom:"10",children:[Object(c.jsx)(y.a,{children:"How would like your health to be?"}),Object(c.jsx)(f.a,{id:"vision_desc",defaultValue:B,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){return U(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(y.a,{children:"How do you visualize it?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return oe(e.target.files[0])}}),Object(c.jsx)("img",{id:"health-image",src:ie?URL.createObjectURL(ie):""===q?"https://via.placeholder.com/400x300":q,alt:"Uploaded Images",height:"200",width:"200"})]})]}),Object(c.jsxs)(tn,{value:l,index:1,className:xe.root,children:[Object(c.jsx)(y.a,{children:"How would be your desired financial situation?"}),Object(c.jsx)(f.a,{id:"money_desc",defaultValue:F,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){return P(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(y.a,{children:"How do you visualize it?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return de(e.target.files[0])}}),Object(c.jsx)("img",{id:"money-image",src:ue?URL.createObjectURL(ue):""===Z?"https://via.placeholder.com/400x300":Z,alt:"Uploaded Images",height:"200",width:"200"})]})]}),Object(c.jsxs)(tn,{value:l,index:2,className:xe.root,children:[Object(c.jsx)(y.a,{children:"How would you like your social environment (e.g. friends, family, tribe etc) to be?"}),Object(c.jsx)(f.a,{id:"social_desc",defaultValue:M,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){return V(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(y.a,{children:"How do you visualize it?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return pe(e.target.files[0])}}),Object(c.jsx)("img",{src:he?URL.createObjectURL(he):""===te?"https://via.placeholder.com/400x300":te,alt:"Uploaded Images",height:"200",width:"200"}),"            "]})]}),Object(c.jsx)(ne.a,{position:"absolute",color:"secondary",className:xe.appBar,children:Object(c.jsxs)(ct.a,{value:l,onChange:function(e,t){u(t)},"aria-label":"simple tabs example",children:[Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(it.a,{})},nn(0))),Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(st.a,{})},nn(1))),Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(ut.a,{})},nn(2)))]})}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(h.a,{variant:"contained",color:"primary",className:xe.addButton,onClick:ve,children:"Done"}),Object(c.jsx)(h.a,{variant:"contained",color:"primary",className:xe.cancelButton,onClick:ye,children:"Cancel"}),Object(c.jsx)(x.a,{p:1})]})})})),n(617),function(e){var t=e.embedId;return Object(c.jsx)("div",{width:"100%",children:Object(c.jsx)("iframe",{width:"100%",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})})});n(1058);var rn=n(1098),on=n(1097),sn=n(1090);function ln(e){var t=e.children,n=e.value,a=e.index,r=Object(Ze.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(fe.a)(Object(fe.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsx)(x.a,{p:3,children:Object(c.jsx)(y.a,{children:t})})}))}function un(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var dn,jn,bn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),hn=(Object(l.i)((function(e){var t=bn(),n=Object(a.useContext)(I).currentUser,r=S.a.firestore().collection("Users").doc(n.uid).collection("visions"),i=S.a.firestore().collection("ExpectedMetrics"),o=Object(a.useState)(0),s=Object(C.a)(o,2),l=s[0],u=s[1],b=Object(a.useState)([]),p=Object(C.a)(b,2),O=p[0],g=p[1],x=Object(a.useState)([]),m=Object(C.a)(x,2),v=m[0],w=m[1],k=Object(a.useState)([]),D=Object(C.a)(k,2),B=D[0],U=D[1],L=Object(a.useState)(""),W=Object(C.a)(L,2),F=W[0],P=W[1],T=Object(a.useState)(null),R=Object(C.a)(T,2),M=R[0],V=R[1],Y=Object(a.useState)(0),A=Object(C.a)(Y,2),H=A[0],G=A[1],_=Object(a.useState)(2021),q=Object(C.a)(_,2),K=q[0],J=q[1],X=Object(a.useState)([]),Z=Object(C.a)(X,2),Q=Z[0],$=Z[1],ee=Object(a.useState)([]),te=Object(C.a)(ee,2),ce=(te[0],te[1]),ae=Object(a.useState)(!1),re=Object(C.a)(ae,2),ie=re[0],oe=re[1],se=Object(a.useState)(!1),le=Object(C.a)(se,2),ue=le[0],de=le[1],je=Object(a.useState)(!1),be=Object(C.a)(je,2),he=be[0],pe=be[1],Oe=Object(a.useState)(!0),we=Object(C.a)(Oe,2),Ce=we[0];we[1];Object(a.useEffect)((function(){de(!0),Se(),Ie(),Pe(H),de(!1)}),[]);var Se=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),g(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Ne=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch vision started of year ",typeof t,t),r.doc(t).get().then((function(e){V(Object(fe.a)({id:e.id},e.data())),console.log("selectedVision successfully fetched: "+e)}))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ee=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fetch metrics started of year ",typeof t,t),i.where("year","==",t).where("userID","==",n.uid).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(fe.a)({id:e.id},e.data())),console.log("selectedMetric successfully fetched: "+e)})),ce(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ie=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch vision started"),e.next=4,r.get();case 4:t=e.sent,n=[],c=[],t.docs.forEach((function(e){n.push({value:e.id,label:""+e.id}),c.push(Object(fe.a)({id:e.id},e.data()))})),$(n),w(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),De=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,r,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],c=0;c<O.length;c++)a={key:c,alt:O[c].id,src:O[c].placeholder,width:1,height:1},n.push(a);return e.prev=2,r=t.items.map((function(e){return Be(e)})),e.next=6,Promise.all(r);case 6:return i=e.sent,console.log("urls "+i),e.next=10,i.forEach((function(e){for(var t=0;t<O.length;t++)O[t].id===e.alt&&(n[t]=e,console.log("index: "+n[t])),console.log("item "+n[t].src)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),Be=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMetadata();case 2:return n=e.sent,e.next=5,n.name;case 5:return c=e.sent,console.log(c),a={src:"",alt:c,width:1,height:1},e.next=10,t.getDownloadURL();case 10:return a.src=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ue=function(e){r.doc(e).delete().then((function(){console.log(e," successfully deleted!"),function(e){N.ref("/images/".concat(n.uid,"/").concat(e)).listAll().then((function(e){e.items.forEach((function(e){e.delete().then((function(){console.log("File deleted successfully"),V(null),G(0)})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)}))}(e)})).catch((function(e){console.error("Error removing document: ",e)}))};var Pe=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch images started"),oe(!0),c=N.ref().child("/images/".concat(n.uid,"/").concat(t)),console.log("year: "+t),console.log(c),e.next=7,c.listAll();case 7:return a=e.sent,e.next=10,De(a);case 10:return r=e.sent,e.next=13,U(r);case 13:return e.next=15,oe(!1);case 15:console.log("ended 1"),console.log("ended 2");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Te=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(t={},n=0;n<O.length;n++)t[O[n].id]="",console.log("this topic created ",O[n]);console.log("add vision started",t),r.doc(K).set(t)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Re(e){G(e),P(""),Pe(e),Ne(e),Ee(e)}var Ye=function(){pe(!1)};function Ae(e){P(e.target.alt),console.log("selected topic: "+e.target.alt),console.log("vision:"+M),console.log("vision topic desc:"+M[e.target.alt]),"undefined"===typeof M[e.target.alt]?console.log("undefined catcher"):console.log("yes desc exists")}var He=function(e,t){u(t)},Ge=function(){return Object(c.jsx)("div",{id:"c1",children:Object(c.jsxs)(z.a,{className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Vision Board "})}),ie?Object(c.jsx)(E.a,{}):0===B.length?Object(c.jsx)(ve.a,{photos:[{src:"https://www.emetabolic.com/media/pcon/vision-board-mrc-socialmedia-2089.jpg",alt:"Click on a year above"}],direction:"column",columns:1,onClick:function(){return alert("Click on a year above")}}):Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"gallery-placeholder",children:Object(c.jsx)(ge.a,{cellHeight:160,className:t.gridList,cols:2,autoFocus:!0,children:B.map((function(e){return Object(c.jsxs)(xe.a,{cols:1,children:[Object(c.jsx)("img",{src:e.src,alt:e.alt,onClick:Ae,style:F===e.alt?{border:"5px solid #021a40"}:{}}),Object(c.jsx)(me.a,{title:e.alt,titlePosition:"bottom",actionPosition:"left",className:t.titleBar})]},e.key)}))})}),""===F?Object(c.jsx)(y.a,{children:"Click on images for details"}):Object(c.jsxs)("div",{id:"details",m:1,children:[Object(c.jsx)("br",{}),Object(c.jsxs)(ne.a,{position:"static",className:t.headerDetails,children:[Object(c.jsxs)(y.a,{children:[" ","<<"," ",F," in ",M.id," ",">>"," "]}),Object(c.jsxs)(ct.a,{value:l,onChange:He,variant:"fullWidth",indicatorColor:"secondary",textColor:"default","aria-label":"icon label tabs example",children:[Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(Ve.a,{})},un(0))),Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(Ct.a,{})},un(1))),Object(c.jsx)(at.a,Object(fe.a)({icon:Object(c.jsx)(sn.a,{})},un(2)))]})]}),Object(c.jsx)(ln,{value:l,index:0,children:Object(c.jsx)(ke,{year:H,topic:F,userID:n.uid})}),Object(c.jsx)(ln,{value:l,index:1,children:Object(c.jsx)(ye,{year:H,topic:F,userID:n.uid})}),Object(c.jsx)(ln,{value:l,index:2,children:Object(c.jsx)(ze,{year:H,topic:F,userID:n.uid})}),Object(c.jsx)("div",{})]})]})]})})};return Object(c.jsxs)("div",{className:t.root,children:[ue?Object(c.jsx)(E.a,{justify:"center"}):Object(c.jsxs)(z.a,{id:"year-paper",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"TimeLine "})}),0===v.length?console.log("no vision yet",v.length):Object(c.jsxs)("div",{className:t.sliderLimit,children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(rn.a,{className:t.slider,value:H,"aria-labelledby":"discrete-slider",valueLabelDisplay:"on",step:null,marks:Q,min:2021,max:2050,onChange:function(e,t){return n=t,console.log("event.target.value",n),void Re(n+"");var n}})]}),v.map((function(e,n){return Object(c.jsx)(on.a,{color:e.id===H?"primary":"default",id:n,label:e.id,onClick:function(t){return function(e){console.log(e);var t=e.id;console.log("year click started"),Re(t),console.log("year click ended")}(e)},className:t.chip})})),Object(c.jsx)(on.a,{id:v.length,label:"+",onClick:function(){pe(!0)},className:t.chip}),Object(c.jsxs)(Le.a,{open:he,onClose:Ye,"aria-labelledby":"form-dialog-title",children:[Object(c.jsx)(We.a,{id:"form-dialog-title",children:"Year"}),Object(c.jsx)(Fe.a,{children:Object(c.jsx)(f.a,{autoFocus:!0,onChange:function(e){return function(e){J(e.target.value)}(e)},margin:"dense",id:"newYear",label:"year",type:"number"})}),Object(c.jsxs)(Me.a,{children:[Object(c.jsx)(h.a,{onClick:Ye,color:"primary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:function(){var e;!function(e){for(var t=0;t<v.length;t++)if(v[t].id===e)return!0;return!1}(K)?(Te(),Ye(),G(e=K),Ie(),P(""),Pe(e),Ne(e),Ee(e)):alert("You already started envisioning this year.")},color:"primary",children:"Go"})]})]}),0===H?console.log("negateChip not shown"):Object(c.jsx)(on.a,{id:v.length+1,label:"-",onClick:function(){window.confirm("You are deleting the vision of "+H+".\n Are you sure to continue?")&&(Ue(H),G(0),Ie(),P(""),U([]))},className:t.chip,color:"secondary"})]}),Ce?Object(c.jsx)(Ge,{}):null]})})),n(1073)),pn=n(23),fn=n(383),On=(pn.StyleSheet.create({page:{flexDirection:"row",backgroundColor:"#E4E4E4"},sectionOdd:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ccff33"},sectionEven:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ffccff"},button:{textDecoration:"none"}}),pn.StyleSheet.create({page:{backgroundColor:"#ffffff"},section:{margin:10,padding:10},sectionOdd:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ccff33"},sectionEven:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ffccff"},header:{backgroundColor:"#f6f6f5",display:"flex",flexDirection:"row",justifyContent:"center",padding:5},topicContainer:{display:"flex",flexDirection:"row",marginLeft:5},overviewContainer:{display:"flex",flexDirection:"row",marginLeft:5},title:{fontSize:20,marginBottom:10,fontweight:"bold"},overview:{fontSize:14},image:{height:200,width:200},subtitle:{display:"flex",justifyContent:"space-between",flexDirection:"row",width:150,alignItems:"center",marginBottom:12},vote:{display:"flex",flexDirection:"row"},rating:{height:10,width:10},vote_text:{fontSize:10},vote_pop:{fontSize:10,padding:2,backgroundColor:"#61C74F",color:"#fff"},vote_pop_text:{fontSize:10,marginLeft:4},detailsFooter:{display:"flex",flexDirection:"row"},lang:{fontSize:8,fontWeight:700},vote_average:{fontSize:8,marginLeft:4,fontWeight:"bold"},body:{padding:10},table:{display:"table",width:"auto",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderRightWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableColHeader:{width:"25%",borderStyle:"solid",borderColor:"#bfbfbf",borderBottomColor:"#000",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCol:{width:"25%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCellHeader:(dn={margin:"auto"},Object(Oe.a)(dn,"margin",5),Object(Oe.a)(dn,"fontSize",12),Object(Oe.a)(dn,"fontWeight",500),dn),tableCell:(jn={margin:"auto"},Object(Oe.a)(jn,"margin",5),Object(Oe.a)(jn,"fontSize",10),jn)}));function gn(e){var t=Object(l.h)().state,n=t.year,r=t.vision;console.log("vision pdf"),console.log("year",n),console.log("vision",r);var i=Object(a.useState)([]),o=Object(C.a)(i,2),s=o[0],u=o[1];function d(e){console.log(e.target.id),console.log(e.target.checked);var t=[];s.forEach((function(n){n.id===e.target.id&&(n.value=e.target.checked),t.push(n)})),u(t)}Object(a.useEffect)((function(){!function(){var e=[];r.forEach((function(t){e.push({id:t.topic,value:!0})})),u(e)}()}),[]);var j=function(){return Object(c.jsx)(pn.View,{style:On.table,children:Object(c.jsx)(pn.View,{style:On.tableRow,children:r&&r.map((function(e,t){return Object(c.jsx)(pn.View,{style:On.tableColHeader,children:Object(c.jsx)(pn.Image,{style:On.body,source:e.image})},t)}))})})},b=function(e){return Object(c.jsx)(pn.Document,{children:Object(c.jsxs)(pn.Page,{style:On.page,children:[Object(c.jsx)(pn.View,{style:On.header,children:Object(c.jsxs)(pn.Text,{style:On.title,children:[" Vision Board for ",n]})}),Object(c.jsx)(j,{}),r?r.map((function(e,t){return Object(c.jsxs)(pn.View,{style:t%2===1?On.sectionOdd:On.sectionEven,children:[Object(c.jsx)(pn.View,{style:On.topicContainer,children:Object(c.jsx)(pn.Text,{style:On.title,children:t+1+". "+e.topic})},"text"+t),Object(c.jsxs)(pn.View,{style:On.overviewContainer,children:[Object(c.jsx)(pn.Image,{style:On.image,source:e.image}),Object(c.jsx)(pn.View,{style:On.overviewContainer,children:Object(c.jsxs)(pn.Text,{style:On.overview,children:["Description: ",e.desc]})})]},"image"+t)]})})):null]})})};return Object(c.jsxs)(V,{message:"Customization",children:[Object(c.jsx)(x.a,{m:1,children:s.map((function(e,t){return Object(c.jsx)(x.a,{children:Object(c.jsx)(dt.a,{control:Object(c.jsx)(fn.a,{checked:e.value,onChange:d,id:e.id}),label:e.id})})}))}),Object(c.jsx)(pn.PDFDownloadLink,{document:Object(c.jsx)(b,{}),style:On.button,fileName:"myvision.pdf",children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?Object(c.jsx)(E.a,{}):Object(c.jsx)(h.a,{variant:"contained",color:"primary",children:" Save As PDF "})}})]})}var xn=n(589),mn=n.n(xn),vn=n(1091),yn=(new Date).getFullYear(),wn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(3),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},titleBarSelected:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",fontWeight:"bold"},goButton:{background:B.a[800],color:"white"},browseIcon:{color:"white",border:"white"}}})),kn=Object(l.i)((function(e){var t=Object(l.g)(),n=wn(),r=Object(a.useContext)(I).currentUser,i=Object(l.h)().state.maxYear;console.log("maxYear =",i);var o=S.a.firestore().collection("Users").doc(r.uid),s=(S.a.firestore().collection("ExpectedMetrics"),Object(a.useState)([])),u=Object(C.a)(s,2),b=u[0],h=u[1],p=Object(a.useState)([]),f=Object(C.a)(p,2),O=(f[0],f[1],Object(a.useState)([])),g=Object(C.a)(O,2),m=g[0],v=g[1],y=Object(a.useState)(""),w=Object(C.a)(y,2),k=w[0],D=w[1],B=Object(a.useState)(null),U=Object(C.a)(B,2),L=U[0],W=U[1],F=Object(a.useState)(0),P=Object(C.a)(F,2),T=P[0],R=(P[1],Object(a.useState)(yn)),M=Object(C.a)(R,2),Y=(M[0],M[1],Object(a.useState)([])),A=Object(C.a)(Y,2),z=(A[0],A[1],Object(a.useState)([])),H=Object(C.a)(z,2),G=(H[0],H[1],Object(a.useState)(!1)),_=Object(C.a)(G,2),q=_[0],K=_[1],J=Object(a.useState)(!1),X=Object(C.a)(J,2),Z=(X[0],X[1]),Q=Object(a.useState)(!1),$=Object(C.a)(Q,2),ee=($[0],$[1],Object(a.useState)(!0)),te=Object(C.a)(ee,2);te[0],te[1];Object(a.useEffect)((function(){return ie(),function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]);var ne=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:return n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),h(c),console.log("fetching topics success ended:",c),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ce=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,o.get();case 3:if(void 0!==(t=e.sent)){e.next=8;break}return e.abrupt("return",null);case 8:return n=Object(fe.a)({id:t.id},t.data()),W(n),console.log("selectedVision successfully fetched: "+t.data().finance),e.abrupt("return",n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();function re(e,t){for(var n=[],c=0;c<e.length;c++){var a={key:c,alt:e[c].id,src:t[e[c].id+"-url"],width:1,height:1};n.push(a),console.log("photo: ",a)}return console.log("placeholders added to images: ",n),n}var ie=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Z(!0),e.next=3,ce();case 3:return t=e.sent,console.log("vision",t),e.next=7,ne();case 7:return n=e.sent,console.log("items",n),e.next=11,re(n,t);case 11:c=e.sent,v(c),Z(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function oe(e){D(e.target.alt),console.log("selected topic: "+e.target.alt),console.log("vision:"+L),console.log("vision topic desc:"+L[e.target.alt]),"undefined"===typeof L[e.target.alt]?console.log("undefined catcher"):console.log("yes desc exists")}var se=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,o,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.id,null!==(c=t.target.files[0])){e.next=4;break}return e.abrupt("return");case 4:if(!window.confirm("Are you sure to change the picture?")){e.next=19;break}return K(!0),e.next=8,de(c,n,r.uid,i);case 8:return a=e.sent,e.next=11,ue(n,a);case 11:s=le(o=m,n),o[s].src=a,v(o),K(!1),console.log("temp",o),console.log("index",s),console.log("images",m);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function le(e,t){for(var n=0;n<e.length;n++)if(e[n].alt===t)return n}var ue=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c=t+"-url",console.log("update vision started :",c,n),o.update(Object(Oe.a)({},c,n),{merge:!0}).then((function(){return console.log("image url is updated",c,n),!0}))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),de=function(){var e=Object(j.a)(d.a.mark((function e(t,n,c,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("image file name: "+t),!t){e.next=10;break}return e.next=4,N.ref("/images/".concat(c,"/").concat(a,"/").concat(n)).put(t);case 4:return e.sent,e.next=7,N.ref("/images/".concat(c,"/").concat(a)).child(n).getDownloadURL();case 7:return r=e.sent,console.log("url",r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}();var je=function(){return Object(c.jsx)("div",{id:"gallery-placeholder",children:Object(c.jsx)(ge.a,{cellHeight:150,cols:2,autoFocus:!0,children:m.map((function(e){return Object(c.jsxs)(xe.a,{cols:1,style:k===e.alt?{border:"2px solid #021a40",borderRadius:"5px"}:{},children:[Object(c.jsx)("img",{src:e.src,alt:e.alt,onClick:oe}),Object(c.jsx)(me.a,{title:e.alt.toUpperCase(),titlePosition:"bottom",actionPosition:"right",className:k===e.alt?n.titleBarSelected:n.titleBar,actionIcon:Object(c.jsxs)("div",{class:"image-upload",children:[Object(c.jsx)("label",{for:e.alt,children:Object(c.jsx)(mn.a,{className:n.browseIcon})}),Object(c.jsx)("input",{id:e.alt,type:"file",style:{display:"none"},onChange:function(e){return se(e)}})]})})]},e.key)}))})})},be=function(){return Object(c.jsxs)("div",{id:"details",children:[Object(c.jsx)("br",{}),Object(c.jsx)(V,{message:k.toUpperCase()+" in words",actionIcon:Object(c.jsx)(hn.a,{children:Object(c.jsx)("img",{alt:"",src:m.find((function(e){return e.alt===k})).src,style:{width:"40px",height:"40px",marginTop:"10px",border:"0px solid white",borderRadius:"50%"}})}),children:Object(c.jsx)(ye,{year:T,topic:k,user_ref:o})}),Object(c.jsx)(V,{message:k.toUpperCase()+" in numbers",actionIcon:Object(c.jsx)(hn.a,{children:Object(c.jsx)("img",{alt:"",src:m.find((function(e){return e.alt===k})).src,style:{width:"40px",height:"40px",marginTop:"10px",border:"0px solid white",borderRadius:"50%"}})}),children:Object(c.jsx)(ze,{year:T,topic:k,userID:r.uid,user_ref:o})})]})};function he(){t.push({pathname:"/export",state:{year:i,vision:ve()}})}var pe=function(){return Object(c.jsx)(V,{message:"Vision Board "+i,actionIcon:Object(c.jsx)(ae.a,{onClick:he,style:{border:"2px solid white"},children:Object(c.jsx)(vn.a,{style:{color:"white"}})}),children:q?Object(c.jsx)(E.a,{}):Object(c.jsxs)("div",{children:[Object(c.jsx)(je,{}),""===k?Object(c.jsx)(x.a,{p:1,children:Object(c.jsx)(we.a,{severity:"info",children:"Click on images for details."})}):Object(c.jsx)(be,{})]})})};function ve(){for(var e=[],t=0;t<b.length;t++){var n=b[t],c=L[n.id+"-url"],a=L[n.id];e.push({topic:n.id,image:c,desc:a})}return console.log("visionObject",e),e}return Object(c.jsx)("div",{className:n.root,children:Object(c.jsx)(pe,{})})})),Cn=n(167),Sn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}}));Object(l.i)((function(e){var t=Sn();return Object(c.jsxs)("div",{children:[Object(c.jsx)(Dn,{classes:t}),Object(c.jsx)(In,{classes:t}),Object(c.jsx)(En,{classes:t}),Object(c.jsx)(Nn,{classes:t})]})}));function Nn(e){var t=e.classes,n=Object(a.useContext)(I).currentUser,r=S.a.firestore().collection("Users").doc(n.uid),i=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("reset started"),t=r.collection("visions"),console.log(t),void 0!==t){e.next=9;break}return console.log("no visions collection"),e.abrupt("return");case 9:return e.next=11,t.get();case 11:n=e.sent,console.log(n),n.docs.forEach((function(e){console.log(e),t.doc(e.id).delete().then((function(){console.log(e.id+"successfully deleted!")}))}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(z.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Reset "})}),Object(c.jsx)(x.a,{p:2,display:"flex",justifyContent:"center",children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",onClick:function(){console.log("reset started"),i()},children:"Clear My Visions"})})]})}function En(e){var t=e.classes,n=S.a.firestore().collection("Metrics"),r=Object(a.useState)([{field:"id",headerName:"Name",width:150},{field:"topic",headerName:"Force",width:90}]),i=Object(C.a)(r,2),o=i[0],s=(i[1],Object(a.useState)([])),l=Object(C.a)(s,2),u=l[0],b=l[1],p=Object(a.useState)(!0),O=Object(C.a)(p,2),x=O[0],m=O[1],v=Object(a.useState)(!1),w=Object(C.a)(v,2),k=w[0],N=w[1];function E(){N(!1)}var I=Object(a.useState)([]),D=Object(C.a)(I,2),B=D[0],U=D[1],L=Object(a.useState)(""),W=Object(C.a)(L,2),F=W[0],P=W[1],T=Object(a.useState)(""),R=Object(C.a)(T,2),M=R[0],V=R[1];var Y=Object(a.useState)(0),A=Object(C.a)(Y,2),H=A[0],G=A[1],_=Object(a.useState)(0),q=Object(C.a)(_,2),K=q[0],J=q[1];var X=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),U(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Z(),X()}),[]);var Z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,n.get();case 4:t=e.sent,c=[],t.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),b(c),console.log("Metric Defs",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(z.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Metrics "})}),Object(c.jsxs)(g.a,{container:!0,xs:12,justify:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){N(!0)},children:Object(c.jsx)(Ae.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!0,children:Object(c.jsx)(Ct.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:x,onClick:function(){n.doc(K).delete().then((function(){console.log(K," successfully deleted!"),Z()})).catch((function(e){console.error("Error removing document: ",e)}))},children:Object(c.jsx)(Ye.a,{})})})]}),Object(c.jsx)("div",{style:{height:400,width:"100%"},children:Object(c.jsx)(St.a,{rows:u,columns:o,pageSize:5,checkboxSelection:!1,onRowClick:function(e){console.log(e.id),e.rowIndex>=0&&(m(!1),J(e.id))}})})]}),Object(c.jsxs)(Le.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:k,onClose:E,children:[Object(c.jsx)(We.a,{children:"Metric"}),Object(c.jsx)(Fe.a,{children:Object(c.jsx)("form",{children:Object(c.jsxs)(Te.a,{children:[Object(c.jsx)(Xe.a,{htmlFor:"demo-dialog-native",children:"Related Topic"}),Object(c.jsxs)(Pe.a,{native:!0,onChange:function(e){G(e.target.value)},children:[Object(c.jsx)("option",{"aria-label":"None",value:""}),B.map((function(e,t){return Object(c.jsx)("option",{id:t,value:e.id,children:e.id})}))]}),Object(c.jsx)(f.a,{defaultValue:F,onChange:function(e){P(e.target.value)}}),Object(c.jsx)(f.a,{defaultValue:M,onChange:function(e){V(e.target.value)}})]})})}),Object(c.jsxs)(Me.a,{children:[Object(c.jsx)(h.a,{onClick:E,color:"primary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:function(){console.log(H);try{n.doc(F).set({topic:H,unit:M,value:0},{merge:!0}),console.log("metric added to vision"),N(!1),Z(),P(""),V("")}catch(e){console.log("errrror: metric not added to vision"),console.log(e)}},color:"primary",children:"Add"})]})]})]})}function In(e){var t=e.classes,n=(Object(a.useContext)(I).currentUser,Object(a.useState)([])),r=Object(C.a)(n,2),i=r[0],o=r[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),o(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)(z.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Life Forces"})}),Object(c.jsx)(Ee.a,{dense:!0,className:t.root,children:i.map((function(e,t){"checkbox-list-secondary-label-".concat(t);return Object(c.jsxs)(Ie.a,{children:[Object(c.jsx)(De.a,{children:Object(c.jsx)(b.a,{alt:e.id,src:e.placeholder})}),Object(c.jsx)(Be.a,{id:e.id,primary:e.id}),Object(c.jsx)(Ue.a,{children:Object(c.jsx)(fn.a,{edge:"end"})})]},e.id)}))})]})})}function Dn(e){var t=e.classes,n=Object(a.useContext)(I).currentUser,r=Object(a.useState)(),i=Object(C.a)(r,2),o=i[0],s=i[1],l=Object(a.useState)(),u=Object(C.a)(l,2),b=u[0],p=u[1],O=Object(a.useState)(!1),m=Object(C.a)(O,2),v=m[0],w=m[1],k=S.a.firestore().collection("Users").doc(n.uid);function N(){w(!1)}Object(a.useEffect)((function(){D()}),[]);var E=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("update profile started"),k.update({name:o,birthYear:b}).then((function(){console.log("profile is updated",o),w(!0)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),D=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch profile started",k),k.get().then((function(e){e.exists?(s(e.data().name),p(e.data().birthYear),console.log(e.data().name),console.log(e.data().birthYear)):console.log("such user doesnot exist",e.data())}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(z.a,{id:"profile",className:t.paper,children:[Object(c.jsx)(ne.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Profile "})}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Username:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:o,onChange:function(e){return s(e.target.value)},autoFocus:!0})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Year of Birth:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",fullWidth:!0,value:b,onChange:function(e){return p(e.target.value)}})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsx)(g.a,{container:!0,xs:12,justify:"center",children:Object(c.jsx)(g.a,{item:!0,xs:3,className:t.content,children:Object(c.jsx)(h.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:E,children:"Save"})})})]}),Object(c.jsx)(kt.a,{open:v,autoHideDuration:6e3,onClose:N,children:Object(c.jsx)(we.a,{onClose:N,severity:"success",children:"Your profile is updated."})})]})}var Bn=Object(l.i)((function(e){var t=e.history,n=e.maxYear,r=(Object(a.useContext)(I).currentUser,Object(a.useState)(!1)),i=Object(C.a)(r,2),o=i[0],s=(i[1],Object(a.useState)("welcome")),l=Object(C.a)(s,2);l[0],l[1];return Object(c.jsxs)(x.a,{p:2,children:[Object(c.jsx)("img",{src:0===n?"start-vision-600.jpg":"xsmap.jpg",alt:"Map",style:{height:"auto",width:"100%",borderRadius:"50%"}}),Object(c.jsx)(x.a,{p:2,children:!0===o?Object(c.jsx)(E.a,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(x.a,{p:1,display:"flex",justifyContent:"center",children:Object(c.jsx)(h.a,{variant:"contained",style:{background:Cn.a[600],color:"white"},onClick:function(){0===n?t.push({pathname:"/help"}):(console.log("maxYear: ",n),t.push({pathname:"/vision",state:{maxYear:n}}))},children:0===n?"Start New Vision":"Open Existing Vision"})})})})]})})),Un=n(427),Ln=n(1095);var Wn=Object(l.i)((function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(C.a)(n,2),i=r[0],o=r[1],s=Object(a.useState)("5"),l=Object(C.a)(s,2),u=l[0],b=l[1],p=Object(a.useContext)(I).currentUser,f=S.a.firestore().collection("Users").doc(p.uid),O=Object(a.useState)([]),g=Object(C.a)(O,2),x=g[0],m=g[1];Object(a.useEffect)((function(){return v(),function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]);var v=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),m(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(n={},c=0;c<x.length;c++)n[x[c].id]="I would like to...",n[x[c].id+"-url"]=x[c].placeholder,console.log("this topic added ",x[c]);n.maxYear=t,console.log("adding vision started",n),f.set(n,{merge:!0}).then((function(){return console.log("vision successfully stored"),!0}))}catch(a){console.log(a)}return e.abrupt("return",!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{children:i}),!1===i?Object(c.jsxs)(V,{message:"Introduction",children:[Object(c.jsx)(an,{embedId:"TUHmyEp4-7A"}),Object(c.jsx)(h.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:o(!0),children:"Save"})]}):Object(c.jsx)(V,{message:"Choose your desired period",children:Object(c.jsxs)(Te.a,{component:"fieldset",children:[Object(c.jsxs)(Un.a,{"aria-label":"period",name:"period1",value:u,onChange:function(e,t){console.log(t),b(t)},children:[Object(c.jsx)(dt.a,{value:"1",control:Object(c.jsx)(Ln.a,{}),label:"One Year Vision"}),Object(c.jsx)(dt.a,{value:"5",control:Object(c.jsx)(Ln.a,{}),label:"Five Year Vision"}),Object(c.jsx)(dt.a,{value:"10",control:Object(c.jsx)(Ln.a,{}),label:"10 Year Vision"})]}),Object(c.jsx)(h.a,{variant:"contained",onClick:function(){var e=(new Date).getFullYear()+Number.parseInt(u);console.log("max",e),w(e)?t.push({pathname:"/vision",state:{maxYear:e}}):console.log("vision is not created")},children:"Go!"})]})})]})})),Fn=Object(l.i)((function(e){var t=e.history;return Object(a.useEffect)((function(){return function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}})),Object(c.jsxs)(V,{message:"Introduction",children:[Object(c.jsx)(an,{embedId:"yNOpBc72DKM"}),Object(c.jsx)(h.a,{variant:"contained",color:"primary",onClick:function(){t.push("/initialize")},children:"Next"})]})})),Pn=function(e){var t=e.component,n=Object(Ze.a)(e,["component"]),r=Object(a.useContext)(I).currentUser;return console.log("PrivateRoute component "),console.log("currentuser is:"+r),r?Object(c.jsx)(l.b,Object(fe.a)(Object(fe.a)({},n),{},{render:function(e){return r?Object(c.jsx)(t,Object(fe.a)({},e)):Object(c.jsx)(l.a,{to:"/signin"})}})):(console.log("no user therefor redirect to signin"),Object(c.jsx)(l.a,{to:"/signin"}))};function Tn(){var e=Object(a.useState)(!1),t=Object(C.a)(e,2),n=t[0],r=t[1],i=Object(a.useState)([]),o=Object(C.a)(i,2),s=o[0],u=o[1],b=S.a.firestore().collection("Content"),p=Object(l.g)();Object(a.useEffect)((function(){return f(),function(){"POP"===p.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",p.location.pathname),window.location.replace("/"))}}),[]);var f=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,console.log("fetch content started"),e.next=5,b.get();case 5:t=e.sent,n=[],t.docs.forEach((function(e){n.push(Object(fe.a)({id:e.id},e.data()))})),u(n),r(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return console.log("content"),Object(c.jsx)("div",{children:n?Object(c.jsx)("h2",{children:"Loading..."}):s.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsxs)(V,{message:e.Title,children:[Object(c.jsx)(an,{embedId:e.YoutubeID}),Object(c.jsx)(h.a,{color:"primary",children:"More"})]})})}))})}var Rn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}}));function Mn(e){var t=e.classes,n=Object(a.useState)(null),r=Object(C.a)(n,2),i=r[0],o=r[1],s=S.a.firestore().collection("Metrics"),l=Object(a.useState)([{field:"id",headerName:"Name",width:150},{field:"topic",headerName:"Force",width:90}]),u=Object(C.a)(l,2),b=u[0],p=(u[1],Object(a.useState)([])),O=Object(C.a)(p,2),m=O[0],v=O[1],y=Object(a.useState)(!0),w=Object(C.a)(y,2),k=w[0],E=w[1],I=Object(a.useState)(!1),D=Object(C.a)(I,2),B=D[0],U=D[1];function L(){U(!1)}var W=Object(a.useState)([]),F=Object(C.a)(W,2),P=F[0],T=F[1],R=Object(a.useState)("name..."),M=Object(C.a)(R,2),Y=M[0],A=M[1],z=Object(a.useState)("unit..."),H=Object(C.a)(z,2),G=H[0],_=H[1];var q=Object(a.useState)(0),K=Object(C.a)(q,2),J=K[0],X=K[1],Z=Object(a.useState)(0),Q=Object(C.a)(Z,2),$=Q[0],ee=Q[1];var te=function(){var e=Object(j.a)(d.a.mark((function e(){var t;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(J),e.prev=1,t="",null===i){e.next=7;break}return e.next=6,ne(i,Y);case 6:t=e.sent;case 7:return e.next=9,s.doc(Y).set({topic:J,unit:G,value:0,url:t},{merge:!0}).then((function(){console.log("metric added to vision"),U(!1),ae(),A(""),_(""),o(null)}));case 9:e.next=15;break;case 11:e.prev=11,e.t0=e.catch(1),console.log("errrror: metric not added"),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,11]])})));return function(){return e.apply(this,arguments)}}(),ne=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("image file name: "+t),!t){e.next=10;break}return e.next=4,N.ref("/images/metrics/".concat(n)).put(t);case 4:return e.sent,e.next=7,N.ref("/images/metrics/").child(n).getDownloadURL();case 7:return c=e.sent,console.log("url",c),e.abrupt("return",c);case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();var ce=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(fe.a)({id:e.id},e.data()))})),T(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){ae(),ce()}),[]);var ae=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,s.get();case 4:t=e.sent,n=[],t.docs.forEach((function(e){n.push(Object(fe.a)({id:e.id},e.data()))})),v(n),console.log("Metric Defs",n),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(V,{message:"Metrics",children:[Object(c.jsxs)(g.a,{container:!0,xs:12,justify:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){U(!0)},children:Object(c.jsx)(Ae.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!0,children:Object(c.jsx)(Ct.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(h.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:k,onClick:function(){s.doc($).delete().then((function(){console.log($," successfully deleted!"),ae()})).catch((function(e){console.error("Error removing document: ",e)}))},children:Object(c.jsx)(Ye.a,{})})})]}),Object(c.jsx)("div",{style:{height:400,width:"100%"},children:Object(c.jsx)(St.a,{rows:m,columns:b,pageSize:5,checkboxSelection:!1,onRowClick:function(e){console.log(e.id),e.rowIndex>=0&&(E(!1),ee(e.id))}})})]}),Object(c.jsxs)(Le.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:B,onClose:L,children:[Object(c.jsx)(We.a,{children:"Metric"}),Object(c.jsx)(Fe.a,{children:Object(c.jsx)("form",{children:Object(c.jsxs)(Te.a,{children:[Object(c.jsx)(Xe.a,{htmlFor:"demo-dialog-native",children:"Related Topic"}),Object(c.jsxs)(Pe.a,{native:!0,variant:"standard",onChange:function(e){X(e.target.value)},children:[Object(c.jsx)("option",{"aria-label":"None",value:""}),P.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.id})}))]}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsx)(f.a,{value:Y,variant:"outlined",onChange:function(e){A(e.target.value)}})}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsx)(f.a,{value:G,variant:"outlined",onChange:function(e){_(e.target.value)}})}),Object(c.jsxs)("div",{justify:"center",children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return o(e.target.files[0])}}),Object(c.jsx)("img",{src:null===i?"https://via.placeholder.com/400x300":URL.createObjectURL(i),alt:"Uploaded Image",height:"50",width:"50"})]})]})})}),Object(c.jsxs)(Me.a,{children:[Object(c.jsx)(h.a,{onClick:L,color:"primary",children:"Cancel"}),Object(c.jsx)(h.a,{onClick:te,color:"primary",children:"Add"})]})]})]})}var Vn=Object(l.i)((function(e){var t=Object(l.g)(),n=Rn();return Object(a.useEffect)((function(){return console.log("------ action -------",t.action),function(){"POP"===t.action&&(console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]),Object(c.jsx)(Mn,{classes:n})}));var Yn=Object(l.i)((function(e){var t=Object(a.useContext)(I).currentUser,n=Object(a.useState)(!1),r=Object(C.a)(n,2),i=(r[0],r[1]),o=Object(a.useState)(""),u=Object(C.a)(o,2),b=(u[0],u[1]),h=Object(a.useState)("user"),p=Object(C.a)(h,2),f=p[0],O=p[1],g=Object(a.useState)(0),x=Object(C.a)(g,2),m=x[0],v=x[1];Object(a.useEffect)((function(){y()}),[]);var y=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,i(!0),n=S.a.firestore().collection("Users").doc(t.uid),e.next=5,n.get();case 5:if(c=e.sent,console.log(c),c){e.next=15;break}console.log("new user"),b("Anonym"),O("user"),v(0),i(!1),e.next=35;break;case 15:return console.log(c),e.t0=b,e.next=19,c.data().name;case 19:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=O,e.next=24,c.data().role;case 24:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=v,e.next=29,c.data().maxYear;case 29:e.t5=e.sent,(0,e.t4)(e.t5),console.log("user name ",c.data().name),console.log("user role",c.data().role),console.log("year",c.data().maxYear),i(!1);case 35:e.next=41;break;case 37:e.prev=37,e.t6=e.catch(0),console.log(e.t6),i(!1);case 41:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:["loading ? ",Object(c.jsx)(E.a,{}),":",Object(c.jsx)("div",{children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)(en,{role:f,user:t,year:m}),Object(c.jsxs)(l.d,{children:[Object(c.jsx)(Pn,{exact:!0,path:"/profile",children:Object(c.jsx)(Et,{})}),Object(c.jsx)(Pn,{exact:!0,path:"/admin",children:Object(c.jsx)(Vn,{})}),Object(c.jsx)(Pn,{exact:!0,path:"/content",children:Object(c.jsx)(Tn,{})}),Object(c.jsx)(Pn,{exact:!0,path:"/vision",children:Object(c.jsx)(kn,{})}),Object(c.jsx)(Pn,{exact:!0,path:"/export",children:Object(c.jsx)(gn,{})}),Object(c.jsx)(Pn,{exact:!0,path:"/",children:Object(c.jsx)(Bn,{maxYear:m})}),Object(c.jsx)(Pn,{exact:!0,path:"/initialize",children:Object(c.jsx)(Wn,{})}),Object(c.jsx)(Pn,{exact:!0,path:"/help",children:Object(c.jsx)(Fn,{})})]})]})})]})}));function An(){return document.title="Personal Map of Life",console.log("App component started..."),Object(c.jsx)(k.a,{component:"main",style:{padding:0},children:Object(c.jsx)("div",{children:Object(c.jsx)(D,{children:Object(c.jsx)(s.a,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(Pn,{exact:!0,path:"/",children:Object(c.jsx)(Yn,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/signin",children:Object(c.jsx)(_,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/signup",children:Object(c.jsx)(J,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/forgotpassword",children:Object(c.jsx)(te,{})})]})})})})})}n(1011);var zn=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1100)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),r(e),i(e)}))};o.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(An,{})}),document.getElementById("root")),zn()},617:function(e,t,n){},620:function(e,t){},622:function(e,t){},651:function(e,t){},652:function(e,t){},767:function(e,t){},769:function(e,t){},797:function(e,t){},799:function(e,t){},800:function(e,t){},805:function(e,t){},807:function(e,t){},826:function(e,t){},838:function(e,t){},841:function(e,t){}},[[1012,1,2]]]);
//# sourceMappingURL=main.95626e1f.chunk.js.map