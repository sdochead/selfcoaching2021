{"version":3,"sources":["firebase.js","Components/Auth.js","Components/StyledPaper.js","templates/SignIn.js","templates/SignUp.js","templates/ForgotPassword.js","Components/Header.js","Components/Footer.js","Components/Textual.js","Components/Visual.js","Components/Quantitative.js","Components/Dream.js","Components/knee.jpg","Components/Plan.js","Components/Rate.js","Components/Act.js","Components/Health.js","Components/Money.js","Components/Career.js","Components/LifeAccordionTab.js","Components/Profile.js","Components/HeaderSideMenu.js","Components/ManageVision.js","Components/YoutubeEmbed.js","Components/VisionBoard.js","Components/VisionPDF.js","Components/Vision.js","Components/Setting.js","Components/Welcome.js","Components/Initialize.js","Components/HelpVisionBoard.js","Components/PrivateRoute.js","Components/Content.js","Components/AdminDashboard.js","Components/Home.js","App.js","reportWebVitals.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","measurementId","storage","AuthContext","React","createContext","AuthProvider","children","useState","currentUser","setCurrentUser","pending","setPending","console","log","useEffect","auth","onAuthStateChanged","user","Box","p","width","justifyContent","CircularProgress","Provider","value","require","AppBar","Typography","Paper","makeStyles","Toolbar","useStyles","theme","root","appBar","position","yearField","left","spacing","top","yearLabel","addButton","bottom","right","chip","margin","paper","justify","sliderLimit","sliderLabel","save","plainHeader","background","centeredHeader","alignItems","titleBar","goButton","blue","color","searchIcon","StyledPaper","props","classes","message","actionIcon","className","display","flexDirection","justifyItems","Copyright","variant","align","Date","getFullYear","marginTop","avatar","backgroundColor","palette","secondary","main","box","form","submit","withRouter","history","handleLogin","useCallback","event","a","preventDefault","target","elements","email","password","signInWithEmailAndPassword","push","alert","useContext","to","Container","component","maxWidth","CssBaseline","Avatar","m","fullWidth","onClick","provider","GoogleAuthProvider","signInWithRedirect","getRedirectResult","then","result","credential","token","accessToken","catch","error","code","onSubmit","noValidate","TextField","required","id","label","name","autoComplete","autoFocus","type","Button","Grid","container","item","xs","Link","href","mt","handleSignUp","createUserWithEmailAndPassword","res","uid","user_ref","firestore","collection","doc","set","err","sendEmailVerification","signOut","success","green","setEmail","emailSent","setEmailSent","setError","emailStatus","setEmailStatus","onChange","helperText","sendPasswordResetEmail","errorCode","errorMessage","underline","flexGrow","menuButton","marginRight","title","anchorEl","setAnchorEl","handleClose","currentTarget","IconButton","edge","aria-label","Menu","keepMounted","open","Boolean","onClose","MenuItem","window","location","stickToBottom","Textual","year","topic","desc","setDesc","saved","setSaved","fetchDescDB","get","data","updateDescDB","merge","InputProps","style","fontSize","multiline","rows","e","disabled","Visual","userID","imageURL","setImageURL","fetchImageDB","imageRef","ref","child","getDownloadURL","url","Alert","severity","src","alt","accept","file","files","put","on","Quantitative","metricDefintions","setMetricDefinitions","metrics","setMetrics","openMetricDialog","setOpenMetricDialog","selectedMetricNameDialog","setSelectedMetricNameDialog","selectedMetricValueDialog","setSelectedMetricValueDialog","unit","setUnit","setUrl","metrics_expected_ref","metrics_definition_ref","fetchExpectedMetricsDB","fetchMetricsDefinitionDB","where","items","docs","forEach","addMetric2VisionDB","metricName","metricValue","entry","add","metricValueChangeView","cancelAddMetricDialogView","closeMetricDialogView","List","undefined","length","map","metric","index","ListItem","ListItemAvatar","Photo","ListItemText","primary","ListItemSecondaryAction","confirm","delete","Delete","Add","Dialog","disableBackdropClick","disableEscapeKeyDown","DialogTitle","toUpperCase","DialogContent","Select","native","uu","definitions","element","getUnitAndUrl","pl","pt","height","FormControl","defaultValue","aria-describedby","FormHelperText","DialogActions","header","headerDetails","content","SelectTopic","wizard","selectedTopic","setSelectedTopic","topics","setTopics","fetchTopicsDB","topics_ref","galleryClickView","StyledStep","messageToUser","GridList","cellHeight","cols","GridListTile","placeholder","border","GridListTileBar","titlePosition","actionPosition","NameIt","Visualize","setFile","URL","createObjectURL","DateIt","date","setDate","defaultView","maxDetail","showWeekNumbers","currentStep","totalSteps","previousStep","finish","nextStep","storeImageDB","toString","docRef","exists","storeDreamInDB","flexWrap","overflow","gridList","icon","media","paddingTop","TabPanel","other","role","hidden","aria-labelledby","a11yProps","heading","typography","pxToRem","fontWeight","fontWeightRegular","deleteAccordion","editAccordion","disabledText","opacity","setValue","handleChange","newValue","visions","setVisions","loading","setLoading","db","fetchVisions","vision","Accordion","AccordionSummary","expandIcon","FormControlLabel","stopPropagation","onFocus","control","editVision","removeFromDB","AccordionDetails","Tabs","Tab","borderRadius","health","money","social","Fab","useHistory","action","pathname","replace","Identity","Metrics","Reset","user_doc","querySnapshot","profileName","setProfileName","birthYear","setBirthYear","openUpdateSuccessSnack","setOpenUpdateSuccessSnack","fetchProfileDB","updateProfileDB","update","usernameClickChange","birthClickChange","Snackbar","autoHideDuration","metric_ref","field","headerName","metricProperties","metricDefinitions","disableEditBut","setDisableEditBut","setMetricName","unitName","setUnitName","selectedGridMetric","setSelectedGridMetric","fetchMetricNamesDB","columns","pageSize","checkboxSelection","onRowClick","rowIndex","InputLabel","htmlFor","drawerWidth","currentTab","transition","transitions","create","easing","sharp","duration","leavingScreen","appBarShift","marginLeft","easeOut","enteringScreen","hide","drawer","flexShrink","drawerPaper","drawerHeader","padding","mixins","toolbar","contentShift","setOpen","useTheme","handleDrawerClose","openProfile","clsx","Drawer","anchor","direction","Divider","state","ListItemIcon","button","Today","ExitToApp","cancelButton","YoutubeEmbed","updating","setUpdating","visionHealth","setVisionHealth","visionMoney","setVisionMoney","visionSocial","setVisionSocial","visionYear","setVisionYear","healthURL","setHealthURL","moneyURL","setMoneyURL","socialURL","setSocialURL","healthFile","setHealthFile","moneyFile","setMoneyFile","socialFile","setSocialFile","loadVision","loadURL","filename","addImage","close","embedId","frameBorder","allow","allowFullScreen","visions_ref","expectedMetrics_ref","tabValue","setTabValue","images","setImages","selectedVision","setSelectedVision","selectedYear","setSelectedYear","newYear","setNewYear","sliderYears","setSliderYears","setSelectedMetrics","loadingPix","setLoadingPix","openYearDialog","setOpenYearDialog","showC2","fetchYearsDB","fetchImagesDB","fetchSelectedVisionDB","yrs","getPhotosDB","photo","key","promises","itemRef","getImageURLDB","Promise","all","urls","x","getMetadata","metadata","deleteVisionDB","listAll","deleteImagesDB","listRef","storeNewYearDB","afterYearChangeView","closeYearDialogView","tabChangeView","C2","photos","image","indicatorColor","textColor","Slider","slider","valueLabelDisplay","step","marks","min","max","v","val","Chip","yearClickView","yearDialogTextView","existSuchYear","styles","StyleSheet","page","sectionOdd","sectionEven","textDecoration","section","topicContainer","overviewContainer","marginBottom","fontweight","overview","subtitle","vote","rating","vote_text","vote_pop","vote_pop_text","detailsFooter","lang","vote_average","body","table","borderStyle","borderColor","borderWidth","borderRightWidth","borderBottomWidth","tableRow","tableColHeader","borderBottomColor","borderLeftWidth","borderTopWidth","tableCol","tableCellHeader","tableCell","VisionPDF","useLocation","checkBoxes","setCheckBoxes","checkBoxClick","checked","temp","populateCheckArray","PicMosaic","source","VisionAsPDF","Checkbox","document","fileName","blob","minYear","titleBarSelected","browseIcon","maxYear","fetchAllDB","finance","initiateImages","topics_quick","tpcs","browseImage","updateImageURLDB","getIndex","array","TopicsGallery","class","for","Details","Icon","find","pdfClick","createVisionObject","VisionBoard","PictureAsPdf","Topics","removeAllVisions","dense","Profile","orange","showHelp","setShowHelp","period","setPeriod","RadioGroup","Radio","Number","parseInt","PrivateRoute","RouteComponent","rest","render","routeProps","Content","contents","setContents","fetchContents","Title","YoutubeID","okAddMetricDialogView","storeImageMetricDB","setName","setRole","setMaxYear","fetchUserInfo","HeaderSideMenu","exact","path","App","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.95626e1f.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport 'firebase/auth'\nimport 'firebase/storage'\n\n\n  const firebaseConfig = {\n    apiKey: \"AIzaSyBnHIZLpMJXQxtHh0433SCNVLXASaYZjwo\",\n    authDomain: \"vitacoach.firebaseapp.com\",\n    projectId: \"vitacoach\",\n    storageBucket: \"vitacoach.appspot.com\",\n    messagingSenderId: \"349656251768\",\n    appId: \"1:349656251768:web:a8b237c8295870d3cd5c8d\",\n    measurementId: \"G-XEBDPBZK7Q\"\n  };\n\n  firebase.initializeApp(firebaseConfig);\n\n  const storage = firebase.storage()\n\n  export  {\n    storage, firebase as default\n  }","import React, { useEffect, useState } from \"react\";\nimport firebase from '../firebase';\nimport {Redirect} from 'react-router-dom';\nimport { Box, CircularProgress } from \"@material-ui/core\";\n\nexport const AuthContext = React.createContext();\n\nexport const AuthProvider = ({ children }) => {\n  const [currentUser, setCurrentUser] = useState(null);\n  const [pending, setPending] = useState(true);\n\n  console.log(\"AuthProvider component started...\");\n\n  useEffect(() => {\n    firebase.auth().onAuthStateChanged((user) => {\n        console.log(\"user is = \"+user);\n        if(!!user){\n            setCurrentUser(user);\n            console.log(\"user is in\");\n        }else{\n            console.log(\"no user\");\n        }\n        setPending(false);\n\n      }\n    );\n  }, []);\n\n  if(pending){\n    //return <>Waiting to authenticate...</>\n    \n    return <Box p={10} width=\"100%\" justifyContent=\"center\"><CircularProgress /></Box>\n  }\n\n  return (\n    <AuthContext.Provider\n      value={{\n        currentUser\n      }}\n    >\n      {children}\n    </AuthContext.Provider>\n  );\n};","import { blue } from \"@material-ui/core/colors\";\n\nconst { AppBar, Typography, Paper, Box, makeStyles, Toolbar } = require(\"@material-ui/core\");\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n      },\n    plainHeader:{\n        left: theme.spacing(3),\n        background : '#ff8a65'\n    },\n    centeredHeader:{\n      alignItems: 'center',\n      background : '#ff7043'\n  },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    goButton: {\n      background : blue[800],\n      color : \"white\"\n    },\n    searchIcon: {\n      position:'absolute',\n      right: theme.spacing(2),\n      color:\"white\",\n    },\n  \n  }));\n  \nexport default function StyledPaper(props) {\n    \n    const classes = useStyles();\n\n    const { children, message, actionIcon} = props;\n    return (\n\n        <Paper className={classes.paper}>\n            {actionIcon\n              ?\n                <AppBar p={1} position=\"static\"  className={actionIcon ? classes.plainHeader : classes.centeredHeader}>   \n                    <Toolbar>\n                        <Typography p={1}>\n                            {message}\n                        </Typography>                \n                        <div className={classes.searchIcon}>\n                              {actionIcon}\n                        </div>  \n                    </Toolbar>            \n                </AppBar>\n              :\n                <AppBar p={1} position=\"static\"  className={classes.centeredHeader}>   \n                      <Typography p={1}>\n                          {message}\n                      </Typography>              \n                </AppBar>\n            }          \n            <Box p={2} display=\"flex\" flexDirection=\"column\" justifyItems=\"center\" justifyContent=\"center\">\n                {children}\n            </Box>\n        </Paper>\n  )\n}\n","import React, { useCallback, useContext } from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { AuthContext } from \"../Components/Auth.js\";\nimport {Redirect,withRouter} from 'react-router';\nimport firebase from '../firebase';\nimport StyledPaper from '../Components/StyledPaper.js';\nimport GoogleButton from 'react-google-button'\nimport { Paper } from '@material-ui/core';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  Personal Map of Life '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  box: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignIn({history}) {\n  const classes = useStyles();\n\n  const handleLogin = useCallback(\n    async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n        await firebase\n          .auth()\n          .signInWithEmailAndPassword(email.value, password.value);\n        history.push(\"/\");\n      } catch (error) {\n        alert(error);\n      }\n    },\n    [history]\n  );\n\n  const { currentUser } = useContext(AuthContext);\n\n  if (currentUser) {\n    return <Redirect to=\"/\" />;\n  }\n\n  function googleLoginRedirect() {\n    // [START auth_google_signin_redirect_result]\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth().signInWithRedirect(provider);\n\n    firebase.auth()\n      .getRedirectResult()\n      .then((result) => {\n        if (result.credential) {\n          /** @type {firebase.auth.OAuthCredential} */\n          var credential = result.credential;\n  \n          // This gives you a Google Access Token. You can use it to access the Google API.\n          var token = credential.accessToken;\n          console.log(token);\n        }\n        // The signed-in user info.\n        var user = result.user;\n      }).catch((error) => {\n        // Handle Errors here.\n        var errorCode = error.code;\n        var errorMessage = error.message;\n        // The email of the user's account used.\n        var email = error.email;\n        // The firebase.auth.AuthCredential type that was used.\n        var credential = error.credential;\n        console.log(error);\n      });\n    // [END auth_google_signin_redirect_result]\n  }\n  \n  function googleLoginPopUp()\n  {\n\n    var provider = new firebase.auth.GoogleAuthProvider();\n\n    firebase.auth()\n    .signInWithPopup(provider)\n    .then((result) => {\n      /** @type {firebase.auth.OAuthCredential} */\n      var credential = result.credential;\n\n      // This gives you a Google Access Token. You can use it to access the Google API.\n      var token = credential.accessToken;\n      console.log(token);\n      // The signed-in user info.\n      var user = result.user;\n      console.log(user);\n      // ...\n    }).catch((error) => {\n      // Handle Errors here.\n      var errorCode = error.code;\n      var errorMessage = error.message;\n      // The email of the user's account used.\n      var email = error.email;\n      // The firebase.auth.AuthCredential type that was used.\n      var credential = error.credential;\n      // ...\n      console.log(error);\n    });\n  }\n\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n\n      <Paper className={classes.paper}>\n          <Box p={2} className={classes.box}>\n              <Avatar className={classes.avatar}>\n                  <LockOutlinedIcon />\n              </Avatar>\n              <Typography component=\"h1\" variant=\"h5\">\n                  Sign In\n              </Typography>\n          </Box>\n          <Box m={2}>          \n                <GoogleButton fullWidth onClick={googleLoginRedirect}>\n                    Sign In with Google Account\n                </GoogleButton>\n          </Box>\n          <Typography variant=\"body1\">\n                  or\n          </Typography>\n          <Box p={3} className={classes.box}>\n              <Typography component=\"h2\" variant=\"h6\">\n                  Use Your Existing Account\n              </Typography>\n\n              <form className={classes.form} onSubmit={handleLogin} noValidate>\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              id=\"email\"\n              label=\"Email Address\"\n              name=\"email\"\n              autoComplete=\"email\"\n              autoFocus\n            />\n            <TextField\n              variant=\"outlined\"\n              margin=\"normal\"\n              required\n              fullWidth\n              name=\"password\"\n              label=\"Password\"\n              type=\"password\"\n              id=\"password\"\n              autoComplete=\"current-password\"\n            />\n  {/*           <FormControlLabel\n              control={<Checkbox value=\"remember\" color=\"primary\" />}\n              label=\"Remember me\"\n            /> */}\n            <Button\n              type=\"submit\"\n              fullWidth\n              variant=\"contained\"\n              color=\"green\"\n              className={classes.submit}\n            >\n              Sign In\n            </Button>\n          </form>\n\n              <Grid container>\n              <Grid item xs>\n                <Link href=\"./forgotpassword\" variant=\"body2\">\n                  Forgot password?\n                </Link>\n              </Grid>\n              <Grid item>\n                <Link href={'./signup'} variant=\"body2\">\n                  {\"Don't have an account? Sign Up\"}\n                </Link>\n              </Grid>\n            </Grid>\n          </Box>\n      </Paper>\n\n      <Box mt={8}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(SignIn)","import React, {useCallback} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withRouter } from 'react-router';\nimport firebase from '../firebase';\nimport GoogleButton from 'react-google-button';\nimport { Paper } from '@material-ui/core';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Personal Map of Life\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  box: {\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction SignUp({history}) {\n  \n    const classes = useStyles();\n\n    const handleSignUp = useCallback(async event => {\n      event.preventDefault();\n      const { email, password } = event.target.elements;\n      try {\n              const res = await firebase.auth().createUserWithEmailAndPassword(email.value, password.value);\n              console.log(res);\n              console.log(res.user);\n              if(res&&res.user)\n                {\n                    console.log(\"uid\",res.user.uid);\n                    var item = {}\n                    item[\"name\"]=\"anonym\";\n                    item[\"birthyear\"]=2000;\n                    item[\"maxYear\"]=0;\n\n                    const user_ref = firebase.firestore().collection(\"Users\").doc(res.user.uid);\n                    try{\n                          user_ref.set(item).then((doc)=>{\n                                console.log(\"user initiated in db\",doc);\n                           });\n                    }catch(err)\n                    {\n                        console.log(\"error\",err);\n                    }\n                      \n                    await res.user.sendEmailVerification();\n                    //await is need to do the upper insertion in db\n                    await firebase.auth().signOut();\n                    alert(\"Signup is successful. We also sent you a verification email.\");\n                }\n              //history.push(\"/signin\");\n      } catch (error) {\n            console.log(error);\n            alert(error.message);\n            //alert(\"Signup process is stopped. Please contact our staff for more info.\");\n      }\n    }, [history]);  \n\n\n    function googleLoginRedirect() {\n      // [START auth_google_signin_redirect_result]\n      var provider = new firebase.auth.GoogleAuthProvider();\n  \n      firebase.auth().signInWithRedirect(provider);\n  \n      firebase.auth()\n        .getRedirectResult()\n        .then((result) => {\n          if (result.credential) {\n            /** @type {firebase.auth.OAuthCredential} */\n            var credential = result.credential;\n    \n            // This gives you a Google Access Token. You can use it to access the Google API.\n            var token = credential.accessToken;\n            console.log(token);\n          }\n          // The signed-in user info.\n          var user = result.user;\n        }).catch((error) => {\n          // Handle Errors here.\n          var errorCode = error.code;\n          var errorMessage = error.message;\n          // The email of the user's account used.\n          var email = error.email;\n          // The firebase.auth.AuthCredential type that was used.\n          var credential = error.credential;\n          console.log(error);\n        });\n      // [END auth_google_signin_redirect_result]\n    }\n   \n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      \n      <Paper className={classes.paper}>\n        <Box p={2} className={classes.box}>\n            <Avatar className={classes.avatar}>\n                <LockOutlinedIcon />\n            </Avatar>\n            <Typography component=\"h1\" variant=\"h5\">\n                Sign Up\n            </Typography>\n        </Box>\n            <Box m={2}>          \n                <GoogleButton label=\"Sign Up with Google Account\" fullWidth onClick={googleLoginRedirect} />\n            </Box>\n            <Typography variant=\"body1\">\n                or\n            </Typography>\n            <Box p={3} className={classes.box}>\n                <Typography component=\"h1\" variant=\"h6\">\n                  Create A New Account\n                </Typography>\n                <form className={classes.form} onSubmit={handleSignUp} noValidate>\n                  <Grid container spacing={2}>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        name=\"email\"\n                        autoComplete=\"email\"\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"password\"\n                        label=\"New Password\"\n                        type=\"password\"\n                        id=\"password\"\n                        //autoComplete=\"current-password\"\n                      />\n                    </Grid>\n                    <Grid item xs={12}>\n                      <TextField\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        name=\"repeat password\"\n                        label=\"Repeat Password\"\n                        type=\"password\"\n                        id=\"repeat password\"\n                        //autoComplete=\"current-password\"\n                      />\n                    </Grid>\n                  </Grid>\n                  <Button\n                    type=\"submit\"\n                    fullWidth\n                    variant=\"contained\"\n                    color=\"primary\"\n                    className={classes.submit}\n                  >\n                    Sign Up\n                  </Button>\n                  <Grid container justify=\"flex-end\">\n                    <Grid item>\n                      <Link href={'./signin'} variant=\"body2\">\n                        Already have an account? Sign in\n                      </Link>\n                    </Grid>\n                  </Grid>\n                </form>\n            </Box>\n        </Paper>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(SignUp);","import React, {useCallback, useState} from 'react';\nimport Avatar from '@material-ui/core/Avatar';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport DoneIcon from '@material-ui/icons/Done';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Box from '@material-ui/core/Box';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Container from '@material-ui/core/Container';\nimport { withRouter } from 'react-router';\nimport firebase from '../firebase';\nimport { green } from '@material-ui/core/colors';\nimport GoogleButton from 'react-google-button';\n\nfunction Copyright() {\n  return (\n    <Typography variant=\"body2\" color=\"textSecondary\" align=\"center\">\n      {'Copyright  '}\n      <Link color=\"inherit\" href=\"https://material-ui.com/\">\n        Your Website\n      </Link>{' '}\n      {new Date().getFullYear()}\n      {'.'}\n    </Typography>\n  );\n}\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(8),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  success: {\n    margin: theme.spacing(1),\n    backgroundColor: green\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(3),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\nfunction ForgotPassword({history}) {\n  \n    const classes = useStyles();\n    const [email,setEmail]=useState(\"Enter your email\");\n    const [emailSent,setEmailSent]=useState(false);\n    const [error,setError]=useState(false);\n    const [emailStatus,setEmailStatus]=useState(\"\");\n\n    function emailChange(event){\n        setEmail(event.target.value);\n        console.log(event.target.value);\n    }\n\n    function resetClick(){\n\n        console.log(email);\n\n        firebase.auth().sendPasswordResetEmail(email).then(() => {\n            setEmailSent(true);\n            console.log(\"we sent you an email.\");\n        }).catch((error) => {\n            var errorCode = error.code;\n            var errorMessage = error.message;\n            console.log(errorCode,errorMessage);\n            setEmailStatus(errorMessage);\n            setError(true);\n        });\n    }\n\n  return (\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={emailSent ? classes.success : classes.avatar}>\n          {emailSent ? <DoneIcon color=\"white\"/> : <LockOutlinedIcon />}\n        </Avatar>\n        {emailSent===false\n            ?\n            <>\n                <Box m={1}>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Password Forgotten?\n                    </Typography>\n                </Box>\n                <Grid m={1} container spacing={2}>\n                    <Grid item xs={12}>\n                    <TextField\n                        error={error}\n                        variant=\"outlined\"\n                        required\n                        fullWidth\n                        id=\"email\"\n                        label=\"Email Address\"\n                        type=\"email\"\n                        autoComplete=\"email\"\n                        onChange={emailChange}\n                        helperText={emailStatus}\n                    />\n                    </Grid>           \n                </Grid>\n                <Box m={1}>\n                    <Button align onClick={resetClick} variant=\"contained\" color=\"primary\">\n                        Rest Password\n                    </Button>\n                </Box>\n            </>\n            :\n            <Box>\n                <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                    An email has been sent to you. Please check your inbox. \n                </Typography>\n\n                <Box p={5}>\n                    <Link align=\"center\" underline=\"always\" href=\"./signin\">\n                        <Typography align=\"center\" component=\"h1\" variant=\"h5\">\n                            Go Back to Sign In Page\n                        </Typography>\n                    </Link>\n                </Box>\n            </Box>     \n        }\n        </div>\n      <Box mt={5}>\n        <Copyright />\n      </Box>\n    </Container>\n  );\n}\n\nexport default withRouter(ForgotPassword);","import React from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeSharp from '@material-ui/icons/HomeSharp';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { withRouter } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      flexGrow: 1,    \n    },\n    menuButton: {\n      marginRight: theme.spacing(0),\n    },\n    title: {\n      flexGrow: 1,\n    },\n  }));\n  \n\n  const Header = props => {\n\n    const { history } = props;\n \n    const classes = useStyles();\n\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    const openVision = () => {\n        console.log(\"my vision pushed.\");\n        history.push(\"/myvision\");\n        setAnchorEl(null);\n    };\n\n    const openCalendar = () => {\n      console.log(\"my calendar pushed.\");\n      history.push(\"/mycalendar\");\n      setAnchorEl(null);\n    }\n\n    const handleSetting = () => {\n      console.log(\"setting pushed.\");\n      history.push(\"/setting\");\n      setAnchorEl(null);\n    }\n\n    const handleClose = () => {\n      setAnchorEl(null);\n    };\n\n    const homeClick = (event) => {\n      setAnchorEl(event.currentTarget);\n    };\n\n    function handleSignOut(){\n\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n\n    }\n\n    return(\n        <AppBar position=\"static\">\n            <Toolbar>\n                <Typography variant=\"h6\" className={classes.title}>\n                  <HomeSharp label = \"Home\" onClick={homeClick}/>\n                </Typography>\n                <IconButton edge=\"end\" className={classes.menuButton} color=\"inherit\" aria-label=\"setting\">\n                    <SettingsIcon label = \"Setting\" onClick={handleSetting}/>\n                </IconButton>\n                <Menu id=\"simple-menu\" anchorEl={anchorEl} keepMounted open={Boolean(anchorEl)} onClose={handleClose}>\n                      <MenuItem onClick={handleClose}>My Profile</MenuItem>\n                      <MenuItem onClick={openVision}>My Vision</MenuItem>\n                      <MenuItem onClick={handleClose}>My Strategy</MenuItem>\n                      <MenuItem onClick={openCalendar}>My Calendar</MenuItem>\n                      <MenuItem onClick={handleSignOut}>Logout</MenuItem>\n                </Menu>\n            </Toolbar>\n        </AppBar>\n    )}\n\n    export default withRouter(Header);","import React from 'react';\nimport {Link} from 'react-router-dom';\nimport { makeStyles } from '@material-ui/core/styles';\n\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\nimport TodayIcon from '@material-ui/icons/Today';\nimport RateReviewIcon from '@material-ui/icons/RateReview';\nimport AssessmentIcon from '@material-ui/icons/Assessment';\nimport PeopleIcon from '@material-ui/icons/People';\nimport SchoolIcon from '@material-ui/icons/School';\n\nconst useStyles = makeStyles({\n    stickToBottom: {\n        width: '100%',\n        position: 'fixed',\n        bottom: 0,\n        backgroundColor: 'lightblue',\n        },\n  });\n\nexport default function Footer() {\n\nconst classes = useStyles();\nconst [value, setValue] = React.useState('dream');\n\nconst handleChange = (event, newValue) => {\n  setValue(newValue);\n  console.log(newValue);\n};\n\n    return(\n\n        <div>\n\n            <BottomNavigation className={classes.stickToBottom} value={value} onChange={handleChange}>\n                <BottomNavigationAction value=\"dream\" label=\"Education\" icon={<SchoolIcon />} component={Link} to=\"./dream\" />\n                <BottomNavigationAction value=\"plan\" label=\"Community\" icon={<PeopleIcon />}  component={Link} to=\"./plan\"/>\n                <BottomNavigationAction value=\"act\" label=\"Reflection\" icon={<RateReviewIcon />}  component={Link} to=\"./dream\" />\n            </BottomNavigation>\n\n        </div>\n    )\n}","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\n\n\nexport default function Textual(props){\n    const {year,topic,user_ref}=props;\n    const [desc,setDesc] =useState(\"\");\n    const [saved,setSaved]=useState(true);\n  \n    \n  \n  useEffect(() => {\n    fetchDescDB();\n  }, []);\n  \n  const fetchDescDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          user_ref.get().then((item)=>{\n            var data={id:item.id,...item.data()};\n            setDesc(data[topic]);\n            console.log(\"description updated\");\n            /*         data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items); */\n  //          console.log(item);          \n          });\n  \n          \n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  function textChangeClick(e)\n  {\n      setDesc(e.target.value);\n      setSaved(false);\n  }\n  \n  \n  const updateDescDB = async() => {\n  \n    try {\n      console.log(\"update description started\");\n  \n      user_ref.set(\n          {[topic]:desc},{ merge: true }).then(()=>{\n  //            changeInTopic();\n              console.log(\"description is saved\");\n              setSaved(true);\n          });\n  \n  /*       var promises = await Promise.all(\n        selectedMetrics.map((item)=>\n        db.doc(selectedVision.id).collection('metrics').doc().set(\n          {name:item.name,value:item.value},{ merge: true }))); \n  \n      console.log(\"promise:\", promises);*/\n  \n  }catch(err){\n      console.log(err);\n    } \n  \n  };\n  \n      return(\n        <>\n          \n          <TextField p={1} id=\"desc\" \n                      value={desc}\n                      fullWidth InputProps={{style: {fontSize: 14}}}  multiline rows={5}  variant=\"outlined\" onChange={textChangeClick}/>\n  \n          <Button disabled={saved} color=\"primary\" variant=\"contained\" label=\"Save\" onClick={()=>updateDescDB()}>\n              Save Changes\n          </Button> \n        </>\n      )\n  }","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputBase, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add, FormatAlignJustify } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport { Alert, AlertTitle } from '@material-ui/lab';\n\n\nexport default function Visual(props){\n    const {year,topic,userID}=props;\n  \n    const [imageURL,setImageURL] =useState(\"\");\n  //  const [loadingPC3,setLoadingPC3] =useState(false);\n  \n  \n    useEffect(() => {\n      fetchImageDB();\n    }, []);\n  \n    const fetchImageDB=async()=>{\n  \n      try{\n      console.log(\"fetch image started\");\n  //    setLoadingPC3(true);\n  \n      // Create a reference under which you want to list\n      var imageRef = storage.ref().child(`/images/${userID}/${year}/${topic}`);\n      console.log(\"year: \"+year);\n      console.log(imageRef);\n  \n      var res = await imageRef.getDownloadURL().then((url)=>{\n          console.log(\"C3 P url:\", url);\n          setImageURL(url);\n  //        setLoadingPC3(false);\n        });\n      }catch(err)\n      {console.log(err);}\n  }\n  \n  const storeImageDB = (file) => {\n    console.log(\"image file name: \" + file);\n    if(file){\n    const uploadTask = storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n    uploadTask.on(\"state_changed\", console.log, console.error, () => {\n      storage\n        .ref(`/images/${userID}/${year}`)\n        .child(topic)\n        .getDownloadURL()\n        .then((url) => {\n            console.log(url);\n            setImageURL(url);\n        });\n    });\n  }}\n  \n  \n  return(\n    <>\n        <Alert severity=\"info\">\n            Choose an <strong> inspiring </strong> picture\n        </Alert>\n\n\n        <Box p={1}>\n            <img id=\"money-image\"src={((imageURL===\"\") \n            ? \"https://via.placeholder.com/400x300\": imageURL)}\n            alt=\"\" width=\"100%\" />\n         </Box>\n         <Box display=\"flex\" justifyContent=\"center\">\n            <input type=\"file\" accept=\"image/*\" onChange={(e)=>storeImageDB(e.target.files[0])} />\n        </Box>\n    </>\n    )\n  }","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, FormHelperText, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport { Alert } from '@material-ui/lab';\n\n\nexport default function Quantitative(props){\n    const {year,topic,userID,user_ref}=props;\n    const [metricDefintions,setMetricDefinitions] =useState([]);\n  \n    const [metrics,setMetrics] =useState([]);\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    const [selectedMetricNameDialog,setSelectedMetricNameDialog]=useState(\"\");\n    const [selectedMetricValueDialog,setSelectedMetricValueDialog]=useState(0);\n    const [unit,setUnit] =useState(\"unit\");\n    const [url,setUrl] =useState(\"\");\n\n  \n    const metrics_expected_ref = user_ref.collection(\"ExpectedMetrics\"); \n  \n    const metrics_definition_ref = firebase.firestore().collection(\"Metrics\");\n  \n  \n  useEffect(() => {\n    fetchExpectedMetricsDB();\n    fetchMetricsDefinitionDB();\n  }, []);\n  \n  const fetchExpectedMetricsDB=async()=>{\n    try {\n          console.log(\"fetch metrics started\");\n          var res = await metrics_expected_ref.where(\"topic\", \"==\", topic).get();\n          var items = [];\n          res.docs.forEach(item=>{\n            var data={id:item.id,...item.data()};\n            items.push(data);\n            console.log(data);\n          });\n          setMetrics(items);\n          \n        }catch(err){\n          console.log(err);\n        }\n  }\n  const fetchMetricsDefinitionDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const data=await metrics_definition_ref.where(\"topic\", \"==\", topic).get();\n  \n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const addMetric2VisionDB=async(metricName,metricValue)=>\n  {\n    try{\n          var entry = {\"topic\":topic,\"name\":metricName,\"value\":metricValue,\"url\":url};\n          console.log(entry);     \n          metrics_expected_ref.add(entry,{ merge: true }); \n          console.log(\"metric added to vision\");     \n    }catch(err){\n      console.log(\"errrror: metric not added to vision\");     \n      console.log(err);\n    }\n  \n  }\n  \n  \n  function okAddMetricDialogView(){\n    console.log(\"selected metric name\", selectedMetricNameDialog);\n    console.log(\"selected metric value\", selectedMetricValueDialog);\n  \n    if(selectedMetricNameDialog===\"\"){\n      console.log(\"metric name is empty\");\n    }\n    else{\n      addMetric2VisionDB(selectedMetricNameDialog,selectedMetricValueDialog);\n      fetchExpectedMetricsDB();\n      closeMetricDialogView();\n\n  /*     if(selectedMetrics===undefined){\n        setSelectedMetrics({name:selectedMetricNameDialog,value:selectedMetricValueDialog});  \n      }else{\n        const newList = selectedMetrics.concat({name:selectedMetricNameDialog,value:selectedMetricValueDialog});\n        setSelectedMetrics(newList);\n      }  */         \n    }\n  }\n  function metricValueChangeView(event)\n  {\n    setSelectedMetricValueDialog(event.target.value);\n  }\n  function openAddMetricDialogView(){\n      setSelectedMetricNameDialog(\"\");\n      setSelectedMetricValueDialog(0);\n      setOpenMetricDialog(true);\n  }\n   function cancelAddMetricDialogView(){\n      setOpenMetricDialog(false); \n  }\n  function selectAddMetricDialogChangeView(event){\n      setSelectedMetricNameDialog(event.target.value);\n      var uu = getUnitAndUrl(metricDefintions,event.target.value);\n      console.log(\"metric dialog\" , uu);\n      setUnit(uu.unit);\n      setUrl(uu.url);\n  }\n  function getUnitAndUrl(definitions,value){\n      for (let index = 0; index < definitions.length; index++) {\n        const element = definitions[index];\n        if(element.id===value) return {unit:element.unit,url:element.url};      \n      }\n  }\n  function getUnitX01(definitions,value){\n    for (let index = 0; index < definitions.length; index++) {\n      const element = definitions[index];\n      if(element.id===value) return element.unit;      \n    }\n}  \n  const closeMetricDialogView = () => {\n    setOpenMetricDialog(false);\n  };\n\n  function deleteMetricClick(value)\n  {\n    console.log(value);\n\n    if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n      \n      metrics_expected_ref.doc(value).delete().then(() => {\n          console.log(\"metric successfully deleted!\");\n          fetchExpectedMetricsDB();\n          \n      }).catch((error) => {\n          console.error(\"Error removing User: \", error);\n      });       \n  }\n  }\n  \n      return(\n        <>\n  \n              <List>\n              {\n                  (metrics===undefined ? console.log(\"selectedMetrics is undefined\"):\n                  (metrics.length===0 ? console.log(\"selectedMetrics has no item\"):\n                  metrics.map((metric,index) => {\n                      return (\n                                  <ListItem>\n                                        <ListItemAvatar>\n                                            <Avatar>\n                                              {metric.url===undefined\n                                                ? <Photo />\n                                                : <img src={metric.url} alt={metric.name} />\n                                              }\n                                            </Avatar>\n                                        </ListItemAvatar>\n                                        <ListItemText primary={metric.name} secondary={metric.value}/>\n                                        <ListItemSecondaryAction>\n                                            <IconButton id={metric.name} edge=\"end\" aria-label=\"delete\" onClick={()=>deleteMetricClick(metric.id)}>\n                                                <Delete />\n                                            </IconButton>\n                                        </ListItemSecondaryAction>\n                                    </ListItem>\n                              );\n                            })))\n                } \n                                                            \n                      <ListItem>\n                          <ListItemText primary=\"Add metric\"/>\n                          <ListItemSecondaryAction>\n                              <IconButton edge=\"end\" aria-label=\"add\" onClick={openAddMetricDialogView}>\n                                  <Add autoFocus/>\n                              </IconButton>\n                          </ListItemSecondaryAction>\n                      </ListItem>\n                </List>\n                            \n                <Dialog disableBackdropClick disableEscapeKeyDown open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n                      <DialogTitle>{topic.toUpperCase()} Metrics</DialogTitle>\n                      <DialogContent>\n                          <form >\n                              <Box m={1} display='flex' alignItems=\"left\">\n                                  <Box>\n                                    <Typography>Metric Name: </Typography>\n                                    <Select id=\"my-input\"  variant=\"outlined\" native onChange={selectAddMetricDialogChangeView}>\n                                        <option aria-label=\"None\" value=\"\" />                                \n                                        {\n                                            metricDefintions.map((item,index)=>\n                                                <option value={item.id}>{item.id}</option>)\n                                        }\n                                    </Select>\n                                  </Box>\n                                  <Box pl={2} pt={4}>\n                                      <Avatar>\n                                          <img src={url} width={50} height={50} alt={selectedMetricNameDialog} />\n                                      </Avatar>\n                                  </Box>\n                              </Box>\n                              <Box m={1}>\n                                  <FormControl>\n                                      <Typography>Target Value:</Typography>\n                                      <TextField disabled={selectedMetricNameDialog===\"\" ? true : false} type=\"number\" variant=\"outlined\" defaultValue={\"0\"} id=\"desiredValue\"\n                                        aria-describedby=\"my-helper-text\" onChange={metricValueChangeView} />\n                                      <FormHelperText id=\"my-helper-text\">Target value shall be a number.</FormHelperText>\n                                  </FormControl>\n                              </Box>\n                              <Box m={1}>\n                                  <TextField disabled value={unit} onChange={metricValueChangeView} />\n                              </Box>\n\n                          </form>\n                      </DialogContent>\n                      <DialogActions>\n                          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n                                Cancel\n                          </Button>\n                          <Button onClick={okAddMetricDialogView} color=\"primary\">\n                                Add\n                          </Button>\n                      </DialogActions>\n                  </Dialog>\n        </>\n      )\n  }","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, GridList, GridListTile, GridListTileBar, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport { storage } from \"../firebase\";\n\n\nimport StepWizard from \"react-step-wizard\";\nimport Calendar from 'react-calendar';\nimport Quantitative from './Quantitative';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\nfunction Dream(props) {\n    const {history} = props;\n    const classes = useStyles();\n    const [selectedTopic,setSelectedTopic]=useState(\"\");\n    const [desc,setDesc]=useState(\"\");\n    const [file,setFile]=useState(null);\n    const [date,setDate]=useState(new Date(2022,1,1));\n\n    const { currentUser } = useContext(AuthContext);\n\n    //db ref\n  \n    function finish()\n    {\n        console.log(\"this is finish from Dream\");\n        console.log(\"topic=\" , selectedTopic);\n        console.log(\"desc=\" , desc);\n        console.log(\"date=\" , date.toString());\n        console.log(\"user=\" , currentUser.uid);\n\n        storeDreamInDB();\n\n    }\n\n    function storeDreamInDB(){\n\n        var year = date.getFullYear();\n        console.log(year);\n        var topic = selectedTopic;\n        var userRef = firebase.firestore().collection(\"Users\").doc(currentUser.uid);\n        var docRef = userRef.collection(\"visions\").doc(year.toString());\n\n        docRef.get().then((doc) => {\n            if (doc.exists) {\n                console.log(\"Document data:\", doc.data());\n                alert(\"You have other dreams on this date as well. You can integrate this dream directly to your vision board.\")\n            } else {\n                // doc.data() will be undefined in this case\n                console.log(\"No such document!\");\n                docRef.set({[topic]:desc},{ merge: true }).then(()=>{\n                    alert(\"Your new dream is successfully created.\");\n                    storeImageDB(file,currentUser.uid,year,topic);\n                    history.push(\"/visionBoard\");\n                });\n            }\n        }).catch((error) => {\n            console.log(\"Error getting document:\", error);\n        });\n    }\n\n    const storeImageDB = (file,userID,year,topic) => {\n        console.log(\"image file name: \" + file);\n        if(file){\n        const uploadTask = storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n        uploadTask.on(\"state_changed\", console.log, console.error, () => {\n          storage\n            .ref(`/images/${userID}/${year}`)\n            .child(topic)\n            .getDownloadURL()\n            .then((url) => {\n                console.log(\"image is saved\" , url);\n            });\n        });\n      }}\n\n    return (\n<>\n        <StepWizard>\n            <SelectTopic \n                classes={classes}\n                selectedTopic={selectedTopic}\n                setSelectedTopic={setSelectedTopic}\n            />\n            <NameIt  classes={classes}\n                desc={desc}\n                setDesc={setDesc}           \n            />\n            <Visualize  classes={classes} file={file} setFile={setFile}/>\n            <DateIt classes={classes} date={date} setDate={setDate} finish={finish}/>\n        </StepWizard>\n</>\n    );   \n\n}\n\nfunction SelectTopic(props){\n    const wizard = props;\n    const {classes,selectedTopic,setSelectedTopic} = props;\n    const { currentUser } = useContext(AuthContext);\n    const [topics,setTopics]=useState([]);\n  \n    \n    useEffect(() => {\n        fetchTopicsDB();\n    }, []);\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n\n                if(items.length>=1)\n                    if(selectedTopic===\"\")\n                        setSelectedTopic(items[0].id);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n  function galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n    console.log(\"selected topic: \" + event.target.alt);\n  \n  }\n\n      return (\n\n                <StyledStep classes={classes} \n                    wizard={wizard} messageToUser={\"Which life force?\"}>                \n\n                    <div id=\"gallery-placeholder\">\n                        <GridList cellHeight={160}  cols={2} className={classes.GridList} autoFocus>\n                            {topics.map((topic) => (\n                            <GridListTile key={topic.id} cols={1}>\n                            <img src={topic.placeholder} alt={topic.id}\n                            onClick={galleryClickView}\n                            style={selectedTopic===topic.id ? {border: '5px solid #021a40' }: {}}\n                            />\n                            <GridListTileBar\n                                title={topic.id}\n                                titlePosition=\"bottom\"\n                                actionPosition=\"left\"\n                                className={classes.GridListTileBar}\n                            />\n                            </GridListTile>\n                        ))}\n                        </GridList>\n                    </div>\n\n                </StyledStep>\n\n      );\n}\n\nfunction NameIt(props){\n        const wizard = props;\n        const {classes,desc,setDesc} = props;\n        \n       \n        useEffect(() => {\n            \n        }, []);\n\n        function handleChange(event){\n            console.log(event);\n            console.log(event.target.value);\n            setDesc(event.target.value);\n        }\n        return (\n            <StyledStep classes={classes} \n                wizard={wizard} messageToUser={\"Name it\"}>\n                Description\n                <TextField autoFocus p={1} id=\"desc\" value={desc} fullWidth\n                    multiline rows={3}  variant=\"outlined\"\n                     onChange={handleChange}/>\n            </StyledStep>\n        );\n\n}\n\nfunction Visualize(props){\n    const wizard = props;\n    const {classes,file,setFile} = props;\n\n    useEffect(() => {\n    }, []);\n\n      return (\n          <StyledStep classes={classes} wizard = {wizard}\n            messageToUser={\"Visualize it\"}>\n                <Typography>Visual</Typography>\n\n                <div justify=\"center\">\n                    <input type=\"file\" onChange={(e)=>setFile(e.target.files[0])} />\n                    <img src={file===null \n                        ? \"https://via.placeholder.com/400x300\" \n                        : URL.createObjectURL(file)}\n                        alt=\"Uploaded Images\"\n                        height=\"200\"\n                        width=\"200\"/>\n                </div>\n\n          </StyledStep>\n      );\n\n}\n\nfunction DateIt(props){\n    const wizard = props;\n    const {classes,date,setDate} = props;\n\n    function handleCalendarSelected(value){\n        console.log(value);\n        setDate(value);\n    }\n\n    useEffect(() => {\n    }, []);\n\n      return (\n          <StyledStep classes={classes} wizard = {wizard}>\n                <Calendar\n                    defaultView=\"decade\"\n                    maxDetail=\"decade\"\n                    showWeekNumbers=\"true\"\n                    defaultValue={date}\n                    onChange={handleCalendarSelected}\n                />\n          </StyledStep>\n      );\n\n}\n\nfunction MetricIt(props){\n    const wizard = props;\n    const {classes} = props;\n\n\n\n    useEffect(() => {\n    }, []);\n\n      return (\n          <StyledStep classes={classes} wizard = {wizard}>\n                <Quantitative />\n          </StyledStep>\n      );\n\n}\n\nfunction StyledStep(props) {\n    const { children, classes, messageToUser, wizard } = props;\n  \n    return (\n        <>\n        <Paper  id={wizard.currentStep} className={classes.paper}>\n            <AppBar p={1} position=\"static\"  className={classes.header}>   \n                <Typography p={1}>\n                    Step {wizard.currentStep}/{wizard.totalSteps}\n                </Typography>                  \n            </AppBar>\n\n            <Grid container item xs={12} alignItems=\"center\" \n            spacing={1} className={classes.content}>\n                <Grid item xs={2}>\n                        <button disabled = {(wizard.currentStep===1)} onClick={wizard.previousStep}>Back</button>\n                </Grid>\n                <Grid item xs={7}>\n                    {/* <Typography>{messageToUser}</Typography> */}\n                </Grid>\n                <Grid item xs={3}>\n                    {(wizard.currentStep===wizard.totalSteps ?\n                        <button  onClick={wizard.finish}>Finish</button>\n                         :\n                        <button  onClick={wizard.nextStep}>Next</button>\n                    )}\n                </Grid>\n            </Grid>\n\n            <Box p={2}>\n                {children}\n            </Box>\n            \n        </Paper>\n        </>\n\n    );\n  }\n  \nexport default withRouter(Dream);","export default __webpack_public_path__ + \"static/media/knee.dd00290c.jpg\";","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport GridList from '@material-ui/core/GridList';\nimport GridListTile from '@material-ui/core/GridListTile';\nimport GridListTileBar from '@material-ui/core/GridListTileBar';\nimport ListSubheader from '@material-ui/core/ListSubheader';\nimport IconButton from '@material-ui/core/IconButton';\nimport InfoIcon from '@material-ui/icons/Info';\nimport image from './knee.jpg';\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n    flexWrap: 'wrap',\n    justifyContent: 'space-around',\n    overflow: 'hidden',\n    backgroundColor: theme.palette.background.paper,\n  },\n  gridList: {\n    width: 500,\n    height: 450,\n  },\n  icon: {\n    color: 'rgba(255, 255, 255, 0.54)',\n  },\n}));\n\nconst tileData = [\n    {\n      img: image,\n      title: 'Strong Knee',\n    },\n\n];\n\nexport default function TitlebarGridList() {\n  const classes = useStyles();\n\n  return (\n    <div className={classes.root}>\n      <GridList cellHeight={180} className={classes.gridList}>\n        <GridListTile key=\"Subheader\" cols={2} style={{ height: 'auto' }}>\n          <ListSubheader component=\"div\">December</ListSubheader>\n        </GridListTile>\n        {tileData.map((tile) => (\n          <GridListTile key={tile.img}>\n            <img src={tile.img} alt={tile.title} />\n            <GridListTileBar\n              title={tile.title}\n              subtitle={<span>by: {tile.author}</span>}\n              actionIcon={\n                <IconButton aria-label={`info about ${tile.title}`} className={classes.icon}>\n                  <InfoIcon />\n                </IconButton>\n              }\n            />\n          </GridListTile>\n        ))}\n      </GridList>\n    </div>\n  );\n}","import { Button, TextField } from '@material-ui/core';\nimport React,{useState,useEffect,Fragment} from 'react';\nimport firebase from '../firebase';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Avatar from '@material-ui/core/Avatar';\nimport {Redirect} from 'react-router';\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\nexport default function Rate() {\n  const classes = useStyles();\n  const [loading, setLoading] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n\n  const ref = firebase.firestore().collection(\"Rates\");\n\n  // ADD FUNCTION\n  function addRate(newRate) {\n    console.log(\"rate function started\");\n    ref.doc()\n      //.doc() use if for some reason you want that firestore generates the id\n      .set(newRate).then(() => {\n        console.log(\"A new user has been added\", \"Success\");\n        //it is not working\n        return <Redirect to=\"./dream\" />\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n    return(\n\n    <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        {loading ? <h1>Loading...</h1> : null}\n        <div>                  \n              <TextField className={classes.form} label=\"Which aspect?\" variant=\"outlined\" required fullWidth value={title} onChange={(e) => setTitle(e.target.value)}/>\n              <TextField className={classes.form} label=\"Rate\" variant=\"outlined\" value={desc} onChange={(e) => setDesc(e.target.value)} />\n              <Button   type=\"submit\"  fullWidth variant=\"contained\" color=\"primary\"\n            className={classes.submit} onClick={() => addRate({ title, desc})}>Push</Button>\n        </div>\n      </div>\n    </Container>\n  )\n\n}","import { Button, TextField } from '@material-ui/core';\nimport React,{useState,useEffect} from 'react';\nimport firebase from '../firebase';\nimport Container from '@material-ui/core/Container';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FormControl from '@material-ui/core/FormControl';\nimport Select from '@material-ui/core/Select';\nimport InputLabel from '@material-ui/core/InputLabel';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport LockOutlinedIcon from '@material-ui/icons/LockOutlined';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Avatar from '@material-ui/core/Avatar';\nimport { v4 as uuidv4 } from \"uuid\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  paper: {\n    marginTop: theme.spacing(2),\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  },\n  avatar: {\n    margin: theme.spacing(1),\n    backgroundColor: theme.palette.secondary.main,\n  },\n  form: {\n    width: '100%', // Fix IE 11 issue.\n    marginTop: theme.spacing(1),\n  },\n  submit: {\n    margin: theme.spacing(3, 0, 2),\n  },\n}));\n\n\nexport default function Act() {\n\n  const classes = useStyles();\n  const [aspects, setAspects] = useState([]);\n  const [selectedAspect, setSelectedAspect] = useState(\"Money\");\n  const [loading, setLoading] = useState(false);\n  const [title, setTitle] = useState(\"\");\n  const [desc, setDesc] = useState(\"\");\n\n  const ref = firebase.firestore().collection(\"LifeAspects\");\n\n  const handleChange = (event) => {\n    setSelectedAspect(event.target.value);\n  };\n\n  // ADD FUNCTION\n  function addGoal(newGoal) {\n    ref.doc()\n      //.doc() use if for some reason you want that firestore generates the id\n      //.collection()\n      .set(newGoal)\n      .catch((err) => {\n        console.error(err);\n      });\n  }\n\n  //REALTIME GET FUNCTION\n  function getAspects() {\n    setLoading(true);\n    ref.onSnapshot((querySnapshot) => {\n      const items = [];\n      querySnapshot.forEach((doc) => {\n        items.push(doc.data());\n        console.log(doc.id);\n      });\n      setAspects(items);\n      setLoading(false);\n    });\n  }\n\n  useEffect(() => {\n    getAspects();\n    console.log(aspects);\n    // eslint-disable-next-line\n  }, []);\n\n    return(\n\n      <Container component=\"main\" maxWidth=\"xs\">\n      <CssBaseline />\n      <div className={classes.paper}>\n        <Avatar className={classes.avatar}>\n          <LockOutlinedIcon />\n        </Avatar>\n        {loading ? <h1>Loading...</h1> : null}\n        <form noValidate>\n              <FormControl className={classes.form}>\n                      <InputLabel id=\"select-label\" >Life Aspect</InputLabel>\n                      <Select labelId=\"select-label\" id=\"select-aspect\" onChange={handleChange} value={selectedAspect}>\n                          {aspects.map(item => <MenuItem value={item.title}>{item.title}</MenuItem>)}\n                      </Select>\n              </FormControl>\n                  \n              <TextField className={classes.form} label=\"How to call this goal?\" variant=\"outlined\" required fullWidth value={title} onChange={(e) => setTitle(e.target.value)}/>\n              <TextField className={classes.form} label=\"Description\" variant=\"outlined\" value={desc} onChange={(e) => setDesc(e.target.value)} />\n              <Button   type=\"submit\"  fullWidth variant=\"contained\" color=\"primary\"\n            className={classes.submit} onClick={() => addGoal({ title, desc, id: uuidv4() })}>Submit</Button>\n        </form>\n      </div>\n    </Container>\n\n)\n\n}","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  root: {\n//        maxWidth: 400,\n    },\n  media: {\n        height: 0,\n        paddingTop: '100%', // 16:9,\n      \n    },\n});\n\n\n\nexport default function Health() {\n\n    const classes = useStyles();\n\n    return(\n\n        <Card className={classes.roots}>\n            <CardActionArea>\n                <CardMedia className={classes.media} image=\"/health.jpg\" title=\"health avatar\" align=\"center\"/>\n                <CardContent>\n                    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h2\">\n                    Health Dream\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Body: 3 goals\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Mind: 3 goals\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n\n        )\n}","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n    root: {\n//      maxWidth: 300,\n\n      },\n    media: {\n        height: 0,\n        paddingTop: '100%', // 16:9,\n    },\n  });\n\n\nexport default function Money() {\n    const classes = useStyles();\n\n    return(\n\n        <Card className={classes.roots}>\n            <CardActionArea>\n                <CardMedia className={classes.media} image=\"/money.jpg\" title=\"money avatar\" align=\"center\"/>\n                <CardContent>\n                    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h2\">\n                    Money Dream\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Body: 3 goals\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n\n        )\n}","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport CardActionArea from '@material-ui/core/CardActionArea';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardMedia from '@material-ui/core/CardMedia';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { yellow } from '@material-ui/core/colors';\n\n\n\nconst useStyles = makeStyles({\n    root: {\n//          maxWidth: 400,\n      },\n    media: {\n          height: 0,\n          paddingTop: '100%', // 16:9,\n        \n      },\n  });\n\n\nexport default function Career() {\n\n    const classes = useStyles();\n\n    return(\n\n        <Card className={classes.roots}>\n            <CardActionArea>\n                <CardMedia className={classes.media} image=\"/career.jpg\" title=\"health avatar\" align=\"center\"/>\n                <CardContent>\n                    <Typography gutterBottom align=\"center\" variant=\"h5\" component=\"h2\">\n                    Career Dream\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Body: 3 goals\n                    </Typography>\n                    <Typography variant=\"body2\" color=\"textSecondary\" component=\"p\">\n                    Mind: 3 goals\n                    </Typography>\n                </CardContent>\n            </CardActionArea>\n        </Card>\n\n        )\n}","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport firebase,{storage} from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\n\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport DirectionsRunIcon from '@material-ui/icons/DirectionsRun';\nimport EuroIcon from '@material-ui/icons/Euro';\nimport GroupIcon from '@material-ui/icons/Group';\nimport { AccordionActions, Button, Divider, Fab, FormControlLabel, TextField } from '@material-ui/core';\n//tab//\nimport AddIcon from '@material-ui/icons/Add';\nimport DeleteIcon from '@material-ui/icons/Delete';\nimport SaveIcon from '@material-ui/icons/Save';\nimport { withRouter } from 'react-router-dom';\nimport EditIcon from '@material-ui/icons/Edit';\nimport PhotoIcon from '@material-ui/icons/Photo';\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={1}>\n          <Typography>{children}</Typography>\n          <Box p={1}/>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n//tab//\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    top: 'auto',\n    bottom: 0,\n  },\n  heading: {\n    fontSize: theme.typography.pxToRem(15),\n    fontWeight: theme.typography.fontWeightRegular,\n  },\n  add: {\n    position:'absolute',\n    right: theme.spacing(2),\n    top: 'auto',\n  },\n  save: {\n    position:'absolute',\n    right: theme.spacing(10),\n    top: 'auto',\n  },\n  deleteAccordion: {\n    position: 'absolute',\n    right: theme.spacing(10),\n  },\n  editAccordion: {\n    position: 'absolute',\n    right: theme.spacing(15),\n  },\n  disabledText:{\n      opacity:1.0\n  }\n}));\n\nconst LifeAccordionTab = props => {\n\n\nconst { history } = props;\n\n\n//tab// value keeps the current tab\nconst [value, setValue] = React.useState(0);\n\nconst handleChange = (event, newValue) => {\n  setValue(newValue);\n};\n\n//tab//\n\n  const classes = useStyles();\n\n  const [visions,setVisions]=useState([]);\n  const [loading, setLoading] = useState(false);\n\n\n  const { currentUser } = useContext(AuthContext);\n  const db=firebase.firestore().collection(\"Users\").doc(currentUser.uid).collection(\"visions\");\n\n//  const ref=firebase.firestore().collection(\"Users\");\n\n  //console.log(currentUser.uid);\n\n/*   const fetchVisionsOnce = () => {\n    return db.get()\n    .then(snap => {\n        snap.docs.map(doc => {\n            console.log(doc.data())\n            return {\n               ...doc.data(),\n               id: doc.id,\n               ref: doc.ref\n            };\n        })\n    });\n}\n\nuseEffect(() => {\n  (async () => {\n      const newVisions = await fetchVisionsOnce();\n      console.log(\"nv\",newVisions);\n      setVisions(newVisions);\n  })();\n}, []) */\n\n\n useEffect(() => {\n  fetchVisions();\n},[]); \n\n const fetchVisions=async()=>{\n    setLoading(true);\n    try {\n          console.log(\"fetch vision started\");\n          const data=await db.get();\n//          console.log(data);\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setVisions(items);\n            setLoading(false);\n//          console.log(item);\n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  const updateVisions=async()=>{\n    try {\n          console.log(\"update visions started\");\n          visions.forEach(item=>{\n            db.doc(item.id).set(item);\n          }\n          );\n          console.log(\"update done\");\n    \n        }catch(err){\n          console.log(err);\n        }\n  }\n\n  const removeFromDB=(vision)=>{\n    db.doc(vision.id).delete().then(() => {\n      console.log(vision,\"Document successfully deleted!\");\n      fetchVisions();\n      }).catch((error) => {\n          console.error(\"Error removing document: \", error);\n      });\n  }\n\n  function loadURL(year,filename)\n  {\n\n    var output=\"nothing\";\n\n    storage.ref().child(`/images/${currentUser.uid}/${year}/${filename}`)\n      .getDownloadURL().then(function(url) {\n      console.log(url);\n      output = url;\n    }).catch(function(error){console.log(error)})\n    console.log(output);\n    return output;\n  }\n\n  const createNewVision = ()=>\n  {\n    history.push(\"/newVision\");\n  }\n\n  const editVision=(vision)=>{\n    history.push(\"/newVision\",vision);\n  }\n\n  const showVisionBoard=()=>{\n    history.push(\"/visionBoard\");\n  }\n\n  return (\n    <div className={classes.root}>\n\n    {loading ? <h2>Loading...</h2> :\n\n    visions.map((vision,index)=>(\n\n                 <Accordion className={classes.root}>\n                  {console.log(vision,index)} \n                   <AccordionSummary className={classes.root} expandIcon={<ExpandMoreIcon />}>\n                      <Typography className={classes.heading}>Vision of {vision.id}</Typography>\n                      <FormControlLabel \n                          onClick={(event) => event.stopPropagation()}\n                          onFocus={(event) => event.stopPropagation()}\n                          control={<EditIcon color=\"primary\"\n                            className={classes.editAccordion}\n                            onClick={()=>editVision(vision)}  \n                          />}\n                      />\n                      <FormControlLabel \n                          onClick={(event) => event.stopPropagation()}\n                          onFocus={(event) => event.stopPropagation()}\n                          control={<DeleteIcon \n                            id={index} color=\"secondary\"\n                            className={classes.deleteAccordion}\n                            onClick={()=>removeFromDB(vision)}  \n                          />}\n                      />\n                  </AccordionSummary>\n                   <AccordionDetails className={classes.root}>\n                          <AppBar position=\"absolute\" color=\"secondary\" className={classes.appBar}>\n                            <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                              <Tab icon={<DirectionsRunIcon />} {...a11yProps(0)} />\n                              <Tab icon={<EuroIcon />} {...a11yProps(1)} />\n                              <Tab icon={<GroupIcon />} {...a11yProps(2)} />\n                            </Tabs>\n                          </AppBar>\n\n       <TabPanel value={value} index={0} className={classes.root} bottom=\"10\" >\n            <Typography>\n                <Box fontWeight=\"fontWeightMedium\">\n                    My health will be:\n                </Box >\n                <Box fullWidth border={1} p={1} borderRadius=\"borderRadius\" >\n                    {vision.health}\n                </Box>\n            </Typography>\n            <Box p={2}/>\n{/* \n            <TextField id=\"vision_desc\" disabled className={classes.disabledText} defaultValue={vision.health} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.health=e.target.value}/>\n */}            \n\n            {/* <Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Health</Button> */}\n\n{/*             <Typography>How do you visualize it?</Typography>\n            <div>\n              <img src={loadURL(vision.id,'health.jpg')} alt=\"\" />\n            </div> */}\n\n        </TabPanel>\n        <TabPanel value={value} index={1} className={classes.root}>\n            <Typography>\n                <Box fontWeight=\"fontWeightMedium\">\n                    My finance will be:\n                </Box >\n                <Box fullWidth border={1} p={1} borderRadius=\"borderRadius\" >\n                    {vision.money}\n                </Box>\n            </Typography>\n            <Box p={2}/>\n\n{/*             <Typography>How do you visualize it?</Typography>\n            <div>\n                <img href={vision.moneyImage} alt=\"\" />\n            </div> */}\n        </TabPanel>\n        <TabPanel value={value} index={2} className={classes.root}>\n        <Typography>\n                <Box fontWeight=\"fontWeightMedium\">\n                    My social connection will be:\n                </Box >\n                <Box fullWidth border={1} p={1} borderRadius=\"borderRadius\" >\n                    {vision.social}\n                </Box>\n            </Typography>\n            <Box p={2}/>\n        </TabPanel>\n\n                <Box p={2} />\n                </AccordionDetails>\n                </Accordion> \n      ))\n    }\n\n    <Box p={2} />\n    <Fab color=\"secondary\" aria-label=\"add\" className={classes.add} onClick={()=>createNewVision()}>\n        <AddIcon />\n    </Fab>    \n    <Fab color=\"secondary\" aria-label=\"show\" className={classes.save}>\n        <PhotoIcon onClick={()=>showVisionBoard()}/>\n    </Fab>\n\n    </div>\n\n  );\n}\nexport default withRouter(LifeAccordionTab);\n\n{/* <TabPanel value={value} index={0} className={classes.root} bottom=\"10\" >\n<Typography>How would like your health to be?</Typography>\n<TextField id=\"vision_desc\" defaultValue={vision.health} fullWidth\n multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.health=e.target.value}/>\n<Box p={1} />\n<Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Health</Button>\n</TabPanel>\n<TabPanel value={value} index={1} className={classes.root}>\n<Typography>How would be your desired financial situation?</Typography>\n<TextField id=\"money_desc\" defaultValue={vision.money} fullWidth\n multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.money=e.target.value}/>\n<Box p={1} />\n<Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Finance</Button>\n</TabPanel>\n<TabPanel value={value} index={2} className={classes.root}>\n<Typography>How would you like your social environment (e.g. friends, family, tribe etc) to be?</Typography>\n<TextField id=\"social_desc\" defaultValue={vision.social} fullWidth\n multiline rows={3}  variant=\"outlined\" onChange={(e)=>vision.social=e.target.value}/>\n<Box p={1} />\n<Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Social</Button>\n</TabPanel> */}","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Snackbar, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport { Alert } from '@material-ui/lab';\nimport StyledPaper from './StyledPaper';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\nconst Profile = props => {\n\n\nconst history = useHistory();\nconst classes = useStyles();\n\nuseEffect(() => {\n\n    console.log(\"------ profile ------- useEffect -----\");\n    console.log(\"------ action -------\", history.action);\n\n    return () => {\n        if (history.action === \"POP\") {\n            // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                console.log(\"------ profile ------- after -----\");\n                console.log(\"------ location -----\",history.location.pathname);\n                window.location.replace(\"/\");\n            }\n       }\n},[])\n\nreturn (\n    <div>\n\n    <Identity classes={classes}/>\n    <Metrics classes={classes}/>\n\n    <Reset classes={classes}/>\n \n    </div>\n);\n}\n\nexport default withRouter(Profile);\n\n\nfunction Reset(props){\n\n    const {classes} = props;\n    const {currentUser} = useContext(AuthContext);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n\n    const removeAllVisions=async()=>{\n        try {\n              console.log(\"reset started\");\n              var visions_ref= user_ref.collection(\"visions\");\n              console.log(visions_ref);\n              if(visions_ref===undefined){\n                  console.log(\"no visions collection\");\n                  return;\n              }else{\n                        const data=await visions_ref.get();\n                        console.log(data);\n                        data.docs.forEach(item=>{\n                            console.log(item);\n                            visions_ref.doc(item.id).delete().then(()=>{\n                                console.log(item.id +\"successfully deleted!\")\n                            });\n                        });\n            }\n        }catch(err){\n              console.log(err);\n            }\n    } \n\n\n    function handleReset(){\n        console.log(\"reset started\");\n        removeAllVisions();        \n    }\n\n    function deleteMyAccount(){\n\n        if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n        \n          const user_doc = firebase.firestore().collection(\"Users\").doc(currentUser.uid);\n  \n          user_doc.collection(\"ExpectedMetrics\").get().then((querySnapshot) => {\n            querySnapshot.forEach((doc) => {\n                console.log(doc.id, \" => \", doc.data());\n                user_doc.collection(\"ExpectedMetrics\").doc(doc.id).delete().then(() => {\n                  console.log(\"metric deleted!\");                      \n              }).catch((error) => {\n                  console.error(\"Error removing metric: \", error);\n              });\n            });\n          });\n  \n          user_doc.delete().then(() => {\n              console.log(\"User main doc deleted!\");    \n              signOut();           \n            }).catch((error) => {\n                console.error(\"Error removing User: \", error);\n            });       \n        }\n      }\n\n      function signOut(){\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n\n    return (\n\n        <Paper  id=\"metrics\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >Delete</Typography>                  \n            </AppBar>\n            <Box p={2} display=\"flex\" justifyContent=\"center\">\n                <Button  color=\"primary\" variant=\"contained\"\n                        onClick={deleteMyAccount}>\n                        Delete My Account\n                </Button>\n            </Box>\n\n        </Paper> \n         \n    );\n\n\n}\n\nfunction Identity(props){\n    const {classes} = props;\n\n    const { currentUser } = useContext(AuthContext);\n    const [profileName,setProfileName]=useState();\n    const [birthYear,setBirthYear]=useState();\n    const [saved,setSaved] = useState(true);\n\n    const [openUpdateSuccessSnack, setOpenUpdateSuccessSnack] = useState(false);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n    function handleClose(){\n        setOpenUpdateSuccessSnack(false);\n    }\n\n    useEffect(() => {\n        fetchProfileDB();\n    }, []);\n  \n\n    const updateProfileDB=async()=>{\n        try {\n                console.log(\"update profile started\");\n                user_ref.update(\n                    {\"name\":profileName,\"birthYear\":birthYear}).then(()=>{\n            //            changeInTopic();\n                        console.log(\"profile is updated\", profileName);\n                        setSaved(true);\n                        setOpenUpdateSuccessSnack(true);\n                    });\n    \n            }catch(err){\n            console.log(err);\n            }\n    } \n\n    const fetchProfileDB=async()=>{\n    try {\n            console.log(\"fetch profile started\", user_ref);\n        \n            user_ref.get().then((doc)=>{\n                if(doc.exists){\n                    setProfileName(doc.data().name);\n                    setBirthYear(doc.data().birthYear);\n                    console.log(doc.data().name);         \n                    console.log(doc.data().birthYear);\n                }else{\n                    console.log(\"such user doesnot exist\", doc.data());\n                }         \n\n            });\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n\n    function usernameClickChange(event)\n    {\n        setProfileName(event.target.value);\n        setSaved(false);\n    }\n  \n    function birthClickChange(event)\n    {\n        setBirthYear(event.target.value);\n        setSaved(false);\n    }\n\n    return(\n\n        <StyledPaper message=\"Profile\">\n\n\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Username:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField variant=\"outlined\" margin=\"normal\" required fullWidth\n                    value={profileName} onChange={(event)=>usernameClickChange(event)} autoFocus/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>\n        <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n            <Grid item xs={4}>\n                    <Typography>Year of Birth:</Typography>\n            </Grid>\n            <Grid item xs={6}>\n                <TextField type=\"number\" variant=\"outlined\" margin=\"normal\" fullWidth\n                    value={birthYear} onChange={(event)=>birthClickChange(event)}/>\n            </Grid>\n            <Grid item xs={1}>\n                    <Box/>\n            </Grid>\n        </Grid>            \n        <Grid container xs={12} justify=\"center\" >\n                <Grid item xs={3} className={classes.content}>\n                    <Button disabled={saved} variant=\"contained\" fullWidth\n                        color=\"primary\" onClick={updateProfileDB}>\n                            Save\n                    </Button>\n                </Grid>\n        </Grid>\n\n            <Snackbar open={openUpdateSuccessSnack} autoHideDuration={6000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"success\">\n                    Your profile is updated.\n                </Alert>\n            </Snackbar>\n\n        </StyledPaper>\n\n      )\n}\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name', width: 150 },\n        { field: 'topic', headerName: 'Force', width: 90 },\n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"\");\n    const [unitName,setUnitName]=useState(\"\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n    function okAddMetricDialogView(){\n        console.log(selectedTopic);\n        try{\n            metric_ref.doc(metricName).set(\n              {\"topic\":selectedTopic,\"unit\":unitName,\"value\":0}\n              ,{ merge: true }); \n            console.log(\"metric added to vision\"); \n            setOpenMetricDialog(false);\n            fetchMetricNamesDB();\n            setMetricName(\"\");\n            setUnitName(\"\");\n      }catch(err){\n        console.log(\"errrror: metric not added to vision\");     \n        console.log(err);\n      }\n    }\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <Paper  id=\"metrics\" className={classes.paper}>\n        <AppBar p={1} position=\"static\" className={classes.header}>   \n            <Typography p={1} >Metrics </Typography>                  \n        </AppBar>\n\n        <Grid container xs={12} justify=\"center\" spacing={1}>\n\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth onClick={handleAdd}>\n                    <Add />\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled>\n                    <Edit/>\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                    <Delete/>\n                </Button>\n            </Grid>\n        </Grid>\n\n        <div style={{ height: 400, width: '100%' }}>\n            <DataGrid rows={metricDefinitions} columns={metricProperties} pageSize={5} checkboxSelection={false} onRowClick={handleRowClick}/>\n        </div>    \n    \n        </Paper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n        <DialogTitle>Metric</DialogTitle>\n        <DialogContent>\n          <form >\n            <FormControl>\n              <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n              <Select\n                native\n                onChange={selectedTopicChangeView}\n              >\n                <option aria-label=\"None\" value=\"\" />                                \n                {\n                    topics.map((item,index)=>\n                <option  value={item.id}>{item.id}</option>)\n                }\n              </Select>\n              <TextField defaultValue={metricName} onChange={metricNameChangeView} />\n              <TextField defaultValue={unitName} onChange={unitNameChangeView} />\n            </FormControl>\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={okAddMetricDialogView} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </>    \n    );\n\n\n}\n","//Based on Drawers https://material-ui.com/components/drawers/\n\nimport React, { useContext, useEffect, useState } from 'react';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport IconButton from '@material-ui/core/IconButton';\nimport Menu from '@material-ui/core/Menu';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport SettingsIcon from '@material-ui/icons/Settings';\nimport HomeSharp from '@material-ui/icons/HomeSharp';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { withRouter } from \"react-router-dom\";\nimport Drawer from '@material-ui/core/Drawer';\nimport clsx from 'clsx';\nimport List from '@material-ui/core/List';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport MenuIcon from '@material-ui/icons/Menu';\nimport ChevronLeftIcon from '@material-ui/icons/ChevronLeft';\nimport ChevronRightIcon from '@material-ui/icons/ChevronRight';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport { Delete, ExitToApp, Today, VideoLibrary } from '@material-ui/icons';\nimport PeopleIcon from '@material-ui/icons/People';\nimport SchoolIcon from '@material-ui/icons/School';\nimport InsertEmoticonIcon from '@material-ui/icons/InsertEmoticon';\nimport ExploreIcon from '@material-ui/icons/Explore';\nimport PersonIcon from '@material-ui/icons/Person';\nimport { AuthContext } from './Auth';\nimport { Link } from 'react-router-dom'\n\nconst drawerWidth = 200;\nvar currentTab = \"Home\";\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    display: 'flex',\n  },\n  appBar: {\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n  },\n  appBarShift: {\n    width: `calc(100% - ${drawerWidth}px)`,\n    marginLeft: drawerWidth,\n    transition: theme.transitions.create(['margin', 'width'], {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n  },\n  hide: {\n    display: 'none',\n  },\n  drawer: {\n    width: drawerWidth,\n    flexShrink: 0,\n  },\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  drawerHeader: {\n    display: 'flex',\n    alignItems: 'center',\n    padding: theme.spacing(0, 1),\n    // necessary for content to be below app bar\n    ...theme.mixins.toolbar,\n    justifyContent: 'flex-end',\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.sharp,\n      duration: theme.transitions.duration.leavingScreen,\n    }),\n    marginLeft: -drawerWidth,\n  },\n  contentShift: {\n    transition: theme.transitions.create('margin', {\n      easing: theme.transitions.easing.easeOut,\n      duration: theme.transitions.duration.enteringScreen,\n    }),\n    marginLeft: 0,\n  },\n}));\n  \n\n  const Header = props => {\n\n    const { history,role,user,year} = props;\n \n    const classes = useStyles();\n\n    const [open, setOpen] = React.useState(false);\n\n    const theme = useTheme();\n\n    const handleDrawerOpen = () => {\n      setOpen(true);\n    };\n  \n    const handleDrawerClose = () => {\n      setOpen(false);\n    };\n\n    const openProfile = () => {\n      //history.push(\"/profile\");\n      handleDrawerClose();\n      currentTab=\"Profile\";\n    };\n    const openDream = () => {\n      console.log(\"start a dream.\");\n      history.push(\"/dream\");\n      handleDrawerClose();\n      currentTab=\"Start a new dream\";\n    };\n\n    const openVision = () => {\n        console.log(\"my vision pushed.\");\n        if(year===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", year );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": year }\n            });\n      }\n        handleDrawerClose();\n        currentTab=\"Vision Board\";\n      };\n\n    const openCalendar = () => {\n      console.log(\"my calendar pushed.\");\n      history.push(\"/mycalendar\");\n      handleDrawerClose();\n      currentTab=\"Calendar\";\n    }\n\n    const openContent = () => {\n      console.log(\"content pushed.\");\n      //history.push(\"/content\");\n      handleDrawerClose();\n      currentTab=\"Content\";\n    }\n\n    function signOut(){\n        firebase.auth().signOut().then(() => {\n          console.log(\"user is out\", \"Success\");\n          window.location = \"./signin\";\n        })\n        .catch((err) => {\n          console.error(err);\n        });\n    }\n\n    function deleteMyAccount(){\n      if (window.confirm(\"You are deleting your account. This will erase all your information permanently. Are you sure?\")) {\n      \n        const user_doc = firebase.firestore().collection(\"Users\").doc(user.uid);\n\n        user_doc.collection(\"ExpectedMetrics\").get().then((querySnapshot) => {\n          querySnapshot.forEach((doc) => {\n              console.log(doc.id, \" => \", doc.data());\n              user_doc.collection(\"ExpectedMetrics\").doc(doc.id).delete().then(() => {\n                console.log(\"metric deleted!\");                      \n            }).catch((error) => {\n                console.error(\"Error removing metric: \", error);\n            });\n          });\n        });\n\n        user_doc.delete().then(() => {\n            console.log(\"User main doc deleted!\");    \n            signOut();           \n          }).catch((error) => {\n              console.error(\"Error removing User: \", error);\n          });       \n      }\n    }\n\n    return(\n          <div className={classes.root}>\n          <CssBaseline />\n          <AppBar position=\"fixed\" className={clsx(classes.appBar, {[classes.appBarShift]: open,})}>\n              <Toolbar>             \n                <IconButton color=\"inherit\" aria-label=\"open drawer\" onClick={handleDrawerOpen} edge=\"start\" className={clsx(classes.menuButton, open && classes.hide)}>        \n                    <MenuIcon />\n                </IconButton>\n                <Typography> {currentTab} </Typography>\n              </Toolbar>\n          </AppBar>\n          <Toolbar />\n          <Drawer\n              className={classes.drawer}\n              variant=\"temporary\"\n              anchor=\"left\"\n              open={open}\n              onClose={handleDrawerClose}\n              classes={{\n                paper: classes.drawerPaper,\n              }}\n          >\n          <div className={classes.drawerHeader}>\n            <IconButton onClick={handleDrawerClose}>\n              {theme.direction === 'ltr' ? <ChevronLeftIcon /> : <ChevronRightIcon />}\n            </IconButton>\n          </div>\n        <Divider />\n        <List>\n{/*             <ListItem button key=\"Profile\" onClick={openSetting}>\n              <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n              <ListItemText primary='Profile' />\n            </ListItem> */}           \n{/*             <ListItem button key=\"dream\" onClick={openDream}>\n              <ListItemIcon>{<SettingsIcon />}</ListItemIcon>\n              <ListItemText primary='Start A Dream' />\n            </ListItem> */}\n            <ListItem key=\"Vision Board\" component={Link} to=\"/\" onClick={openVision}>\n              <ListItemIcon>{<InsertEmoticonIcon />}</ListItemIcon>\n              <ListItemText primary='Vision Board' />\n            </ListItem>\n            {role===\"admin\"\n            ?  <>\n                    <ListItem button key=\"Plan\">\n                      <ListItemIcon>{<ExploreIcon />}</ListItemIcon>\n                      <ListItemText primary='Plan' />\n                    </ListItem>\n                    <ListItem button key=\"Calendar\" onClick={openCalendar}>\n                      <ListItemIcon>{<Today />}</ListItemIcon>\n                      <ListItemText primary='Calendar' />\n                    </ListItem> \n               </>\n            : null}           \n        </List>\n        <Divider />\n        <List>\n            <ListItem key=\"Learn\" component={Link} to=\"/content\" onClick={openContent}>\n              <ListItemIcon>{<SchoolIcon />}</ListItemIcon>\n              <ListItemText primary='Content' />\n            </ListItem>\n            {role===\"admin\"\n            ?       <ListItem button key=\"Community\">\n                      <ListItemIcon>{<PeopleIcon />}</ListItemIcon>\n                      <ListItemText primary='Community' />\n                    </ListItem>\n            : null}                      \n        </List>\n        <Divider />\n        <List>\n            {role===\"admin\"\n              ?\n                <ListItem key=\"Admin\" component={Link} to=\"/admin\" onClick={openProfile}>\n                    <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n                    <ListItemText primary='Admin' />\n                </ListItem> \n              :\n                <ListItem key=\"Profile\" component={Link} to=\"/profile\" onClick={openProfile}>\n                      <ListItemIcon>{<PersonIcon />}</ListItemIcon>\n                      <ListItemText primary='Profile' />\n                </ListItem> \n            }          \n            <ListItem button key=\"Sign Out\" onClick={signOut}>\n              <ListItemIcon>{<ExitToApp />}</ListItemIcon>\n              <ListItemText primary='Signout' />\n            </ListItem>\n{/*             <ListItem button key=\"delete\" onClick={deleteMyAccount}>\n              <ListItemIcon>{<Delete />}</ListItemIcon>\n              <ListItemText primary='Delete My Account' />\n            </ListItem>  */}\n        </List>        \n      </Drawer> \n    </div>        \n    )}\n\n    export default withRouter(Header);","import React,{useState,useEffect,useContext, Fragment} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Accordion from '@material-ui/core/Accordion';\nimport AccordionSummary from '@material-ui/core/AccordionSummary';\nimport AccordionDetails from '@material-ui/core/AccordionDetails';\nimport Typography from '@material-ui/core/Typography';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\n\nimport PropTypes from 'prop-types';\nimport AppBar from '@material-ui/core/AppBar';\nimport Tabs from '@material-ui/core/Tabs';\nimport Tab from '@material-ui/core/Tab';\nimport Box from '@material-ui/core/Box';\n\nimport DirectionsRunIcon from '@material-ui/icons/DirectionsRun';\nimport EuroIcon from '@material-ui/icons/Euro';\nimport GroupIcon from '@material-ui/icons/Group';\nimport { AccordionActions, Button, Divider, Fab, FormControlLabel, TextField } from '@material-ui/core';\n//tab//\n\nimport { withRouter } from 'react-router-dom';\n\nimport { storage } from \"../firebase\";\n\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={1}>\n          <Typography>{children}</Typography>\n          <Box p={2}/>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\n//tab//\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    position: 'relative',\n  },\n  yearField: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  yearLabel: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  cancelButton: {\n    top: 'auto',\n    left: theme.spacing(2),\n    position: 'absolute',\n  },\n  addButton: {\n    top: 'auto',\n    left: 'auto',\n    right: theme.spacing(2),\n    position: 'absolute',\n  },\n\n\n}));\n\nconst ManageVision = props => {\n\n  const { history,location } = props;\n  //console.log(location.state);\n  const { currentUser } = useContext(AuthContext);\n\n\n//tab// value keeps the current tab\nconst [value, setValue] = React.useState(0);\n\nconst [loading, setLoading] = React.useState(false);\nconst [updating,setUpdating] = React.useState(false);\n\nconst [visionHealth, setVisionHealth] = React.useState(\"\");\nconst [visionMoney, setVisionMoney] = React.useState(\"\");\nconst [visionSocial, setVisionSocial] = React.useState(\"\");\nconst [visionYear, setVisionYear] = React.useState(2020);\n\nconst [healthURL, setHealthURL] = React.useState(\"\");\nconst [moneyURL, setMoneyURL] = React.useState(\"\");\nconst [socialURL, setSocialURL] = React.useState(\"\");\n\nconst [healthFile, setHealthFile] = React.useState(null);\nconst [moneyFile, setMoneyFile] = React.useState(null);\nconst [socialFile, setSocialFile] = React.useState(null);\n\n//if it is to edit\n//load the vision\n\nuseEffect(() => {\n  loadVision();\n},[]);\n\n  const loadVision=async()=>{\n    setLoading(true);\n    if(location.state)\n    {\n      setUpdating(true);\n      console.log(location.state.id);\n      setVisionHealth(location.state.health);\n      setVisionMoney(location.state.money);\n      setVisionSocial(location.state.social);\n      setVisionYear(location.state.id);\n      await loadURL('health');\n      await loadURL('money');\n      await loadURL('social');\n    }\n    setLoading(false);  \n\n  }\n\n  function loadURL(filename)\n  {\n\n    storage.ref().child(`/images/${currentUser.uid}/${location.state.id}/${filename}`)\n    .getDownloadURL().then(function(url) {\n        console.log(url);\n        switch(filename){\n        case 'health':\n          setHealthURL(url);\n          console.log(\"h\");\n          break;\n        case 'money':\n          setMoneyURL(url);\n          console.log(\"m\");\n          break;\n        case 'social':\n          setSocialURL(url);\n          console.log(\"s\");\n          break;\n        default: console.log('what?');\n        }\n\n      }).catch(function(error){console.log(error);});\n\n  }\nconst handleChange = (event, newValue) => {\n  setValue(newValue);\n};\n\n//tab//\n\n  const classes = useStyles();\n\n  const db=firebase.firestore().collection(\"Users\").doc(currentUser.uid).collection(\"visions\"); \n\n  const add = async()=>\n  {\n    try {\n        console.log(\"add vision started\");\n\n        addImage(currentUser,visionYear,'health',healthFile);\n        addImage(currentUser,visionYear,'money',moneyFile);\n        addImage(currentUser,visionYear,'social',socialFile);\n\n        db.doc(visionYear).set(\n            {health:visionHealth,money:visionMoney,social:visionSocial\n            });       \n\n        close();\n\n    }catch(err){\n        console.log(err);\n      }    \n  }\n  const close = ()=>\n  {\n        history.push(\"/myvision\");   \n  }\n\n\n  const addImage = (user,year,filename,file) => {\n    if(file){\n    const uploadTask = storage.ref(`/images/${user.uid}/${year}/${filename}`).put(file);\n    uploadTask.on(\"state_changed\", console.log, console.error, () => {\n      storage\n        .ref(`/images/${user.uid}/${year}`)\n        .child(filename)\n        .getDownloadURL()\n        .then((url) => {\n            console.log(url);\n        });\n    });\n  }}\n\n  return (\n    <div className={classes.root}>\n    {loading ? <h2>Loading...</h2> :\n        <>    \n        <Typography className={classes.yearLabel}>Which year?</Typography>\n        <TextField id=\"year\" type=\"number\" placeholder=\"year has to be a number\" disabled={updating} required\n         className={classes.yearField} defaultValue={visionYear} onChange={(e)=>setVisionYear(e.target.value)}/>\n        <Box p={1} />        \n\n        <TabPanel value={value} index={0} className={classes.root} bottom=\"10\" >\n            <Typography>How would like your health to be?</Typography>\n            <TextField id=\"vision_desc\" defaultValue={visionHealth} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>setVisionHealth(e.target.value)}/>\n            <Box p={1}/>\n            {/* <Button variant=\"contained\" color=\"primary\" onClick=\"upload_vision_img\">Visualize Your Health</Button> */}\n\n            <Typography>How do you visualize it?</Typography>\n            <div>\n                <input type=\"file\" onChange={(e)=>setHealthFile(e.target.files[0])} />\n                {/* <img src={healthFile ? URL.createObjectURL(healthFile) : \"\" } alt=\"\" /> */}\n                <img id=\"health-image\" src={healthFile ? URL.createObjectURL(healthFile) : \n                ((healthURL===\"\") ? \"https://via.placeholder.com/400x300\": healthURL)}\n                alt=\"Uploaded Images\"\n                height=\"200\"\n                width=\"200\"/>           \n            </div>\n\n        </TabPanel>\n        <TabPanel value={value} index={1} className={classes.root}>\n            <Typography>How would be your desired financial situation?</Typography>\n            <TextField id=\"money_desc\" defaultValue={visionMoney} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>setVisionMoney(e.target.value)}/>\n            <Box p={1} />\n            <Typography>How do you visualize it?</Typography>\n            <div>\n                <input type=\"file\" onChange={(e)=>setMoneyFile(e.target.files[0])} />\n                <img id=\"money-image\"src={moneyFile ? URL.createObjectURL(moneyFile) :\n                 ((moneyURL===\"\") ? \"https://via.placeholder.com/400x300\": moneyURL)}\n                alt=\"Uploaded Images\"\n                height=\"200\"\n                width=\"200\"/>\n            </div>\n        </TabPanel>\n        <TabPanel value={value} index={2} className={classes.root}>\n            <Typography>How would you like your social environment (e.g. friends, family, tribe etc) to be?</Typography>\n            <TextField id=\"social_desc\" defaultValue={visionSocial} fullWidth\n                multiline rows={3}  variant=\"outlined\" onChange={(e)=>setVisionSocial(e.target.value)}/>\n            <Box p={1} />\n            <Typography>How do you visualize it?</Typography>\n            <div>\n                <input type=\"file\" onChange={(e)=>setSocialFile(e.target.files[0])} />\n                <img src={socialFile ? URL.createObjectURL(socialFile) :\n                ((socialURL===\"\") ? \"https://via.placeholder.com/400x300\": socialURL)}\n                alt=\"Uploaded Images\"\n                height=\"200\"\n                width=\"200\"/>            </div>\n        </TabPanel>\n        <AppBar position=\"absolute\" color=\"secondary\" className={classes.appBar}>\n            <Tabs value={value} onChange={handleChange} aria-label=\"simple tabs example\">\n                <Tab icon={<DirectionsRunIcon />} {...a11yProps(0)} />\n                <Tab icon={<EuroIcon />} {...a11yProps(1)} />\n                <Tab icon={<GroupIcon />} {...a11yProps(2)} />\n            </Tabs>\n        </AppBar>\n\n        {/* <Button variant=\"contained\" color=\"primary\" className={classes.cancelButton} onClick={close}>Cancel</Button> */}\n\n        <Box p={1} />\n        <Button variant=\"contained\" color=\"primary\" className={classes.addButton} onClick={add}>Done</Button>\n        <Button variant=\"contained\" color=\"primary\" className={classes.cancelButton} onClick={close}>Cancel</Button>\n        <Box p={1} />\n\n    </>\n    }\n    </div>\n\n  );\n}\nexport default withRouter(ManageVision);","import React from \"react\";\nimport PropTypes from \"prop-types\";\nimport \"./Styles.css\";\n\nconst YoutubeEmbed = ({ embedId }) => (\n  <div width=\"100%\">\n    <iframe\n      width=\"100%\"\n      //height=\"200\"\n      src={`https://www.youtube.com/embed/${embedId}`}\n      frameBorder=\"0\"\n      allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\n      allowFullScreen\n      title=\"Embedded youtube\"\n    />\n  </div>\n);\n\nYoutubeEmbed.propTypes = {\n  embedId: PropTypes.string.isRequired\n};\n\nexport default YoutubeEmbed;","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, Grid, GridList, GridListTile, GridListTileBar, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport Quantitative from './Quantitative';\n\n\nconst visionboardDefaultPlaceholder = 'https://www.emetabolic.com/media/pcon/vision-board-mrc-socialmedia-2089.jpg';\nconst minYear = 2021;\nconst maxYear = 2050;\n\nfunction TabPanel(props) {\n  const { children, value, index, ...other } = props;\n\n  return (\n    <div\n      role=\"tabpanel\"\n      hidden={value !== index}\n      id={`simple-tabpanel-${index}`}\n      aria-labelledby={`simple-tab-${index}`}\n      {...other}\n    >\n      {value === index && (\n        <Box p={3}>\n          <Typography>{children}</Typography>\n        </Box>\n      )}\n    </div>\n  );\n}\n\nTabPanel.propTypes = {\n  children: PropTypes.node,\n  index: PropTypes.any.isRequired,\n  value: PropTypes.any.isRequired,\n};\n\nfunction a11yProps(index) {\n  return {\n    id: `simple-tab-${index}`,\n    'aria-controls': `simple-tabpanel-${index}`,\n  };\n}\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    position: 'relative',\n  },\n  yearField: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  yearLabel: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  addButton: {\n    bottom: theme.spacing(2),\n    right: theme.spacing(0),\n    position: 'absolute',\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n  paper: {\n    margin: theme.spacing(1),\n    justify : \"center\",\n  },\n  sliderLimit: {\n    margin: theme.spacing(2),\n    top: theme.spacing(4),\n  },\n  sliderLabel: {\n    left: theme.spacing(5),\n  },\n  save: {\n    justify: 'center'\n    },\n  header:{\n      alignItems: 'center',\n      background : '#ff8a65'\n  },\n  headerDetails:{\n    alignItems: 'center',\n    background : '#ff7043'\n},\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n      'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n  },\n\n}));\n\nconst VisionBoard = props => {\n\n  const classes = useStyles();\n\n  const { currentUser } = useContext(AuthContext);\n\n  //db ref\n  const visions_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid).collection(\"visions\"); \n  const expectedMetrics_ref=firebase.firestore().collection(\"ExpectedMetrics\");\n\n  // which tab to show \n  const [tabValue,setTabValue]=useState(0);\n\n  const [topics,setTopics]=useState([]);\n  const [visions,setVisions]=useState([]);\n//  const [visionDesc,setVisionDesc]=useState(\"\");\n//  const [uploadedFile,setUploadedFile] = useState(null);\n  const [images,setImages]=useState([]);\n  const [selectedTopic,setSelectedTopic]=useState(\"\");\n//  const [selectedURL,setSelectedURL]=useState(\"\");\n\n  const [selectedVision,setSelectedVision]=useState(null);\n  const [selectedYear,setSelectedYear]=useState(0);\n  const [newYear,setNewYear]=useState(minYear);\n  const [sliderYears,setSliderYears]=useState([]);\n  const [selectedMetrics,setSelectedMetrics]=useState([]);\n\n//loading semaphors  \n  const [loadingPix, setLoadingPix] = useState(false);\n  const [loading, setLoading] = useState(false);\n  \n//dialog variables  \n  const [openYearDialog,setOpenYearDialog]=useState(false);\n\n  const [showC2,setShowC2]=useState(true);\n\n  useEffect(() => {\n    fetchAllDB();\n  }, []);\n\n/*   function changeInTopic(){\n\n    resetView();\n\n    fetchSelectedVisionDB(selectedYear);\n    fetchImagesDB(selectedYear);\n    fetchExpectedMetricsDB(selectedYear);\n\n  } */\n  function refreshAfterYearDeletion(){\n    setSelectedYear(0)\n    fetchYearsDB()\n    setSelectedTopic(\"\");\n    setImages([]);\n  }\n  const existSuchYear=(year)=>{\n\n    for (let index = 0; index < visions.length; index++) {\n      if(visions[index].id===year) return true;\n    }\n    return false;\n  }\n\n  ////////////////View////////////////\n  const fetchTopicsDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref=firebase.firestore().collection(\"Topics\");\n          const data=await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n//            console.log(item);\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchSelectedVisionDB=async(year)=>{\n    try {\n          console.log(\"fetch vision started of year \", typeof year, year);\n          visions_ref.doc(year).get().then((item)=>{\n              setSelectedVision({id:item.id,...item.data()});\n              console.log(\"selectedVision successfully fetched: \"+item);\n            });\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchExpectedMetricsDB=async(year)=>{\n\n          console.log(\"fetch metrics started of year \", typeof year, year);\n          expectedMetrics_ref.where(\"year\", \"==\", year)\n          .where(\"userID\",\"==\",currentUser.uid).get()\n          .then((querySnapshot) => {\n            var items=[];\n            querySnapshot.forEach((item) => {\n              items.push({id:item.id,...item.data()});\n              console.log(\"selectedMetric successfully fetched: \"+item);\n            });\n            setSelectedMetrics(items);\n          })\n          .catch((err)=>{\n          console.log(err);\n        });\n  } \n  const fetchYearsDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          const data=await visions_ref.get();\n//          console.log(data);\n          const yrs=[];\n          const items = [];\n          data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items);\n//          console.log(item);\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const getPhotosDB=async(res)=>{\n    \n    var items = [];\n    for (let index = 0; index < topics.length; index++) {\n      const photo = {key:index,alt:topics[index].id,src:topics[index].placeholder,width:1,height:1};\n      items.push(photo);\n    }\n\n    try {\n\n        const promises = res.items.map((itemRef)=> getImageURLDB(itemRef));\n\n        const urls = await Promise.all(promises);\n        console.log(\"urls \" + urls);\n\n        await urls.forEach((x)=>{\n          for (let index = 0; index < topics.length; index++) {\n            if(topics[index].id===x.alt)\n            {\n              items[index]=x;\n              console.log(\"index: \"+items[index]);\n            }\n            console.log(\"item \" + items[index].src);\n          }\n        });\n\n    } catch (error) {\n        console.log(error);\n    }\n    return items;\n  }\n  const getImageURLDB=async(itemRef)=>{\n\n      var metadata = await itemRef.getMetadata();\n      var name = await metadata.name;\n      console.log(name);\n          \n      var photo =  {src:\"\",alt:name,width:1,height:1};\n      photo.src = await itemRef.getDownloadURL();\n      return photo;\n  }\n  const deleteVisionDB=(year)=>{\n    visions_ref.doc(year).delete().then(() => {\n      console.log(year,\" successfully deleted!\");\n      deleteImagesDB(year);\n      \n      }).catch((error) => {\n          console.error(\"Error removing document: \", error);\n      });\n  }\n  function deleteImagesDB(year){\n    var ref = storage.ref(`/images/${currentUser.uid}/${year}`);\n    ref.listAll()\n      .then((res) => {\n      res.items.forEach((itemRef) => {\n        itemRef.delete().then(() => {\n          console.log(\"File deleted successfully\");\n          setSelectedVision(null);\n          setSelectedYear(0);\n        }).catch((error) => {\n          // Uh-oh, an error occurred!\n          console.log(error);\n        });\n      });\n    }).catch((error) => {\n      // Uh-oh, an error occurred!\n      console.log(error);\n    });\n  \n  }\n  const fetchImagesDB=async(year)=>{\n\n    console.log(\"fetch images started\");\n    setLoadingPix(true);\n\n    // Create a reference under which you want to list\n    var listRef = storage.ref().child(`/images/${currentUser.uid}/${year}`);\n    console.log(\"year: \"+year);\n    console.log(listRef);\n\n    var res = await listRef.listAll();\n    var items = await getPhotosDB(res);\n    await setImages(items);\n    await setLoadingPix(false);\n    console.log(\"ended 1\");\n    console.log(\"ended 2\");\n\n  }\n  function fetchAllDB()\n  {\n    setLoading(true);\n    fetchTopicsDB();\n    fetchYearsDB();\n    fetchImagesDB(selectedYear);\n    setLoading(false);\n  }\n  const storeNewYearDB = async()=>\n  {\n    try {\n     var item = {}\n    for (let index = 0; index < topics.length; index++) {\n      item[topics[index].id] = \"\";\n//      item[topics[index].id+\"metrics\"] = null;\n      console.log(\"this topic created \", topics[index]);\n    } \n\n        console.log(\"add vision started\", item);\n        visions_ref.doc(newYear).set(item);\n\n    }catch(err){\n        console.log(err);\n      }    \n  }\n\n////////////////View////////////////\n\n\n/*   function resetView(){\n        //reset selected topic in gallery\n        setSelectedTopic(\"\");\n//        setSelectedURL(\"\");\n    \n        // reset topic info\n//        setVisionDesc(\"\");\n//        setUploadedFile(null);\n    \n        setImages([]);\n  } */\n  const yearClickView=(data)=>{\n    \n      console.log(data);\n\n      var year = data.id;\n      console.log(\"year click started\");\n\n      afterYearChangeView(year);\n\n      console.log(\"year click ended\");\n\n\n  }\n  function afterYearChangeView(year){\n\n    setSelectedYear(year);\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  function afterYearAddedView(year){\n\n    setSelectedYear(year);\n    fetchYearsDB()\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  const closeYearDialogView = () => {\n    setOpenYearDialog(false);\n  };\n\n  function galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n //   setSelectedURL(event.target.src);\n\n    console.log(\"selected topic: \" + event.target.alt);\n\n    console.log(\"vision:\"+selectedVision);\n\n    console.log(\"vision topic desc:\"+selectedVision[event.target.alt]);\n\n    if((typeof selectedVision[event.target.alt])==='undefined')\n    {\n      console.log(\"undefined catcher\");\n//      setVisionDesc(\"\");\n    } else {\n      console.log(\"yes desc exists\");\n//      setVisionDesc(selectedVision[event.target.alt]);\n//      fetchExpectedMetrics(selectedYear);\n    }\n  \n  }\n  function negateChipView(){\n    if(window.confirm(\"You are deleting the vision of \" + selectedYear + \".\\n Are you sure to continue?\",))\n    {\n        deleteVisionDB(selectedYear);\n        refreshAfterYearDeletion();\n    }\n  }\n  function plusChipView()\n  {\n    setOpenYearDialog(true);\n  }\n  const yearDialogTextView = (event) => {\n   setNewYear(event.target.value);\n//   console.log(event.target.value);\n  };\n  function goDialogView(){\n      if(existSuchYear(newYear)) \n          alert(\"You already started envisioning this year.\");\n      else {\n        storeNewYearDB();\n        closeYearDialogView();\n        afterYearAddedView(newYear);\n        //refreshAfterYearDeletion(newYear);\n      }\n\n  }\n  const sliderChangeView = (event,val) => {\n    console.log(\"event.target.value\",val);\n    afterYearChangeView(val+'');\n    \n  };\n  const tabChangeView = (event, newValue) => {\n    setTabValue(newValue);\n  };\n\n  const C2 = () => (\n    <div id=\"c1\">\n          <Paper  className={classes.paper}>\n          <AppBar p={1} position=\"static\"  className={classes.header}>   \n                <Typography p={1} >Vision Board </Typography>                  \n            </AppBar>\n          {   loadingPix ? <CircularProgress /> :\n              (images.length===0 ? \n               <Gallery photos={[{src:visionboardDefaultPlaceholder,alt:\"Click on a year above\"}]}\n               direction={\"column\"} columns={1} \n               onClick={()=>alert(\"Click on a year above\")}/>  :\n              <div>\n{/*                   <Gallery photos={images} direction={\"column\"} columns={2} onClick={galleryClickView}/>\n */} \n               <div id=\"gallery-placeholder\">\n                <GridList cellHeight={160} className={classes.gridList} cols={2} autoFocus>\n                    {images.map((image) => (\n                    <GridListTile key={image.key} cols={1}>\n                      <img src={image.src} alt={image.alt}\n                       onClick={galleryClickView}\n                       style={selectedTopic===image.alt ? {border: '5px solid #021a40' }: {}}\n                      />\n                      <GridListTileBar\n                        title={image.alt}\n                        titlePosition=\"bottom\"\n                        actionPosition=\"left\"\n                        className={classes.titleBar}\n                      />\n                    </GridListTile>\n                  ))}\n                </GridList>\n              </div> \n                  {\n                  selectedTopic===\"\" ? <Typography>Click on images for details</Typography> :\n                  <div id=\"details\"  m={1}>\n<br/>\n\n                        <AppBar  position=\"static\" className={classes.headerDetails}>  \n                        <Typography> {\"<<\"} {selectedTopic} in {selectedVision.id} {\">>\"} </Typography>                        \n                        <Tabs\n                              value={tabValue}\n                              onChange={tabChangeView}\n                              variant=\"fullWidth\"\n                              indicatorColor=\"secondary\"\n                              textColor=\"default\"\n                              aria-label=\"icon label tabs example\"\n                            >\n                              <Tab icon={<Photo />}  {...a11yProps(0)} />\n                              <Tab icon={<Edit />} {...a11yProps(1)} />\n                              <Tab icon={<DirectionsRun />} {...a11yProps(2)} />\n                            </Tabs>\n                        </AppBar>\n                        <TabPanel value={tabValue} index={0}>\n                            <Visual year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n                        </TabPanel>\n                        <TabPanel value={tabValue} index={1}>\n                            <Textual year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n\n                        </TabPanel>\n                        <TabPanel value={tabValue} index={2}>\n                            <Quantitative year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n    \n                        </TabPanel>\n\n                      <div>\n                      </div>               \n\n                  </div>}\n              </div>)\n          }\n          </Paper>\n  \n    </div>\n  )\n\n  return (\n    <div className={classes.root}>\n\n        {loading ? <CircularProgress justify=\"center\"/> :\n\n            <Paper  id=\"year-paper\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >TimeLine </Typography>                  \n            </AppBar>\n\n              {visions.length===0 ? console.log(\"no vision yet\",visions.length ) :\n              <div className={classes.sliderLimit}>\n                <br/>\n                <br/>\n                <Slider className={classes.slider}\n                  value={selectedYear}\n                  //getAriaValueText={valuetext}\n                  aria-labelledby=\"discrete-slider\"\n                  valueLabelDisplay=\"on\"\n                  step={null}\n                  marks={sliderYears}\n                  min={minYear}\n                  max={maxYear}\n                  onChange={(e,v)=>sliderChangeView(e,v)} \n                />\n            </div> \n            }\n            {\n              visions.map((data,index) => {\n              return (\n                  <Chip\n                    color = {(data.id===selectedYear ? 'primary' : 'default')}\n                    id ={index}\n                    label={data.id}\n                    onClick={(e)=>yearClickView(data)}\n                    className={classes.chip}\n                  />\n              );\n            })}\n\n              <Chip\n              id ={visions.length}\n              label={'+'}\n              onClick={plusChipView}\n              className={classes.chip}\n              />\n\n              <Dialog open={openYearDialog} onClose={closeYearDialogView} aria-labelledby=\"form-dialog-title\">\n              <DialogTitle id=\"form-dialog-title\">Year</DialogTitle>\n              <DialogContent>\n              <TextField\n                autoFocus\n                onChange={(event)=>yearDialogTextView(event)}\n                margin=\"dense\"\n                id=\"newYear\"\n                label=\"year\"\n                type=\"number\"\n              />\n              </DialogContent>\n              <DialogActions>\n                <Button onClick={closeYearDialogView} color=\"primary\">\n                  Cancel\n                </Button>\n                <Button onClick={goDialogView} color=\"primary\">\n                  Go\n                </Button>\n              </DialogActions>\n              </Dialog>\n    \n              {selectedYear===0 ? console.log(\"negateChip not shown\") :\n                <Chip\n                id ={visions.length+1}\n                label={'-'}\n                onClick={negateChipView}\n                className={classes.chip}\n                color = 'secondary'\n                />}\n            </Paper>\n        }\n        { showC2 ? <C2 /> : null }\n\n    </div>\n      );\n}\nexport default withRouter(VisionBoard);\n","import React, { useEffect, useState } from 'react';\nimport ReactDOM from 'react-dom';\nimport { PDFViewer,PDFDownloadLink } from '@react-pdf/renderer';\nimport ReactPDF from '@react-pdf/renderer';\n\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\n\nimport { Document, Page, Text, View,Image, StyleSheet } from '@react-pdf/renderer';\nimport { Box, Button, Checkbox, CircularProgress, Fab, FormControlLabel, Icon, IconButton, Typography } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport {  PictureAsPdf, PictureAsPdfOutlined, PictureAsPdfRounded, PictureAsPdfSharp } from '@material-ui/icons';\nimport StyledPaper from './StyledPaper';\n\n// Create styles\nconst stylesXX = StyleSheet.create({\n  page: {\n    flexDirection: 'row',\n    backgroundColor: '#E4E4E4'\n  },\n  sectionOdd: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1,\n    backgroundColor: '#ccff33'\n  },\n  sectionEven: {\n    margin: 10,\n    padding: 10,\n    flexGrow: 1,\n    backgroundColor: '#ffccff'\n  },\n  button:{\n    textDecoration:'none'\n  }\n});\n\nconst styles = StyleSheet.create({\n    page: {\n        backgroundColor: \"#ffffff\"\n    },\n    section: {\n        margin: 10,\n        padding: 10\n    },\n    sectionOdd: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1,\n        backgroundColor: '#ccff33'\n      },\n    sectionEven: {\n        margin: 10,\n        padding: 10,\n        flexGrow: 1,\n        backgroundColor: '#ffccff'\n      },    \n    header: {\n        backgroundColor: \"#f6f6f5\",\n        display: \"flex\",\n        flexDirection: \"row\",\n        justifyContent: \"center\",\n        padding: 5\n    },\n    topicContainer: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        marginLeft: 5\n    },\n    overviewContainer: {\n        display: \"flex\",\n        flexDirection: \"row\",\n        //justifyContent: \"center\",\n        marginLeft: 5\n    },    \n    title: {\n        fontSize: 20,\n        marginBottom: 10,\n        fontweight: \"bold\"\n    },\n    overview: {\n        fontSize: 14\n    },\n\n    image: {\n        height: 200,\n        width: 200\n    },\n    subtitle: {\n        display: \"flex\",\n        justifyContent: \"space-between\",\n        flexDirection: \"row\",\n        width: 150,\n        alignItems: \"center\",\n        marginBottom: 12\n    },\n    vote: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    rating: {\n        height: 10,\n        width: 10\n    },\n    vote_text: {\n        fontSize: 10\n    },\n    vote_pop: {\n        fontSize: 10,\n        padding: 2,\n        backgroundColor: \"#61C74F\",\n        color: \"#fff\"\n    },\n    vote_pop_text: {\n        fontSize: 10,\n        marginLeft: 4\n    },\n    detailsFooter: {\n        display: \"flex\",\n        flexDirection: \"row\"\n    },\n    lang: {\n        fontSize: 8,\n        fontWeight: 700\n    },\n    vote_average: {\n        fontSize: 8,\n        marginLeft: 4,\n        fontWeight: \"bold\"\n    },\n    body: {\n        padding: 10\n      },\n    table: { \n        display: \"table\", \n        width: \"auto\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderWidth: 1, \n        borderRightWidth: 0, \n        borderBottomWidth: 0 \n      }, \n      tableRow: { \n        margin: \"auto\", \n        flexDirection: \"row\" \n      }, \n      tableColHeader: { \n        width: \"25%\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderBottomColor: '#000',\n        borderWidth: 1, \n        borderLeftWidth: 0, \n        borderTopWidth: 0\n      },   \n      tableCol: { \n        width: \"25%\", \n        borderStyle: \"solid\", \n        borderColor: '#bfbfbf',\n        borderWidth: 1, \n        borderLeftWidth: 0, \n        borderTopWidth: 0 \n      }, \n      tableCellHeader: {\n        margin: \"auto\", \n        margin: 5, \n        fontSize: 12,\n        fontWeight: 500\n      },  \n      tableCell: { \n        margin: \"auto\", \n        margin: 5, \n        fontSize: 10 \n      }\n  \n});\n\n\n\nexport default function VisionPDF(props)\n{\n\nconst location = useLocation();  \n//    const {year,topics,images,descs,metrics} = props;\nconst {year,vision} = location.state;\n\nconsole.log(\"vision pdf\");\nconsole.log(\"year\",year);\nconsole.log(\"vision\",vision);\n\n\nconst [checkBoxes,setCheckBoxes]=useState([]);\n\nfunction populateCheckArray(){\n\n  var temp=[];\n  vision.forEach(element => {\n    temp.push({\"id\":element.topic,value:true});\n  });\n  setCheckBoxes(temp);\n\n}\n\nuseEffect(()=>{\n  populateCheckArray();\n},[])\n\nfunction checkBoxClick(event){\n    console.log(event.target.id);\n    console.log(event.target.checked);\n\n    var temp=[];\n    checkBoxes.forEach(element => {\n        if(element.id===event.target.id){\n            element.value=event.target.checked;\n        }\n        temp.push(element);\n\n    });\n\n    setCheckBoxes(temp);\n}\n\nconst D = () => (\n    <Document>\n      <Page style={styles.body}>\n        <View style={styles.table}> \n          <View style={styles.tableRow}> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Product</Text> \n            </View> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Type</Text> \n            </View> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Period</Text> \n            </View> \n            <View style={styles.tableColHeader}> \n              <Text style={styles.tableCellHeader}>Price</Text> \n            </View> \n          </View>\n          <View style={styles.tableRow}> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>React-PDF</Text> \n            </View> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>3</Text> \n            </View> \n            <View style={styles.tableCol}>\n              <Text style={styles.tableCell}>2019-02-20 - 2020-02-19</Text> \n            </View>\n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>5</Text> \n            </View> \n          </View> \n          <View style={styles.tableRow}> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>Another row</Text> \n            </View> \n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>Captulo I: Que trata de la condicin y ejercicio del famoso hidalgo D.\n          Quijote de la Mancha</Text> \n            </View> \n            <View style={styles.tableCol}>\n              <Text style={styles.tableCell}>2019-05-20 - 2020-07-19</Text> \n            </View>\n            <View style={styles.tableCol}> \n              <Text style={styles.tableCell}>25</Text> \n            </View> \n          </View>        \n        </View>\n      </Page>\n    </Document>\n  );\n\nconst PicMosaic = () =>\n  (\n    <View style={styles.table}> \n        <View style={styles.tableRow}> \n            {vision&&\n                vision.map((item,index) => {\n                    return (\n                            <View key={index} style={styles.tableColHeader}> \n                                <Image  style={styles.body}  source={item.image}/> \n                            </View> \n                    )\n                })\n            }\n        </View>\n    </View>\n\n  )\n\nconst VisionAsPDF = (props) => {\n\n  return(\n\n            <Document>\n                <Page style={styles.page}>\n\n                    <View style={styles.header}>\n                        <Text style={styles.title}> Vision Board for {year}</Text>\n                    </View>\n\n                    <PicMosaic />\n\n                    {vision\n                        ? vision.map((item, index) => {\n                                return (\n                                    <View style={index%2===1 ? styles.sectionOdd : styles.sectionEven}>\n                                        <View key={\"text\"+index} style={styles.topicContainer}>\n                                            <Text style={styles.title}>{(index+1)+\". \"+item.topic}</Text>\n                                        </View>\n                                        <View key={\"image\"+index} style={styles.overviewContainer}>\n                                            <Image\n                                                style={styles.image}\n                                                source={item.image}\n                                            /> \n                                            <View style={styles.overviewContainer}>\n                                                <Text style={styles.overview}>Description: {item.desc}</Text>\n                                            </View>\n                                        </View>\n                                    </View>\n                                );\n                            })\n                        : null\n                    }\n                </Page>\n            </Document>\n       \n/*         <Document>\n            <Page size=\"A4\" style={styles.page}>\n            <View style={styles.section}>\n                <Text>Section #1</Text>\n            </View>\n            <View style={styles.section}>\n                <Text>Section #2</Text>\n            </View>\n            </Page>\n\n        </Document> */\n)\n}\n\n    return(\n\n          <StyledPaper message=\"Customization\">\n\n          <Box m={1}>\n              {\n                  checkBoxes.map((item,index)=>{\n                    return  <Box>\n                                <FormControlLabel control={<Checkbox checked={item.value} onChange={checkBoxClick} id={item.id}/>} label={item.id} />\n                            </Box>\n              })}\n          </Box>\n\n             <PDFDownloadLink document={<VisionAsPDF />} style={styles.button} fileName=\"myvision.pdf\">\n                {({ blob, url, loading, error }) =>\n                    loading ? <CircularProgress /> :           \n                            <Button variant=\"contained\" color=\"primary\"> Save As PDF </Button>\n                }\n            </PDFDownloadLink> \n          \n          </StyledPaper>\n\n    );\n}\n\n","import React,{useState,useEffect,useContext} from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport PropTypes from 'prop-types';\nimport { AppBar, Avatar, Box, Button, Chip, CircularProgress, Dialog, DialogActions, DialogContent, DialogContentText, DialogTitle, Divider, Fab, FormControl, FormControlLabel, FormLabel, Grid, GridList, GridListTile, GridListTileBar, Icon, IconButton, Input, InputLabel, List, ListItem, ListItemAvatar, ListItemIcon, ListItemSecondaryAction, ListItemText, ListSubheader, Paper, Radio, RadioGroup, Select, Slider, Switch, Tab, Tabs, TextField, Typography } from '@material-ui/core';\nimport { useHistory, useLocation, withRouter } from 'react-router-dom';\nimport { storage } from \"../firebase\";\nimport Gallery from 'react-photo-gallery';\nimport { DirectionsRun, Edit, Photo, Delete, Add, PhotoAlbum, PhotoAlbumRounded, PhotoAlbumOutlined, PhotoAlbumTwoTone, FormatUnderlined } from '@material-ui/icons';\nimport Textual from './Textual.js'\nimport Visual from './Visual.js'\nimport Quantitative from './Quantitative';\nimport { blue, grey } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport Calendar from 'react-calendar';\nimport VisionPDF from './VisionPDF';\nimport PublishIcon from '@material-ui/icons/Publish';\nimport { PictureAsPdf, PictureAsPdfOutlined, PictureAsPdfRounded, PictureAsPdfSharp } from '@material-ui/icons';\nimport { Alert } from '@material-ui/lab';\n\n\nconst visionboardDefaultPlaceholder = 'https://www.emetabolic.com/media/pcon/vision-board-mrc-socialmedia-2089.jpg';\nconst minYear = new Date().getFullYear();\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    width: '100%',\n  },\n  appBar: {\n    position: 'relative',\n  },\n  yearField: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  yearLabel: {\n    left: theme.spacing(2),\n    top: theme.spacing(2),\n    position: 'relative',\n  },\n  addButton: {\n    bottom: theme.spacing(2),\n    right: theme.spacing(0),\n    position: 'absolute',\n  },\n  chip: {\n    margin: theme.spacing(0.5),\n  },\n  paper: {\n    margin: theme.spacing(1),\n    justify : \"center\",\n  },\n  sliderLimit: {\n    margin: theme.spacing(3),\n    top: theme.spacing(4),\n  },\n  sliderLabel: {\n    left: theme.spacing(5),\n  },\n  save: {\n    justify: 'center'\n    },\n  header:{\n      alignItems: 'center',\n      background : '#ff8a65'\n  },\n  headerDetails:{\n    alignItems: 'center',\n    background : '#ff7043'\n},\n  titleBar: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n      'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n  },\n  titleBarSelected: {\n    background:\n      'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n      'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    fontWeight:\"bold\"\n    \n  },\n  goButton: {\n    background : blue[800],\n    color : \"white\"\n  },\n  browseIcon:{\n    color : \"white\",\n    //background: grey[500]\n    //borderStyle: \"dashed\",\n    border:\"white\"\n},  \n\n}));\n\nconst Vision = props => {\n\n  const history = useHistory();\n\n  const classes = useStyles();\n\n  const { currentUser } = useContext(AuthContext);\n  const location  = useLocation();\n  const maxYear = location.state.maxYear;\n\n  console.log(\"maxYear =\" , maxYear);\n\n\n  //db ref\n   const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid);\n\n  const expectedMetrics_ref=firebase.firestore().collection(\"ExpectedMetrics\");\n\n  const [topics,setTopics]=useState([]);\n  const [visions,setVisions]=useState([]);\n//  const [visionDesc,setVisionDesc]=useState(\"\");\n//  const [uploadedFile,setUploadedFile] = useState(null);\n  const [images,setImages]=useState([]);\n  const [selectedTopic,setSelectedTopic]=useState(\"\");\n//  const [selectedURL,setSelectedURL]=useState(\"\");\n\n  const [selectedVision,setSelectedVision]=useState(null);\n  const [selectedYear,setSelectedYear]=useState(0);\n  const [newYear,setNewYear]=useState(minYear);\n  const [sliderYears,setSliderYears]=useState([]);\n  const [selectedMetrics,setSelectedMetrics]=useState([]);\n\n//loading semaphors  \n  const [loadingPix, setLoadingPix] = useState(false);\n  const [loading, setLoading] = useState(false);\n  \n//dialog variables  \n  const [openYearDialog,setOpenYearDialog]=useState(false);\n\n  const [showC2,setShowC2]=useState(true);\n\n\n  useEffect(() => {\n    fetchAllDB();\n\n    return () => {\n      if (history.action === \"POP\") {\n          // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n              console.log(\"------ profile ------- after -----\");\n              console.log(\"------ location -----\",history.location.pathname);\n              window.location.replace(\"/\");\n          }\n     }\n  },[]);\n\n/*   function changeInTopic(){\n\n    resetView();\n\n    fetchSelectedVisionDB(selectedYear);\n    fetchImagesDB(selectedYear);\n    fetchExpectedMetricsDB(selectedYear);\n\n  } */\n  function refreshAfterYearDeletion(){\n    setSelectedYear(0)\n    //fetchYearsDB()\n    setSelectedTopic(\"\");\n    setImages([]);\n  }\n  const existSuchYear=(year)=>{\n\n    for (let index = 0; index < visions.length; index++) {\n      if(visions[index].id===year) return true;\n    }\n    return false;\n  }\n\n  ////////////////View////////////////\n  const fetchTopicsDB = async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref = firebase.firestore().collection(\"Topics\");\n          const data = await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n            console.log(\"fetching topics success ended:\", items);\n\n            return items;\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchSelectedVisionDB=async()=>{\n    \n    try {\n          //console.log(\"fetch vision started of year \", typeof year, year);\n\n          var doc = await user_ref.get();\n          if(doc===undefined) return null;\n          else{\n              var item = {id:doc.id,...doc.data()};\n              setSelectedVision(item);\n              console.log(\"selectedVision successfully fetched: \"+doc.data().finance);\n              return item;\n          }\n        }catch(err){\n          console.log(err);\n        }\n  } \n  const fetchExpectedMetricsDB=async(year)=>{\n\n          console.log(\"fetch metrics started of year \", typeof year, year);\n          expectedMetrics_ref.where(\"year\", \"==\", year)\n          .where(\"userID\",\"==\",currentUser.uid).get()\n          .then((querySnapshot) => {\n            var items=[];\n            querySnapshot.forEach((item) => {\n              items.push({id:item.id,...item.data()});\n              console.log(\"selectedMetric successfully fetched: \"+item);\n            });\n            setSelectedMetrics(items);\n          })\n          .catch((err)=>{\n          console.log(err);\n        });\n  } \n/*   const fetchYearsDB=async()=>{\n    try {\n          console.log(\"fetch vision started\");\n          const data=await visions_ref.get();\n//          console.log(data);\n          const yrs=[];\n          const items = [];\n          data.docs.forEach(item=>{\n              yrs.push({value:item.id,label:''+item.id});\n              if(maxYear<item.id) setFinalYear(item.id);\n              items.push({id:item.id,...item.data()});\n            });\n            setSliderYears(yrs);\n            setVisions(items);\n          console.log(items);\n        }catch(err){\n          console.log(err);\n        }\n  }  */\n  const getPhotosDB=async(res,placeholders)=>{\n    var items = placeholders;\n\n    try {\n\n        const promises = res.items.map((itemRef)=> getImageURLDB(itemRef));\n        console.log(\"promises are produced. number of promises=\", promises.length);\n\n        if(promises.length===0) return placeholders;\n      \n        const urls = await Promise.all(promises);\n        console.log(\"urls \" + urls + urls.length);\n\n        urls.forEach((x)=>{\n          for (let index = 0; index < topics.length; index++) {\n            if(topics[index].id===x.alt)\n            {\n              items[index]=x;\n              console.log(\"index: \"+items[index]);\n            }\n            console.log(\"item \" + items[index].src);\n          }\n        });\n\n    } catch (error) {\n        console.log(error);\n    }\n    return items;\n  }\n  const getImageURLDB=async(itemRef)=>{\n\n      var metadata = await itemRef.getMetadata();\n      var name = await metadata.name;\n      console.log(name);\n          \n      var photo =  {src:\"\",alt:name,width:1,height:1};\n      photo.src = await itemRef.getDownloadURL();\n      return photo;\n  }\n/*   const deleteVisionDB=(year)=>{\n    visions_ref.doc(year).delete().then(() => {\n      console.log(year,\" successfully deleted!\");\n      deleteImagesDB(year);\n      \n      }).catch((error) => {\n          console.error(\"Error removing document: \", error);\n      });\n  } */\n/*   function deleteImagesDB(year){\n    var ref = storage.ref(`/images/${currentUser.uid}/${year}`);\n    ref.listAll()\n      .then((res) => {\n      res.items.forEach((itemRef) => {\n        itemRef.delete().then(() => {\n          console.log(\"File deleted successfully\");\n          setSelectedVision(null);\n          setSelectedYear(0);\n        }).catch((error) => {\n          // Uh-oh, an error occurred!\n          console.log(error);\n        });\n      });\n    }).catch((error) => {\n      // Uh-oh, an error occurred!\n      console.log(error);\n    });\n  \n  } */\n\n\n  function initiateImages(topics_quick,vision){\n    var items = [];\n    for (let index = 0; index < topics_quick.length; index++) {\n      \n        const photo = {\n                          key:index,\n                          alt:topics_quick[index].id,\n                          src:vision[topics_quick[index].id+\"-url\"],\n                          width:1,\n                          height:1\n        };\n        items.push(photo);\n        console.log(\"photo: \",photo);\n    }\n    console.log(\"placeholders added to images: \",items);\n\n    return items;\n  }\n\n  function addImagePlaceholders2VisionXX(topics_quick,vision_quick){\n    var item = vision_quick;\n    for (let index = 0; index < topics_quick.length; index++) {\n        var key = topics_quick[index].id+\"-url\";\n        \n        item[key] = topics_quick[index].placeholder;\n        console.log(\"vision_quick\",item[key]);\n    }\n    return item;\n\n  }\n\n  function initiateImagesByPlaceholdersX(topics_quick){\n    var items = [];\n    for (let index = 0; index < topics_quick.length; index++) {\n      \n        const photo = {\n                          key:index,\n                          alt:topics_quick[index].id,\n                          src:topics_quick[index].placeholder,\n                          width:1,\n                          height:1\n        };\n        items.push(photo);\n        console.log(\"photo: \",photo);\n    }\n    console.log(\"placeholders added to images: \",items);\n\n    return items;\n  }\n  const fetchImagesDB=async(placeholders)=>{\n  }\n\n\n  const fetchImageStorage=async(placeholders)=>{\n\n    var year = maxYear;\n    console.log(\"fetch images started\");\n    setLoadingPix(true);\n\n    // Create a reference under which you want to list\n    var listRef = storage.ref().child(`/images/${currentUser.uid}/${year}`);\n    console.log(\"year: \"+year);\n    console.log(\"about to get image list: \",listRef);\n\n    var res = await listRef.listAll();\n    console.log(\"res of image loading :\", res);\n    var items = await getPhotosDB(res,placeholders);\n    await setImages(items);\n    await setLoadingPix(false);\n    await console.log(\"loading images ended. images: \", items);\n  }\n  const fetchAllDB = async() =>\n  {\n    setLoading(true);\n    var vision = await fetchSelectedVisionDB();\n    console.log(\"vision\", vision);\n    var tpcs = await fetchTopicsDB();\n    console.log(\"items\", tpcs);\n\n    var photos = await initiateImages(tpcs,vision);\n    setImages(photos);\n    //should be changed to milestones instead of years\n    //fetchYearsDB();\n    //fetchSelectedVisionDB(maxYear);\n    \n    //fetchImagesDB(photos);\n    setLoading(false);\n  }\n/*   const storeNewYearDB = async(year)=>\n  {\n    try {\n     var item = {}\n    for (let index = 0; index < topics.length; index++) {\n      item[topics[index].id] = \"\";\n//      item[topics[index].id+\"metrics\"] = null;\n      console.log(\"this topic added \", topics[index]);\n    } \n\n        console.log(\"add vision started\", item);\n\n        var yearString = year+\"\";\n        visions_ref.doc(yearString).set(item).then(()=>{\n          console.log(\"vision created:\", yearString);\n        });\n\n    }catch(err){\n        console.log(\"storeNewYearDB failed:\",err);\n      }    \n  } */\n\n////////////////View////////////////\n\n\n/*   function resetView(){\n        //reset selected topic in gallery\n        setSelectedTopic(\"\");\n//        setSelectedURL(\"\");\n    \n        // reset topic info\n//        setVisionDesc(\"\");\n//        setUploadedFile(null);\n    \n        setImages([]);\n  } */\n/*   const yearClickView=(data)=>{\n    \n      console.log(data);\n\n      var year = data.id;\n      console.log(\"year click started\");\n\n      afterYearChangeView(year);\n\n      console.log(\"year click ended\");\n\n\n  }\n  function afterYearChangeView(year){\n\n    setSelectedYear(year);\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  function afterYearAddedView(year){\n\n    setSelectedYear(year);\n    //fetchYearsDB()\n\n    setSelectedTopic(\"\");\n      \n    fetchImagesDB(year);\n    fetchSelectedVisionDB(year);\n    fetchExpectedMetricsDB(year);\n\n  }\n\n  const closeYearDialogView = () => {\n    setOpenYearDialog(false);\n  }; */\n\n  function galleryClickView(event){\n\n    setSelectedTopic(event.target.alt);\n //   setSelectedURL(event.target.src);\n\n    console.log(\"selected topic: \" + event.target.alt);\n\n\n    console.log(\"vision:\"+selectedVision);\n\n    console.log(\"vision topic desc:\"+selectedVision[event.target.alt]);\n\n    if((typeof selectedVision[event.target.alt])==='undefined')\n    {\n      console.log(\"undefined catcher\");\n//      setVisionDesc(\"\");\n    } else {\n      console.log(\"yes desc exists\");\n//      setVisionDesc(selectedVision[event.target.alt]);\n//      fetchExpectedMetrics(selectedYear);\n    }\n  \n  }\n/*   function negateChipView(){\n    if(window.confirm(\"You are deleting the vision of \" + selectedYear + \".\\n Are you sure to continue?\",))\n    {\n        deleteVisionDB(selectedYear);\n        refreshAfterYearDeletion();\n    }\n  }\n  function plusChipView()\n  {\n    setOpenYearDialog(true);\n  } */\n/*   const yearDialogTextView = (value) => {\n      setNewYear(value.getFullYear());\n       // console.log(\"yearDialogTextView  \",value);\n      console.log(\"yearDialogTextView value \" , value.getFullYear());\n  };\n  function goDialogView(){\n      if(existSuchYear(newYear))\n          alert(\"You already started envisioning this year.\");\n      else {\n        storeNewYearDB(newYear);\n        closeYearDialogView();\n        afterYearAddedView(newYear);\n        //refreshAfterYearDeletion(newYear);\n      }\n\n  } */\n/*   const sliderChangeView = (event,val) => {\n    console.log(\"event.target.value\",val);\n    afterYearChangeView(val+'');\n    \n  }; */\n\n  const  browseImage = async(event)=>{\n\n      var topic = event.target.id;\n      var file = event.target.files[0];\n\n      if(file===null) return;\n\n      if(window.confirm(\"Are you sure to change the picture?\"))\n      {\n          setLoadingPix(true);\n          var url = await storeImageDB(file,topic,currentUser.uid,maxYear);\n          await updateImageURLDB(topic,url);\n          var temp=images;\n          var index = getIndex(temp,topic)\n          temp[index].src=url;\n          setImages(temp);\n          setLoadingPix(false);\n          console.log(\"temp\",temp);\n          console.log(\"index\",index);\n          console.log(\"images\",images);\n\n      }\n\n  }\n\n  function getIndex(array,name){\n    for (let index = 0; index < array.length; index++) {\n      if(array[index].alt===name)\n      {\n        return index;\n      }\n    }\n  }\n\nconst updateImageURLDB=async(topic,url)=>{\n  try {\n          var key = topic+\"-url\";\n          console.log(\"update vision started :\", key,url);\n          user_ref.update({[key]:url},{merge:true}).then(()=>{\n                  console.log(\"image url is updated\", key, url);\n                  return true;\n              });\n\n      }catch(err){\n      console.log(err);\n      }\n} \n\n   const storeImageDB = async(file,topic,userID,year) => {\n    console.log(\"image file name: \" + file);\n    if(file){\n    const uploadTask = await storage.ref(`/images/${userID}/${year}/${topic}`).put(file);\n\n    var url = await storage.ref(`/images/${userID}/${year}`).child(topic).getDownloadURL();\n    console.log(\"url\", url);\n    return url;\n  }}\n\n  function Timeline(){\n    return(\n  \n      loading ? <CircularProgress justify=\"center\"/> \n         :\n            <StyledPaper message=\"Timeline\">\n  \n  {/*               <YearsSlider />\n  \n                <YearsChips />\n  \n                {(fixed_milestones \n                    ?   null\n                    :\n                    <>\n                        <AddYearChip />\n                        \n                        <ChooseDateDialog />\n  \n                        {\n                            selectedYear===0 \n                            ? console.log(\"negateChip not shown\") \n                            : <RemoveYearChip />\n                        }\n                    </>\n                )}\n   */}\n            </StyledPaper>\n      \n      );}\n\n  const TopicsGallery = () =>\n  (\n    <div id=\"gallery-placeholder\">\n        <GridList cellHeight={150} cols={2} autoFocus>\n            {images.map((image) => (\n            <GridListTile key={image.key} cols={1}\n                style={selectedTopic===image.alt ? {border: '2px solid #021a40', borderRadius: \"5px\"}: {}}>\n              <img src={image.src} alt={image.alt}\n              onClick={galleryClickView}\n              />\n              <GridListTileBar\n                title={image.alt.toUpperCase()}\n                titlePosition=\"bottom\"\n                actionPosition=\"right\"\n                //className={classes.titleBar}\n                className={selectedTopic===image.alt ? classes.titleBarSelected : classes.titleBar}\n                actionIcon={\n                    <div class=\"image-upload\">\n                        <label for={image.alt}>\n                          <PublishIcon className={classes.browseIcon} />\n                        </label>\n                        <input id={image.alt} type=\"file\" style={{display: \"none\"}}\n                          onChange={(e)=>browseImage(e)}/>\n                    </div>\n                }\n              />\n            </GridListTile>\n          ))}\n        </GridList>\n    </div> \n  )\n\n  const Details = () =>\n  (\n    <div id=\"details\">\n        <br/>\n{/*         <StyledPaper message={\"Visual \" + selectedTopic}>\n              <Visual year={selectedYear} topic={selectedTopic} userID={currentUser.uid}/>\n        </StyledPaper> */}\n        <StyledPaper  message={selectedTopic.toUpperCase() + \" in words\"}\n                      actionIcon={<Icon><img alt=\"\" src={(images.find(item => item.alt===selectedTopic)).src} style={{width:\"40px\",height:\"40px\", marginTop:\"10px\", border: \"0px solid white\", borderRadius:'50%'}} /></Icon>}>\n              <Textual year={selectedYear} topic={selectedTopic} user_ref={user_ref}/>\n        </StyledPaper>\n\n        <StyledPaper message={selectedTopic.toUpperCase() + \" in numbers\"}\n                      actionIcon={<Icon><img alt=\"\" src={(images.find(item => item.alt===selectedTopic)).src} style={{width:\"40px\",height:\"40px\", marginTop:\"10px\", border: \"0px solid white\", borderRadius:'50%'}} /></Icon>}>\n\n              <Quantitative year={selectedYear} topic={selectedTopic} \n                  userID={currentUser.uid} user_ref={user_ref}/>\n        </StyledPaper>\n{/*         <Timeline/>\n */}    \n      </div>    \n  )\n\nfunction pdfClick() {\n\n      history.push({\n        pathname: \"/export\",\n        state: { \"year\":maxYear,\"vision\": createVisionObject() }\n      });\n\n/*     <VisionPDF year={maxYear} vision={createVisionObject()} />\n */\n}\n\n\nconst VisionBoard = () => (\n\n    <StyledPaper message={\"Vision Board \" + maxYear}\n         actionIcon={<IconButton onClick={pdfClick} style={{border: \"2px solid white\"}}><PictureAsPdf style={{color:\"white\"}}/></IconButton>}>\n\n            {loadingPix\n                  ? <CircularProgress /> \n                  : <div>\n{/*                         <Box m={1}>\n                            <VisionPDF year={maxYear} vision={createVisionObject()} />\n                        </Box> */}\n                        <TopicsGallery />\n\n                        { selectedTopic===\"\" \n                            ? <Box p={1}>\n{/*                                   <Typography align=\"center\">Click on images</Typography> \n */}\n                                      <Alert severity=\"info\">Click on images for details.</Alert>\n                              </Box>\n                            : <Details />\n                        }\n                    </div>\n              }         \n\n    </StyledPaper>\n\n)\n\nfunction createVisionObject(){\n    var item = [];\n    for (let index = 0; index < topics.length; index++) {\n      const topic = topics[index];\n      const image = selectedVision[topic.id+\"-url\"];\n      const desc = selectedVision[topic.id];\n      item.push({topic:topic.id,image,desc});\n    }\n    console.log(\"visionObject\",item);\n    return item;\n}\n\nreturn (\n\n      <div className={classes.root}>\n            <VisionBoard />\n      </div>\n        );    \n\n}\nexport default withRouter(Vision);\n\n\n/*   function YearsSlider(){\n  return (\n    <>\n        {visions.length===0 \n            ? console.log(\"no vision yet\",visions.length ) \n            :\n            <div className={classes.sliderLimit}>\n              <br/>\n              <br/>\n              <Slider className={classes.slider}\n                value={selectedYear}\n                //getAriaValueText={valuetext}\n                aria-labelledby=\"discrete-slider\"\n                valueLabelDisplay=\"on\"\n                step={null}\n                marks={sliderYears}\n                min={minYear}\n                max={maxYear}\n                onChange={(e,v)=>sliderChangeView(e,v)} \n              />\n          </div> \n      }\n  </>\n  )} */\n\n/*   const ChooseDateDialog = () =>\n  (\n      <Dialog open={openYearDialog} onClose={closeYearDialogView} aria-labelledby=\"form-dialog-title\">\n          <DialogTitle id=\"form-dialog-title\">Year</DialogTitle>\n          <DialogContent>\n              <Calendar minDate={new Date(minYear+1,1,1)} maxDate={new Date(maxYear-1,1,1)} onClickYear={yearDialogTextView} view=\"decade\"/>\n          </DialogContent>\n          <DialogActions>\n              <Button onClick={closeYearDialogView} color=\"primary\">\n                  Cancel\n              </Button>\n              <Button onClick={goDialogView} color=\"primary\">\n                  Go\n              </Button>\n          </DialogActions>\n      </Dialog>    \n  )\n \n  const YearsChips = () =>\n  (\n      visions.map((data,index) => {\n      return (\n          <Chip\n            color = {(data.id===selectedYear ? 'primary' : 'default')}\n            id ={index}\n            label={data.id}\n            onClick={(e)=>yearClickView(data)}\n            className={classes.chip}\n          />\n      );\n    })\n  )\n\n  /* const RemoveYearChip = () => \n  (\n    <Chip\n        id ={visions.length+1}\n        label={'-'}\n        onClick={negateChipView}\n        className={classes.chip}\n        color = 'secondary'\n    />    \n  )\n */\n/*   const AddYearChip = () => \n    (<Chip\n        id ={visions.length}\n        label={'+'}\n        onClick={plusChipView}\n        className={classes.chip}\n    />);\n */\n","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Snackbar, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport { Alert } from '@material-ui/lab';\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\nconst Setting = props => {\n\nconst classes = useStyles();\n\n\nreturn (\n    <div>\n\n    <Profile classes={classes}/>\n\n    <Topics classes={classes}/>\n\n    <Metrics classes={classes}/>\n\n    <Reset classes={classes}/>\n\n    </div>\n);\n}\n\nexport default withRouter(Setting);\n\n\nfunction Reset(props){\n\n    const {classes} = props;\n    const {currentUser} = useContext(AuthContext);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n\n    const removeAllVisions=async()=>{\n        try {\n              console.log(\"reset started\");\n              var visions_ref= user_ref.collection(\"visions\");\n              console.log(visions_ref);\n              if(visions_ref===undefined){\n                  console.log(\"no visions collection\");\n                  return;\n              }else{\n                        const data=await visions_ref.get();\n                        console.log(data);\n                        data.docs.forEach(item=>{\n                            console.log(item);\n                            visions_ref.doc(item.id).delete().then(()=>{\n                                console.log(item.id +\"successfully deleted!\")\n                            });\n                        });\n            }\n        }catch(err){\n              console.log(err);\n            }\n    } \n\n\n    function handleReset(){\n        console.log(\"reset started\");\n        removeAllVisions();        \n    }\n\n\n    return (\n\n        <Paper  id=\"metrics\" className={classes.paper}>\n            <AppBar p={1} position=\"static\" className={classes.header}>   \n                <Typography p={1} >Reset </Typography>                  \n            </AppBar>\n            <Box p={2} display=\"flex\" justifyContent=\"center\">\n                <Button  color=\"primary\" variant=\"contained\"\n                        onClick={handleReset}>\n                        Clear My Visions\n                </Button>\n            </Box>\n\n        </Paper> \n         \n    );\n\n\n}\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name', width: 150 },\n        { field: 'topic', headerName: 'Force', width: 90 },\n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"\");\n    const [unitName,setUnitName]=useState(\"\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n    function okAddMetricDialogView(){\n        console.log(selectedTopic);\n        try{\n            metric_ref.doc(metricName).set(\n              {\"topic\":selectedTopic,\"unit\":unitName,\"value\":0}\n              ,{ merge: true }); \n            console.log(\"metric added to vision\"); \n            setOpenMetricDialog(false);\n            fetchMetricNamesDB();\n            setMetricName(\"\");\n            setUnitName(\"\");\n      }catch(err){\n        console.log(\"errrror: metric not added to vision\");     \n        console.log(err);\n      }\n    }\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <Paper  id=\"metrics\" className={classes.paper}>\n        <AppBar p={1} position=\"static\" className={classes.header}>   \n            <Typography p={1} >Metrics </Typography>                  \n        </AppBar>\n\n        <Grid container xs={12} justify=\"center\" spacing={1}>\n\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth onClick={handleAdd}>\n                    <Add />\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled>\n                    <Edit/>\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                    <Delete/>\n                </Button>\n            </Grid>\n        </Grid>\n\n        <div style={{ height: 400, width: '100%' }}>\n            <DataGrid rows={metricDefinitions} columns={metricProperties} pageSize={5} checkboxSelection={false} onRowClick={handleRowClick}/>\n        </div>    \n    \n        </Paper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n        <DialogTitle>Metric</DialogTitle>\n        <DialogContent>\n          <form >\n            <FormControl>\n              <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n              <Select\n                native\n                onChange={selectedTopicChangeView}\n              >\n                <option aria-label=\"None\" value=\"\" />                                \n                {\n                    topics.map((item,index)=>\n                <option id={index} value={item.id}>{item.id}</option>)\n                }\n              </Select>\n              <TextField defaultValue={metricName} onChange={metricNameChangeView} />\n              <TextField defaultValue={unitName} onChange={unitNameChangeView} />\n            </FormControl>\n          </form>\n        </DialogContent>\n        <DialogActions>\n          <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n            Cancel\n          </Button>\n          <Button onClick={okAddMetricDialogView} color=\"primary\">\n            Add\n          </Button>\n        </DialogActions>\n      </Dialog>\n      </>    \n    );\n\n\n}\n\nfunction Topics(props){\n    const {classes} = props;\n    const { currentUser } = useContext(AuthContext);\n    const [topics,setTopics]=useState([]);\n\n    \n    useEffect(() => {\n        fetchTopicsDB();\n    }, []);\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n      return (\n        <div>\n    <Paper  id=\"metrics\" className={classes.paper}>\n    <AppBar p={1} position=\"static\" className={classes.header}>   \n        <Typography p={1} >Life Forces</Typography>                  \n    </AppBar>\n\n        <List dense className={classes.root}>\n        {topics.map((topic,index) => {\n            const labelId = `checkbox-list-secondary-label-${index}`;\n            return (\n            <ListItem key={topic.id}>\n                <ListItemAvatar>\n                <Avatar\n                    alt={topic.id}\n                    src={topic.placeholder}\n                />\n                </ListItemAvatar>\n                <ListItemText id={topic.id} primary={topic.id} />\n                <ListItemSecondaryAction>\n                <Checkbox\n                    edge=\"end\"\n                    //onChange={handleToggle(value)}\n                    //checked={checked.indexOf(value) !== -1}\n                    //inputProps={{ 'aria-labelledby': labelId }}\n                />\n                </ListItemSecondaryAction>\n            </ListItem>\n            );\n        })}\n        </List>\n\n        </Paper>\n        </div>\n      )\n          \n\n}\n\nfunction Profile(props){\n    const {classes} = props;\n\n    const { currentUser } = useContext(AuthContext);\n    const [profileName,setProfileName]=useState();\n    const [birthYear,setBirthYear]=useState();\n\n    const [openUpdateSuccessSnack, setOpenUpdateSuccessSnack] = useState(false);\n\n    const user_ref=firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n\n    function handleClose(){\n        setOpenUpdateSuccessSnack(false);\n    }\n\n    useEffect(() => {\n        fetchProfileDB();\n    }, []);\n  \n\n    const updateProfileDB=async()=>{\n        try {\n                console.log(\"update profile started\");\n                user_ref.update(\n                    {\"name\":profileName,\"birthYear\":birthYear}).then(()=>{\n            //            changeInTopic();\n                        console.log(\"profile is updated\", profileName);\n                        setOpenUpdateSuccessSnack(true);\n                    });\n    \n            }catch(err){\n                console.log(err);\n            }\n    } \n\n    const fetchProfileDB=async()=>{\n    try {\n            console.log(\"fetch profile started\", user_ref);\n        \n            user_ref.get().then((doc)=>{\n                if(doc.exists){\n                    setProfileName(doc.data().name);\n                    setBirthYear(doc.data().birthYear);\n                    console.log(doc.data().name);         \n                    console.log(doc.data().birthYear);\n                }else{\n                    console.log(\"such user doesnot exist\", doc.data());\n                }         \n\n            });\n        }\n        catch(err){\n            console.log(err);\n        }\n    }\n  \n    return(\n        <>\n\n            <Paper  id=\"profile\" className={classes.paper}>\n                <AppBar p={1} position=\"static\" className={classes.header}>   \n                    <Typography p={1} >Profile </Typography>                  \n                </AppBar>\n\n\n                <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n                    <Grid item xs={1}>\n                            <Box/>\n                    </Grid>\n                    <Grid item xs={4}>\n                            <Typography>Username:</Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <TextField variant=\"outlined\" margin=\"normal\" required fullWidth\n                            value={profileName} onChange={(e)=>setProfileName(e.target.value)} autoFocus/>\n                    </Grid>\n                    <Grid item xs={1}>\n                            <Box/>\n                    </Grid>\n                </Grid>\n                <Grid container item xs={12} alignItems=\"center\" spacing={1}>\n                    <Grid item xs={1}>\n                            <Box/>\n                    </Grid>\n                    <Grid item xs={4}>\n                            <Typography>Year of Birth:</Typography>\n                    </Grid>\n                    <Grid item xs={6}>\n                        <TextField variant=\"outlined\" margin=\"normal\" fullWidth\n                            value={birthYear} onChange={(e)=>setBirthYear(e.target.value)}/>\n                    </Grid>\n                    <Grid item xs={1}>\n                            <Box/>\n                    </Grid>\n                </Grid>            \n                <Grid container xs={12} justify=\"center\" >\n                        <Grid item xs={3} className={classes.content}>\n                            <Button variant=\"contained\" fullWidth\n                                color=\"primary\" onClick={updateProfileDB}>\n                                    Save\n                            </Button>\n                        </Grid>\n                </Grid>\n\n\n            </Paper>\n\n            <Snackbar open={openUpdateSuccessSnack} autoHideDuration={6000} onClose={handleClose}>\n                <Alert onClose={handleClose} severity=\"success\">\n                    Your profile is updated.\n                </Alert>\n            </Snackbar>\n\n        </>\n      )\n}","import React, {useContext, useEffect, useState} from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter} from 'react-router-dom';\nimport Dream from './Dream';\nimport Plan from './Plan';\nimport Rate from './Rate';\nimport Act from './Act';\nimport Health from './Health';\nimport Money from './Money';\nimport Career from './Career';\nimport Typography from '@material-ui/core/Typography';\nimport { AuthContext } from \"./Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport LifeAccordionTab from './LifeAccordionTab';\nimport Setting from './Setting';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport ManageVision from './ManageVision';\nimport ContentYoutube from './ContentYoutube';\nimport VisionBoard from './VisionBoard';\nimport Vision from './Vision';\nimport { Box, Button, CircularProgress, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport firebase from '../firebase';\nimport VisionPDF from './VisionPDF';\n\nconst Welcome = props =>\n{\n  const {history,maxYear} =props;\n  const { currentUser } = useContext(AuthContext);\n  //const [maxYear,setMaxYear]=useState(0);\n  const [loading,setLoading]=useState(false);\n  const [view,setView]=useState(\"welcome\");\n\n\n/* \n  useEffect(() => {\n    fetchVisionMaxYear();\n  }, []);\n\n  const fetchVisionMaxYear=async()=>{\n    try {\n\n          setLoading(true);\n          const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n\n          const doc = await user_ref.get();\n          const max = await doc.data().maxYear;\n\n          console.log(max,doc.data());\n          setMaxYear(await doc.data().maxYear);\n          setLoading(false);\n\n        }catch(err){\n          console.log(err);\n          setLoading(false);\n        }\n  }  */\n\n  function startClick(){\n    if(maxYear===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", maxYear );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": maxYear }\n            });\n      }\n}\n\nfunction exportPdf(){\n    setView(\"pdf\");\n}\n\n  return(\n\n\n    <Box p={2}>\n        <img src={maxYear===0 ? \"start-vision-600.jpg\" : \"xsmap.jpg\"}  alt='Map' style={{height:'auto',width:'100%', borderRadius:'50%'}}/>\n        <Box p={2}>\n          {loading===true \n          ?     <CircularProgress />\n          :\n          <>\n              <Box  p={1} display=\"flex\" justifyContent=\"center\">\n                  <Button variant=\"contained\" \n                      style={{background : orange[600], color : \"white\"}}\n                      onClick={startClick}>\n                      {maxYear===0 ? \"Start New Vision\" : \"Open Existing Vision\"}\n                  </Button>\n              </Box>                  \n          </>\n          }\n        </Box>\n    </Box>\n\n  )\n\n}\n\nexport default withRouter(Welcome);\n","import React, {useContext, useEffect, useState} from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter} from 'react-router-dom';\nimport Dream from './Dream';\nimport Plan from './Plan';\nimport Rate from './Rate';\nimport Act from './Act';\nimport Health from './Health';\nimport Money from './Money';\nimport Career from './Career';\nimport Typography from '@material-ui/core/Typography';\nimport firebase from '../firebase';\nimport { AuthContext } from \"./Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport LifeAccordionTab from './LifeAccordionTab';\nimport Setting from './Setting';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport ManageVision from './ManageVision';\nimport ContentYoutube from './ContentYoutube';\nimport VisionBoard from './VisionBoard';\nimport Vision from './Vision';\nimport { Box, Button, FormControl, FormControlLabel, Radio, RadioGroup } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport StyledPaper from './StyledPaper';\nimport YoutubeEmbed from './YoutubeEmbed';\n\nfunction Initialize(props)\n{\n\n  const {history,} =props;\n  \n  const [showHelp,setShowHelp]=useState(false);\n  const [period,setPeriod]=useState(\"5\");\n  const { currentUser } = useContext(AuthContext);\n  const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n  const [topics,setTopics]=useState([]);\n\n  useEffect(()=>{\n    fetchTopicsDB();\n    return () => {\n      if (history.action === \"POP\") {\n          // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n              console.log(\"------ profile ------- after -----\");\n              console.log(\"------ location -----\",history.location.pathname);\n              window.location.replace(\"/\");\n          }\n     }\n  },[]);\n\n  const fetchTopicsDB=async()=>{\n    try {\n          console.log(\"fetch topics started\");\n          const topics_ref=firebase.firestore().collection(\"Topics\");\n          const data=await topics_ref.get();\n\n          const items = [];\n          data.docs.forEach(item=>{\n              items.push({id:item.id,...item.data()});\n            });\n            setTopics(items);\n        }catch(err){\n          console.log(err);\n        }\n  } \n\n  const storeNewYearDB = async(year)=>\n  {\n    try {\n     var item = {}\n\n    for (let index = 0; index < topics.length; index++) {\n        item[topics[index].id] = \"I would like to...\";\n        item[topics[index].id+\"-url\"] = topics[index].placeholder;\n        console.log(\"this topic added \", topics[index]);\n    } \n\n    item[\"maxYear\"] = year;\n\n    console.log(\"adding vision started\", item);\n\n    user_ref.set(item,{ merge: true }).then(()=>{\n        console.log(\"vision successfully stored\");\n        return true;\n    });\n\n/*         visions_ref.doc(year).set(item).then(()=>{\n            console.log(\"vision successfully stored\");\n            return true;\n        }); */\n\n    }catch(err){\n        console.log(err);\n      } \n      return false;   \n  }\n\n/*   const storeNewYearDB = async(year)=>\n  {\n    try {\n\n        console.log(\"add vision started\", year);\n\n        visions_ref.doc(year).set({\"year\":year}).then((item)=>{\n            console.log(\"max year created: \" , item.id);\n            return true;\n        });\n    }catch(err){\n        console.log(err);\n      }\n      return false;\n  }    \n */\n  \n function handleRadioChange(event,value){\n      console.log(value);\n      setPeriod(value);\n  }\n  function goClick(){\n    var max = (new Date().getFullYear()) + Number.parseInt(period);\n    console.log(\"max\" , max);\n    if(storeNewYearDB(max))\n        history.push({\n          pathname: \"/vision\",\n          state: { \"maxYear\": max }\n        });\n    else\n        console.log(\"vision is not created\");\n  }\n\n  return(\n    <>\n    <Typography>{showHelp}</Typography>\n      { \n            (showHelp===false\n              ?   <StyledPaper message=\"Introduction\">\n                      <YoutubeEmbed embedId=\"TUHmyEp4-7A\"/>\n                      <Button variant=\"contained\" fullWidth\n                                color=\"primary\" onClick={setShowHelp(true)}>\n                                    Save\n                      </Button>\n                  </StyledPaper>\n              :   <StyledPaper message=\"Choose your desired period\">\n                      <FormControl component=\"fieldset\">\n                          <RadioGroup aria-label=\"period\" name=\"period1\" value={period} onChange={handleRadioChange}>\n                              <FormControlLabel value=\"1\" control={<Radio/>} label=\"One Year Vision\" />\n                              <FormControlLabel value=\"5\" control={<Radio/>} label=\"Five Year Vision\" />\n                              <FormControlLabel value=\"10\" control={<Radio/>} label=\"10 Year Vision\" />\n                          </RadioGroup>\n                          <Button variant=\"contained\" //className={classes.goButton}\n                              onClick={goClick}>Go!\n                          </Button>\n                      </FormControl>\n                  </StyledPaper>\n          )\n      }\n      </>\n  )\n}\n\nexport default withRouter(Initialize);","import 'react-calendar/dist/Calendar.css';\nimport React, { useEffect, useState } from 'react';\nimport YoutubeEmbed from './YoutubeEmbed';\nimport firebase,{storage} from '../firebase';\nimport { Box, Button, Card, CardActionArea, CardActions, CardContent, CardMedia, Grid, Typography } from '@material-ui/core';\nimport StyledPaper from './StyledPaper';\nimport { withRouter } from 'react-router-dom';\n\nconst HelpVisionBoard = props =>\n{\n    const {history,} =props;\n\n    useEffect(() => {\n        \n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ profile ------- after -----\");\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n           }\n      }); \n\n    function nextClick(){\n        history.push(\"/initialize\")\n    }\n\n    return(\n\n        <StyledPaper message=\"Introduction\">\n            <YoutubeEmbed embedId=\"yNOpBc72DKM\"/>\n            <Button variant=\"contained\"\n                    color=\"primary\" onClick={nextClick}>\n                Next\n            </Button>\n        </StyledPaper>\n        )\n}\nexport default withRouter(HelpVisionBoard);","import React, { useContext } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport { AuthContext } from \"./Auth\";\n\nconst PrivateRoute = ({ component: RouteComponent, ...rest }) => {\n  const {currentUser} = useContext(AuthContext);\n\n  console.log(\"PrivateRoute component \");\n  console.log(\"currentuser is:\" + currentUser);\n\n  if (!currentUser) {\n    console.log(\"no user therefor redirect to signin\");\n    return <Redirect to=\"/signin\" />;\n  } \n\n  return (\n    <Route\n      {...rest}\n      render={routeProps =>\n        !!currentUser ? (\n          <RouteComponent {...routeProps} />\n        ) : (\n          <Redirect to={\"/signin\"} />\n        )\n      }\n    />\n  );\n};\n\n\nexport default PrivateRoute","import 'react-calendar/dist/Calendar.css';\nimport React, { useEffect, useState } from 'react';\nimport YoutubeEmbed from './YoutubeEmbed';\nimport firebase,{storage} from '../firebase';\nimport { Box, Button, Typography } from '@material-ui/core';\nimport StyledPaper from './StyledPaper';\nimport { useHistory } from 'react-router-dom';\n\n\nexport default function Content() {\n\nconst [loading,setLoading]=useState(false);\nconst [contents,setContents]=useState([]);\nconst db = firebase.firestore().collection(\"Content\");\n\nconst history = useHistory();\n\n\n    useEffect(() => {\n        fetchContents();\n\n        \n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ profile ------- after -----\");\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n           }\n      },[]); \n      \n       const fetchContents=async()=>{\n          setLoading(true);\n          try {\n                console.log(\"fetch content started\");\n                const data=await db.get();\n      //          console.log(data);\n      \n                const items = [];\n                data.docs.forEach(item=>{\n                    items.push({id:item.id,...item.data()});\n                  });\n                  setContents(items);\n                  setLoading(false);\n      //          console.log(item);\n              }catch(err){\n                console.log(err);\n              }\n        } \n      \n\n\n    console.log(\"content\");\n\n    return(\n\n        <div>\n\n            {loading ? <h2>Loading...</h2> :\n    \n            contents.map((content,index)=>(\n                <div>\n\n                        <StyledPaper message={content.Title}>\n                            <YoutubeEmbed embedId={content.YoutubeID}/>\n                            <Button color=\"primary\" >\n                                More\n                            </Button>\n                        </StyledPaper>\n                </div>\n                ))\n            }\n        </div>\n        )\n}","import React, { useContext, useEffect, useState } from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { AppBar, Avatar, Box, Button, Checkbox, Dialog, DialogActions, DialogContent, DialogTitle, Fab, FormControl, Grid, IconButton, InputLabel, List, ListItem, ListItemAvatar, ListItemSecondaryAction, ListItemText, Paper, Select, Snackbar, Tab, Tabs, TextField, Toolbar, Tooltip, Typography } from '@material-ui/core';\nimport { Add, Delete, Edit, Photo } from '@material-ui/icons';\nimport firebase from '../firebase';\nimport { useHistory, withRouter } from 'react-router-dom';\nimport { AuthContext } from './Auth';\nimport { DataGrid, GridAddIcon, GridFilterListIcon, GRID_ROW_SELECTED } from '@material-ui/data-grid';\nimport { Alert } from '@material-ui/lab';\nimport StyledPaper from './StyledPaper';\nimport { storage } from \"../firebase\";\n\n\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      width: '100%',\n    },\n    appBar: {\n      position: 'relative',\n    },\n    yearField: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    yearLabel: {\n      left: theme.spacing(2),\n      top: theme.spacing(2),\n      position: 'relative',\n    },\n    addButton: {\n      bottom: theme.spacing(2),\n      right: theme.spacing(0),\n      position: 'absolute',\n    },\n    chip: {\n      margin: theme.spacing(0.5),\n    },\n    paper: {\n      margin: theme.spacing(1),\n      justify : \"center\",\n    },\n    sliderLimit: {\n      margin: theme.spacing(2),\n      top: theme.spacing(4),\n    },\n    sliderLabel: {\n      left: theme.spacing(5),\n    },\n    save: {\n      justify: 'center'\n    },\n    header:{\n        alignItems: 'center',\n        background : '#ff8a65'\n    },\n    headerDetails:{\n      alignItems: 'center',\n      background : '#ff7043'\n    },\n    titleBar: {\n      background:\n        'linear-gradient(to top, rgba(0,0,0,0.7) 0%, ' +\n        'rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',\n    },\n    content:{\n        alignItems: 'center',\n        margin: theme.spacing(1),\n    },\n  \n  }));\n\n\n    const AdminDashboard = props => {\n\n\n    const history = useHistory();\n    const classes = useStyles();\n\n    useEffect(() => {\n\n        console.log(\"------ action -------\", history.action);\n\n        return () => {\n            if (history.action === \"POP\") {\n                // Code here will run when back button fires. Note that it's after the `return` for useEffect's callback; code before the return will fire after the page mounts, code after when it is about to unmount.\n                    console.log(\"------ location -----\",history.location.pathname);\n                    window.location.replace(\"/\");\n                }\n        }\n    },[])\n\n    return (\n\n        <Metrics classes={classes}/>\n    \n    );\n}\n\n\nfunction Metrics(props){\n\n    const {classes} = props;\n\n    const [file,setFile]=useState(null);\n    const metric_ref = firebase.firestore().collection(\"Metrics\");\n\n    const [metricProperties,setMetricProperties] = useState([\n        { field: 'id', headerName: 'Name', width: 150 },\n        { field: 'topic', headerName: 'Force', width: 90 },\n    ]);\n    const [metricDefinitions,setMetricDefinitions] = useState([]);\n    const [disableEditBut, setDisableEditBut] = useState(true);\n\n    const [openMetricDialog,setOpenMetricDialog]=useState(false);\n    function cancelAddMetricDialogView()\n    {\n        setOpenMetricDialog(false);\n    }\n    function handleAdd()\n    {\n        setOpenMetricDialog(true);\n    }\n    const [topics,setTopics] = useState([]);\n    const [metricName,setMetricName]=useState(\"name...\");\n    const [unitName,setUnitName]=useState(\"unit...\");\n\n    function metricNameChangeView(event){\n        setMetricName(event.target.value);\n    }\n    function unitNameChangeView(event){\n        setUnitName(event.target.value);\n    }    \n\n    const [selectedTopic,setSelectedTopic]=useState(0);\n    const [selectedGridMetric,setSelectedGridMetric]=useState(0);\n\n    \n    function selectedTopicChangeView(event){\n        setSelectedTopic(event.target.value);\n    }\n\n    const okAddMetricDialogView = async()=>{\n\n        console.log(selectedTopic);\n        \n        try{\n\n            var url=\"\";\n            if(file!==null)\n            {\n                url = await storeImageMetricDB(file,metricName);\n            }\n            await metric_ref.doc(metricName)\n                .set({\"topic\":selectedTopic,\"unit\":unitName,\"value\":0, \"url\":url},{ merge: true })\n                .then(()=>\n                {\n                    console.log(\"metric added to vision\"); \n                    setOpenMetricDialog(false);\n                    fetchMetricNamesDB();\n                    setMetricName(\"\");\n                    setUnitName(\"\");\n                    setFile(null);\n                });\n      }catch(err){\n        console.log(\"errrror: metric not added\");     \n        console.log(err);\n      }\n    }\n\n    const storeImageMetricDB = async(file,metric) => {\n        console.log(\"image file name: \" + file);\n        if(file){\n        const uploadTask = await storage.ref(`/images/metrics/${metric}`).put(file);\n    \n        var url = await storage.ref(`/images/metrics/`).child(metric).getDownloadURL();\n        console.log(\"url\", url);\n        return url;\n    }}    \n\n    function removeMetric(){\n        metric_ref.doc(selectedGridMetric).delete().then(() => {\n            console.log(selectedGridMetric,\" successfully deleted!\");\n            fetchMetricNamesDB();\n            \n        }).catch((error) => {\n                console.error(\"Error removing document: \", error);\n        });\n    }\n\n\n    const fetchTopicsDB=async()=>{\n        try {\n              console.log(\"fetch topics started\");\n              const topics_ref=firebase.firestore().collection(\"Topics\");\n              const data=await topics_ref.get();\n    \n              const items = [];\n              data.docs.forEach(item=>{\n                  items.push({id:item.id,...item.data()});\n                });\n                setTopics(items);\n    //          console.log(item);\n            }catch(err){\n              console.log(err);\n            }\n      } \n\n\n    useEffect(() => {\n        fetchMetricNamesDB();\n        fetchTopicsDB();\n    }, []);\n\n\n    const fetchMetricNamesDB=async()=>{\n    try {\n        console.log(\"fetch topics started\");\n        const data=await metric_ref.get();\n\n        const items = [];\n        data.docs.forEach(item=>{\n            items.push({id:item.id,...item.data()});\n            });\n            setMetricDefinitions(items);\n            console.log(\"Metric Defs\",items);\n        }catch(err){\n        console.log(err);\n        }\n    } \n\n    function handleRowClick(element){\n        console.log(element.id);\n\n        if(element.rowIndex>=0){\n            setDisableEditBut(false);\n            setSelectedGridMetric(element.id);\n        }\n    }\n\n\n    return (\n        <>\n        <StyledPaper message=\"Metrics\">\n\n        <Grid container xs={12} justify=\"center\" spacing={1}>\n\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth onClick={handleAdd}>\n                    <Add />\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled>\n                    <Edit/>\n                </Button>\n            </Grid>\n            <Grid item xs={2} className={classes.content}>\n                <Button  color=\"primary\" variant=\"contained\"\n                    fullWidth disabled={disableEditBut} onClick={removeMetric}>\n                    <Delete/>\n                </Button>\n            </Grid>\n        </Grid>\n\n        <div style={{ height: 400, width: '100%' }}>\n            <DataGrid rows={metricDefinitions} columns={metricProperties} pageSize={5} checkboxSelection={false} onRowClick={handleRowClick}/>\n        </div>    \n    \n        </StyledPaper> \n        \n        <Dialog disableBackdropClick disableEscapeKeyDown\n         open={openMetricDialog} onClose={cancelAddMetricDialogView}>\n            <DialogTitle>Metric</DialogTitle>\n            <DialogContent>\n            <form >\n                <FormControl>\n                    <InputLabel htmlFor=\"demo-dialog-native\">Related Topic</InputLabel>\n                    <Select\n                        native variant=\"standard\"\n                        onChange={selectedTopicChangeView}>\n                        <option aria-label=\"None\" value=\"\" />                                \n                        {\n                            topics.map((item,index)=>\n                        <option  value={item.id}>{item.id}</option>)\n                        }\n                    </Select>\n                    <Box  m={1}>\n                        <TextField value={metricName} variant=\"outlined\" onChange={metricNameChangeView}/>\n                    </Box>\n                    <Box  m={1}>\n                        <TextField value={unitName} variant=\"outlined\"  onChange={unitNameChangeView}/>\n                    </Box>\n                    <div justify=\"center\">\n                        <input type=\"file\" onChange={(e)=>setFile(e.target.files[0])} />\n                        <img src={file===null \n                            ? \"https://via.placeholder.com/400x300\" \n                            : URL.createObjectURL(file)}\n                            alt=\"Uploaded Image\"\n                            height=\"50\"\n                            width=\"50\"/>\n                    </div>\n\n                </FormControl>\n            </form>\n            </DialogContent>\n            <DialogActions>\n            <Button onClick={cancelAddMetricDialogView} color=\"primary\">\n                Cancel\n            </Button>\n            <Button onClick={okAddMetricDialogView} color=\"primary\">\n                Add\n            </Button>\n            </DialogActions>\n        </Dialog>\n      </>    \n    );\n\n\n}\n\nexport default withRouter(AdminDashboard)","import React, {useContext, useEffect, useState} from 'react';\nimport Header from './Header';\nimport Footer from './Footer';\nimport {  BrowserRouter as Router,  Route,  Link,  Switch,  Redirect, withRouter, useHistory} from 'react-router-dom';\nimport Dream from './Dream';\nimport Plan from './Plan';\nimport Rate from './Rate';\nimport Act from './Act';\nimport Health from './Health';\nimport Money from './Money';\nimport Career from './Career';\nimport Typography from '@material-ui/core/Typography';\nimport firebase from '../firebase';\nimport { AuthContext } from \"../Components/Auth.js\";\nimport MyCalendar from './MyCalendar';\nimport LifeAccordionTab from './LifeAccordionTab';\nimport Profile from './Profile';\nimport HeaderSideMenu from './HeaderSideMenu';\nimport ManageVision from './ManageVision';\nimport ContentYoutube from './ContentYoutube';\nimport VisionBoard from './VisionBoard';\nimport Vision from './Vision';\nimport { Box, Button, CircularProgress, Container } from '@material-ui/core';\nimport { orange } from '@material-ui/core/colors';\nimport Welcome from './Welcome.js';\nimport Initialize from './Initialize';\nimport HelpVisionBoard from './HelpVisionBoard';\nimport PrivateRoute from './PrivateRoute';\nimport Content from './Content';\nimport VisionPDF from './VisionPDF';\nimport AdminDashboard from './AdminDashboard';\n\nfunction Home(props) {\n    \n  const { currentUser } = useContext(AuthContext);\n\n  const [loading,setLoading] = useState(false);\n  const [name,setName] = useState(\"\");\n  const [role,setRole] = useState(\"user\");\n  const [maxYear,setMaxYear]=useState(0);\n\n\n/*   if (!currentUser) {\n    console.log(\"no user therefor redirect to signin\");\n    return <Redirect to=\"/signin\" />;\n  }  */\n  useEffect(() => {\n    fetchUserInfo();\n}, []);\n\n  function handleSignOut(){\n\n      firebase.auth().signOut().then(() => {\n        console.log(\"user is out\", \"Success\");\n        window.location = \"./signin\";\n      })\n      .catch((err) => {\n        console.error(err);\n      });\n\n  }\n\n\n  const fetchUserInfo=async()=>{\n    try {\n\n            setLoading(true);\n            const user_ref = firebase.firestore().collection(\"Users\").doc(currentUser.uid); \n            const doc = await user_ref.get();\n            console.log(doc);\n\n            if(!doc) \n            {\n              console.log(\"new user\");\n              setName(\"Anonym\");\n              setRole(\"user\");\n              setMaxYear(0);\n              setLoading(false);\n\n            }\n            else\n            {\n                console.log(doc);\n                setName(await doc.data().name);\n                setRole(await doc.data().role);\n                setMaxYear(await doc.data().maxYear);\n                console.log(\"user name \", doc.data().name);\n                console.log(\"user role\", doc.data().role);\n                console.log(\"year\", doc.data().maxYear);\n                setLoading(false);\n            }\n        }catch(err){\n            console.log(err);\n            setLoading(false);\n\n        }\n  } \n\n \n  return (\n\n    <Container component=\"main\" maxWidth=\"xs\">\n\n          loading ? <CircularProgress />\n          :\n          <div>    \n              <Router>\n                  <HeaderSideMenu role={role} user={currentUser} year={maxYear}/>\n                  <Switch>\n      {/*             <Route exact path=\"/mycalendar\"><MyCalendar /></Route>\n                      <Route  path=\"/\"><Einstein /></Route>\n                      <Route exact path=\"/dream\"><Dream /></Route> */}\n                      <PrivateRoute exact path=\"/profile\"><Profile /></PrivateRoute>\n                      <PrivateRoute exact path=\"/admin\"><AdminDashboard /></PrivateRoute>\n                      <PrivateRoute exact path=\"/content\"><Content/></PrivateRoute>\n                      <PrivateRoute exact path=\"/vision\"><Vision /></PrivateRoute>\n                      <PrivateRoute exact path=\"/export\"><VisionPDF /></PrivateRoute>\n                      <PrivateRoute exact path=\"/\"><Welcome maxYear={maxYear}/></PrivateRoute>\n                      <PrivateRoute exact path=\"/initialize\"><Initialize /></PrivateRoute>\n                      <PrivateRoute exact path=\"/help\"><HelpVisionBoard /></PrivateRoute>\n                  </Switch>\n              </Router>\n\n          </div>\n\n    </Container>\n\n\n  );\n\n}\n\nconst Start = props =>\n{\n  const {history,maxYear} =props;\n\n\n  function startClick(){\n    if(maxYear===0)\n        history.push({\n          //pathname: \"/initialize\",\n          pathname: \"/help\",\n        });\n    else{\n            console.log(\"maxYear: \", maxYear );\n            history.push({\n              pathname: \"/vision\",\n              state: { \"maxYear\": maxYear }\n            });\n      }\n}\n\n  return(\n\n    /* style={{background : orange[300]}} */\n    <Box p={2}>\n        <img src=\"xsmap.jpg\" alt='Map' style={{height:'auto',width:'100%', borderRadius:'50%'}}/>\n        <Box p={2} display=\"flex\" justifyContent=\"center\">\n            <Button variant=\"contained\" style={{background : orange[600], color : \"white\"}} onClick={startClick}>\n                  {maxYear===0 ? \"Start New Vision\" : \"Open Existing Vision\"}\n            </Button>   \n        </Box>\n    </Box>\n  )\n\n}\n\n\nfunction Einstein()\n{\n\n  return(\n    <div>\n        <img src=\"einstein.gif\" alt='Nature' style={{height:'auto',width:'100%'}}/>\n        <Typography align='center' variant=\"body1\">\n        <p></p>\n          <i >\"Life is like riding a bike, move to keep your balance.\" ~ Einstein</i>\n        </Typography>\n    </div>\n  )\n\n}\nexport default withRouter(Home);","import React from 'react';\nimport {  BrowserRouter as Router,  Route,  Switch} from 'react-router-dom';\nimport SignIn from './templates/SignIn';\nimport SignUp from './templates/SignUp';\nimport ForgotPassword from './templates/ForgotPassword';\nimport Home from './Components/Home';\nimport PrivateRoute from './Components/PrivateRoute';\nimport Container from '@material-ui/core/Container';\nimport { AuthProvider } from './Components/Auth';\n\n\n\nexport default function App() {\n  \n  document.title = \"Personal Map of Life\";\n  console.log(\"App component started...\");\n\n  return (\n    <Container component=\"main\"  style={{padding:0}}>\n\n    <div>\n      <AuthProvider>\n        <Router>    \n            <Switch>\n                <PrivateRoute exact path=\"/\"><Home /></PrivateRoute>    \n                <Route exact path=\"/signin\"><SignIn /></Route>\n                <Route exact path=\"/signup\"><SignUp /></Route>\n                <Route exact path=\"/forgotpassword\"><ForgotPassword /></Route>\n\n            </Switch>\n        </Router>\n      </AuthProvider>  \n \n    </div>\n    </Container>\n  );\n}","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}