(this.webpackJsonpvitacoach=this.webpackJsonpvitacoach||[]).push([[0],{1010:function(e,t,n){},1011:function(e,t,n){"use strict";n.r(t);var c=n(2),a=n(0),r=n.n(a),o=n(25),i=n.n(o),s=n(33),l=n(36),u=n(14),d=n.n(u),j=n(16),b=n(1094),p=n(137),h=n(1061),f=n(377),O=n(1073),g=n(1068),x=n(356),m=n(112),v=n.n(m),y=n(136),w=n(72),k=n(1060),C=n(11),S=n(250);n(1012),n(606),n(1013);S.a.initializeApp({apiKey:"AIzaSyBnHIZLpMJXQxtHh0433SCNVLXASaYZjwo",authDomain:"vitacoach.firebaseapp.com",projectId:"vitacoach",storageBucket:"vitacoach.appspot.com",messagingSenderId:"349656251768",appId:"1:349656251768:web:a8b237c8295870d3cd5c8d",measurementId:"G-XEBDPBZK7Q"});var N=S.a.storage(),E=n(1015),I=r.a.createContext(),B=function(e){var t=e.children,n=Object(a.useState)(null),r=Object(C.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)(!0),l=Object(C.a)(s,2),u=l[0],d=l[1];return console.log("AuthProvider component started..."),Object(a.useEffect)((function(){S.a.auth().onAuthStateChanged((function(e){console.log("user is = "+e),e?(i(e),console.log("user is in")):console.log("no user"),d(!1)}))}),[]),u?Object(c.jsx)(x.a,{p:10,width:"100%",justifyContent:"center",children:Object(c.jsx)(E.a,{})}):Object(c.jsx)(I.Provider,{value:{currentUser:o},children:t})},D=n(165),L=n(45),U=L.AppBar,W=L.Typography,F=L.Paper,T=L.Box,P=L.makeStyles,V=L.Toolbar,M=P((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},plainHeader:{left:e.spacing(3),background:"#ff8a65"},centeredHeader:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},goButton:{background:D.a[800],color:"white"},searchIcon:{position:"absolute",right:e.spacing(2),color:"white"}}}));function R(e){var t=M(),n=e.children,a=e.message,r=e.actionIcon;return Object(c.jsxs)(F,{className:t.paper,children:[r?Object(c.jsx)(U,{p:1,position:"static",className:r?t.plainHeader:t.centeredHeader,children:Object(c.jsxs)(V,{children:[Object(c.jsx)(W,{p:1,children:a}),Object(c.jsx)("div",{className:t.searchIcon,children:r})]})}):Object(c.jsx)(U,{p:1,position:"static",className:t.centeredHeader,children:Object(c.jsx)(W,{p:1,children:a})}),Object(c.jsx)(T,{p:2,display:"flex",flexDirection:"column",justifyItems:"center",justifyContent:"center",children:n})]})}var Y=n(564),A=n.n(Y);function z(){return Object(c.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 Personal Map of Life ",(new Date).getFullYear(),"."]})}var H=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var _=Object(l.i)((function(e){var t=e.history,n=H(),r=Object(a.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(n){var c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),c=n.target.elements,a=c.email,r=c.password,e.prev=2,e.next=5,S.a.auth().signInWithEmailAndPassword(a.value,r.value);case 5:t.push("/"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),alert(e.t0);case 11:case"end":return e.stop()}}),e,null,[[2,8]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(a.useContext)(I).currentUser?Object(c.jsx)(l.a,{to:"/"}):Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)("div",{className:n.paper,children:[Object(c.jsx)(x.a,{m:2,children:Object(c.jsx)(A.a,{fullWidth:!0,onClick:function(){var e=new S.a.auth.GoogleAuthProvider;S.a.auth().signInWithRedirect(e),S.a.auth().getRedirectResult().then((function(e){if(e.credential){var t=e.credential.accessToken;console.log(t)}e.user})).catch((function(e){e.code,e.message,e.email,e.credential;console.log(e)}))},children:"Sign In with Google Account"})}),Object(c.jsx)(b.a,{className:n.avatar,children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign in"}),Object(c.jsxs)("form",{className:n.form,onSubmit:r,noValidate:!0,children:[Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email",autoFocus:!0}),Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password"}),Object(c.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"green",className:n.submit,children:"Sign In"})]}),Object(c.jsxs)(g.a,{container:!0,children:[Object(c.jsx)(g.a,{item:!0,xs:!0,children:Object(c.jsx)(O.a,{href:"#",variant:"body2",children:"Forgot password?"})}),Object(c.jsx)(g.a,{item:!0,children:Object(c.jsx)(O.a,{href:"./signup",variant:"body2",children:"Don't have an account? Sign Up"})})]})]}),Object(c.jsx)(x.a,{mt:8,children:Object(c.jsx)(z,{})})]})}));function G(){return Object(c.jsxs)(y.a,{variant:"body2",color:"textSecondary",align:"center",children:["Copyright \xa9 ",Object(c.jsx)(O.a,{color:"inherit",href:"https://material-ui.com/",children:"Your Website"})," ",(new Date).getFullYear(),"."]})}var q=Object(w.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(3)},submit:{margin:e.spacing(3,0,2)}}}));var K=Object(l.i)((function(e){var t=e.history,n=q(),r=Object(a.useCallback)(function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,r,o,i;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),n=t.target.elements,c=n.email,a=n.password,e.prev=2,e.next=5,S.a.auth().createUserWithEmailAndPassword(c.value,a.value);case 5:if(r=e.sent,console.log(r),console.log(r.user),!r||!r.user){e.next=21;break}console.log("uid",r.user.uid),(o={}).name="anonym",o.birthyear=2e3,o.maxYear=0,i=S.a.firestore().collection("Users").doc(r.user.uid);try{i.set(o).then((function(e){console.log("user initiated in db",e)}))}catch(s){console.log("error",s)}return e.next=18,r.user.sendEmailVerification();case 18:return e.next=20,S.a.auth().signOut();case 20:alert("Signup is successful. We also sent you a verification email.");case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(2),console.log(e.t0),alert(e.t0.message);case 27:case"end":return e.stop()}}),e,null,[[2,23]])})));return function(t){return e.apply(this,arguments)}}(),[t]);return Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:[Object(c.jsx)(h.a,{}),Object(c.jsxs)("div",{className:n.paper,children:[Object(c.jsx)(b.a,{className:n.avatar,children:Object(c.jsx)(v.a,{})}),Object(c.jsx)(y.a,{component:"h1",variant:"h5",children:"Sign up"}),Object(c.jsxs)("form",{className:n.form,onSubmit:r,noValidate:!0,children:[Object(c.jsxs)(g.a,{container:!0,spacing:2,children:["            ",Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,id:"email",label:"Email Address",name:"email",autoComplete:"email"})}),Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"password",label:"New Password",type:"password",id:"password"})}),Object(c.jsx)(g.a,{item:!0,xs:12,children:Object(c.jsx)(f.a,{variant:"outlined",required:!0,fullWidth:!0,name:"repeat password",label:"Repeat Password",type:"password",id:"repeat password"})})]}),Object(c.jsx)(p.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Sign Up"}),Object(c.jsx)(g.a,{container:!0,justify:"flex-end",children:Object(c.jsx)(g.a,{item:!0,children:Object(c.jsx)(O.a,{href:"./signin",variant:"body2",children:"Already have an account? Sign in"})})})]})]}),Object(c.jsx)(x.a,{mt:5,children:Object(c.jsx)(G,{})})]})})),J=n(1052),X=n(1080),Z=n(117),Q=n(561),$=n(118),ee=n(358),te=n.n(ee),ne=n(357),ce=n.n(ne),ae=Object(w.a)((function(e){return{root:{flexGrow:1},menuButton:{marginRight:e.spacing(0)},title:{flexGrow:1}}})),re=(Object(l.i)((function(e){var t=e.history,n=ae(),a=r.a.useState(null),o=Object(C.a)(a,2),i=o[0],s=o[1],l=function(){s(null)};return Object(c.jsx)(J.a,{position:"static",children:Object(c.jsxs)(X.a,{children:[Object(c.jsx)(y.a,{variant:"h6",className:n.title,children:Object(c.jsx)(ce.a,{label:"Home",onClick:function(e){s(e.currentTarget)}})}),Object(c.jsx)(Z.a,{edge:"end",className:n.menuButton,color:"inherit","aria-label":"setting",children:Object(c.jsx)(te.a,{label:"Setting",onClick:function(){console.log("setting pushed."),t.push("/setting"),s(null)}})}),Object(c.jsxs)(Q.a,{id:"simple-menu",anchorEl:i,keepMounted:!0,open:Boolean(i),onClose:l,children:[Object(c.jsx)($.a,{onClick:l,children:"My Profile"}),Object(c.jsx)($.a,{onClick:function(){console.log("my vision pushed."),t.push("/myvision"),s(null)},children:"My Vision"}),Object(c.jsx)($.a,{onClick:l,children:"My Strategy"}),Object(c.jsx)($.a,{onClick:function(){console.log("my calendar pushed."),t.push("/mycalendar"),s(null)},children:"My Calendar"}),Object(c.jsx)($.a,{onClick:function(){S.a.auth().signOut().then((function(){console.log("user is out","Success"),window.location="./signin"})).catch((function(e){console.error(e)}))},children:"Logout"})]})]})})})),n(1053),n(1054),n(565),n(266)),oe=n.n(re),ie=n(265),se=n.n(ie);Object(w.a)({stickToBottom:{width:"100%",position:"fixed",bottom:0,backgroundColor:"lightblue"}});var le=n(21),ue=n(46),de=n(1069),je=n(1070),be=n(1071),pe=n(116),he=n(157);function fe(e){e.year;var t=e.topic,n=e.user_ref,r=Object(a.useState)(""),o=Object(C.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(!0),u=Object(C.a)(l,2),b=u[0],h=u[1];Object(a.useEffect)((function(){O()}),[]);var O=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch vision started"),n.get().then((function(e){var n=Object(le.a)({id:e.id},e.data());s(n[t]),console.log("description updated")}))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();var g=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("update description started"),n.set(Object(ue.a)({},t,i),{merge:!0}).then((function(){console.log("description is saved"),h(!0)}))}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(f.a,{p:1,id:"desc",value:i,fullWidth:!0,InputProps:{style:{fontSize:14}},multiline:!0,rows:5,variant:"outlined",onChange:function(e){s(e.target.value),h(!1)}}),Object(c.jsx)(p.a,{disabled:b,color:"primary",variant:"contained",label:"Save",onClick:function(){return g()},children:"Save Changes"})]})}var Oe=n(1090);function ge(e){var t=e.year,n=e.topic,r=e.userID,o=Object(a.useState)(""),i=Object(C.a)(o,2),s=i[0],l=i[1];Object(a.useEffect)((function(){u()}),[]);var u=function(){var e=Object(j.a)(d.a.mark((function e(){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch image started"),c=N.ref().child("/images/".concat(r,"/").concat(t,"/").concat(n)),console.log("year: "+t),console.log(c),e.next=7,c.getDownloadURL().then((function(e){console.log("C3 P url:",e),l(e)}));case 7:e.sent,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(Oe.a,{severity:"info",children:["Choose an ",Object(c.jsx)("strong",{children:" inspiring "})," picture"]}),Object(c.jsx)(x.a,{p:1,children:Object(c.jsx)("img",{id:"money-image",src:""===s?"https://via.placeholder.com/400x300":s,alt:"",width:"100%"})}),Object(c.jsx)(x.a,{display:"flex",justifyContent:"center",children:Object(c.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){return c=e.target.files[0],console.log("image file name: "+c),void(c&&N.ref("/images/".concat(r,"/").concat(t,"/").concat(n)).put(c).on("state_changed",console.log,console.error,(function(){N.ref("/images/".concat(r,"/").concat(t)).child(n).getDownloadURL().then((function(e){console.log(e),l(e)}))})));var c}})})]})}var xe=n(567),me=n.n(xe),ve=n(205),ye=n(1027),we=n(1028),ke=n(1074),Ce=n(1076),Se=n(1075),Ne=n(1062),Ee=n(1065),Ie=n(1064),Be=n(275),De=n(114),Le=n(1025),Ue=n(1063),We=n(1082),Fe=n(1083),Te=n(1084);function Pe(e){e.year;var t=e.topic,n=(e.userID,e.user_ref),r=Object(a.useState)([]),o=Object(C.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)([]),u=Object(C.a)(l,2),h=u[0],O=u[1],g=Object(a.useState)(!1),m=Object(C.a)(g,2),v=m[0],w=m[1],k=Object(a.useState)(""),N=Object(C.a)(k,2),E=N[0],I=N[1],B=Object(a.useState)(0),D=Object(C.a)(B,2),L=D[0],U=D[1],W=Object(a.useState)("unit"),F=Object(C.a)(W,2),T=F[0],P=F[1],V=n.collection("ExpectedMetrics"),M=S.a.firestore().collection("Metrics");Object(a.useEffect)((function(){R(),Y()}),[]);var R=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch metrics started"),e.next=4,V.where("topic","==",t).get();case 4:n=e.sent,c=[],n.docs.forEach((function(e){var t=Object(le.a)({id:e.id},e.data());c.push(t),console.log(t)})),O(c),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(){return e.apply(this,arguments)}}(),Y=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,M.where("topic","==",t).get();case 4:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),s(c),console.log("Metric Defs",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),A=function(){var e=Object(j.a)(d.a.mark((function e(n,c){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{V.add({topic:t,name:n,value:c},{merge:!0}),console.log("metric added to vision")}catch(a){console.log("errrror: metric not added to vision"),console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();function z(e){U(e.target.value)}function H(){w(!1)}function _(e,t){for(var n=0;n<e.length;n++){var c=e[n];if(c.id===t)return c.unit}}var G=function(){w(!1)};return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(ye.a,{children:[void 0===h?console.log("selectedMetrics is undefined"):0===h.length?console.log("selectedMetrics has no item"):h.map((function(e,t){return Object(c.jsxs)(we.a,{children:[Object(c.jsx)(ke.a,{children:Object(c.jsx)(b.a,{children:Object(c.jsx)(We.a,{})})}),Object(c.jsx)(Ce.a,{primary:e.name,secondary:e.value}),Object(c.jsx)(Se.a,{children:Object(c.jsx)(Z.a,{id:e.name,edge:"end","aria-label":"delete",onClick:function(){return t=e.id,console.log(t),void(window.confirm("You are deleting your account. This will erase all your information permanently. Are you sure?")&&V.doc(t).delete().then((function(){console.log("metric successfully deleted!"),R()})).catch((function(e){console.error("Error removing User: ",e)})));var t},children:Object(c.jsx)(Fe.a,{})})})]})})),Object(c.jsxs)(we.a,{children:[Object(c.jsx)(Ce.a,{primary:"Add metric"}),Object(c.jsx)(Se.a,{children:Object(c.jsx)(Z.a,{edge:"end","aria-label":"add",onClick:function(){w(!0)},children:Object(c.jsx)(Te.a,{autoFocus:!0})})})]})]}),Object(c.jsxs)(Ne.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:v,onClose:H,children:[Object(c.jsxs)(Ee.a,{children:[t.toUpperCase()," Metrics"]}),Object(c.jsx)(Ie.a,{children:Object(c.jsxs)("form",{children:[Object(c.jsxs)(x.a,{m:1,children:[Object(c.jsx)(y.a,{children:"Metric Name: "}),Object(c.jsxs)(Be.a,{id:"my-input",variant:"outlined",native:!0,onChange:function(e){I(e.target.value),console.log("metric dialog",_(i,e.target.value)),P(_(i,e.target.value))},children:["                                      ",i.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.id})}))]})]}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsxs)(De.a,{children:[Object(c.jsx)(y.a,{children:"Target Value:"}),Object(c.jsx)(f.a,{type:"number",variant:"outlined",defaultValue:"0",id:"desiredValue","aria-describedby":"my-helper-text",onChange:z}),Object(c.jsx)(Le.a,{id:"my-helper-text",children:"Target value shall be a number."})]})}),Object(c.jsx)(x.a,{m:1,children:Object(c.jsx)(f.a,{disabled:!0,value:T,onChange:z})})]})}),Object(c.jsxs)(Ue.a,{children:[Object(c.jsx)(p.a,{onClick:H,color:"primary",children:"Cancel"}),Object(c.jsx)(p.a,{onClick:function(){console.log("selected metric name",E),console.log("selected metric value",L),""===E?console.log("metric name is empty"):(A(E,L),R()),G()},color:"primary",children:"Add"})]})]})]})}var Ve=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}}));function Me(e){var t=e,n=e.classes,r=e.selectedTopic,o=e.setSelectedTopic,i=(Object(a.useContext)(I).currentUser,Object(a.useState)([])),s=Object(C.a)(i,2),l=s[0],u=s[1];Object(a.useEffect)((function(){b()}),[]);var b=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),u(c),c.length>=1&&""===r&&o(c[0].id),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();function p(e){o(e.target.alt),console.log("selected topic: "+e.target.alt)}return Object(c.jsx)(ze,{classes:n,wizard:t,messageToUser:"Which life force?",children:Object(c.jsx)("div",{id:"gallery-placeholder",children:Object(c.jsx)(de.a,{cellHeight:160,cols:2,className:n.GridList,autoFocus:!0,children:l.map((function(e){return Object(c.jsxs)(je.a,{cols:1,children:[Object(c.jsx)("img",{src:e.placeholder,alt:e.id,onClick:p,style:r===e.id?{border:"5px solid #021a40"}:{}}),Object(c.jsx)(be.a,{title:e.id,titlePosition:"bottom",actionPosition:"left",className:n.GridListTileBar})]},e.id)}))})})})}function Re(e){var t=e,n=e.classes,r=e.desc,o=e.setDesc;return Object(a.useEffect)((function(){}),[]),Object(c.jsxs)(ze,{classes:n,wizard:t,messageToUser:"Name it",children:["Description",Object(c.jsx)(f.a,{autoFocus:!0,p:1,id:"desc",value:r,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){console.log(e),console.log(e.target.value),o(e.target.value)}})]})}function Ye(e){var t=e,n=e.classes,r=e.file,o=e.setFile;return Object(a.useEffect)((function(){}),[]),Object(c.jsxs)(ze,{classes:n,wizard:t,messageToUser:"Visualize it",children:[Object(c.jsx)(y.a,{children:"Visual"}),Object(c.jsxs)("div",{justify:"center",children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return o(e.target.files[0])}}),Object(c.jsx)("img",{src:null===r?"https://via.placeholder.com/400x300":URL.createObjectURL(r),alt:"Uploaded Images",height:"200",width:"200"})]})]})}function Ae(e){var t=e,n=e.classes,r=e.date,o=e.setDate;return Object(a.useEffect)((function(){}),[]),Object(c.jsx)(ze,{classes:n,wizard:t,children:Object(c.jsx)(ve.a,{defaultView:"decade",maxDetail:"decade",showWeekNumbers:"true",defaultValue:r,onChange:function(e){console.log(e),o(e)}})})}function ze(e){var t=e.children,n=e.classes,a=(e.messageToUser,e.wizard);return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(pe.a,{id:a.currentStep,className:n.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:n.header,children:Object(c.jsxs)(y.a,{p:1,children:["Step ",a.currentStep,"/",a.totalSteps]})}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,className:n.content,children:[Object(c.jsx)(g.a,{item:!0,xs:2,children:Object(c.jsx)("button",{disabled:1===a.currentStep,onClick:a.previousStep,children:"Back"})}),Object(c.jsx)(g.a,{item:!0,xs:7}),Object(c.jsx)(g.a,{item:!0,xs:3,children:a.currentStep===a.totalSteps?Object(c.jsx)("button",{onClick:a.finish,children:"Finish"}):Object(c.jsx)("button",{onClick:a.nextStep,children:"Next"})})]}),Object(c.jsx)(x.a,{p:2,children:t})]})})}Object(l.i)((function(e){var t=e.history,n=Ve(),r=Object(a.useState)(""),o=Object(C.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(""),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(a.useState)(null),p=Object(C.a)(b,2),h=p[0],f=p[1],O=Object(a.useState)(new Date(2022,1,1)),g=Object(C.a)(O,2),x=g[0],m=g[1],v=Object(a.useContext)(I).currentUser,y=function(e,t,n,c){(console.log("image file name: "+e),e)&&N.ref("/images/".concat(t,"/").concat(n,"/").concat(c)).put(e).on("state_changed",console.log,console.error,(function(){N.ref("/images/".concat(t,"/").concat(n)).child(c).getDownloadURL().then((function(e){console.log("image is saved",e)}))}))};return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(me.a,{children:[Object(c.jsx)(Me,{classes:n,selectedTopic:i,setSelectedTopic:s}),Object(c.jsx)(Re,{classes:n,desc:d,setDesc:j}),Object(c.jsx)(Ye,{classes:n,file:h,setFile:f}),Object(c.jsx)(Ae,{classes:n,date:x,setDate:m,finish:function(){console.log("this is finish from Dream"),console.log("topic=",i),console.log("desc=",d),console.log("date=",x.toString()),console.log("user=",v.uid),function(){var e=x.getFullYear();console.log(e);var n=i,c=S.a.firestore().collection("Users").doc(v.uid).collection("visions").doc(e.toString());c.get().then((function(a){a.exists?(console.log("Document data:",a.data()),alert("You have other dreams on this date as well. You can integrate this dream directly to your vision board.")):(console.log("No such document!"),c.set(Object(ue.a)({},n,d),{merge:!0}).then((function(){alert("Your new dream is successfully created."),y(h,v.uid,e,n),t.push("/visionBoard")})))})).catch((function(e){console.log("Error getting document:",e)}))}()}})]})})})),n(1077),n(568),n.p,Object(w.a)((function(e){return{root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"}}}));Object(w.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));var He=n(273);n(1092),Object(w.a)((function(e){return{paper:{marginTop:e.spacing(2),display:"flex",flexDirection:"column",alignItems:"center"},avatar:{margin:e.spacing(1),backgroundColor:e.palette.secondary.main},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));n(1055),n(1056),n(1058),n(1059),Object(w.a)({root:{},media:{height:0,paddingTop:"100%"}});Object(w.a)({root:{},media:{height:0,paddingTop:"100%"}});Object(w.a)({root:{},media:{height:0,paddingTop:"100%"}});n(233);var _e=n(113),Ge=n(1049),qe=n(1051),Ke=n(1050),Je=n(359),Xe=n.n(Je),Ze=n(1091),Qe=n(1078),$e=n(267),et=n.n($e),tt=n(268),nt=n.n(tt),ct=n(269),at=n.n(ct),rt=n(1023),ot=n(1067),it=n(571),st=n.n(it),lt=n(570),ut=n.n(lt),dt=n(569),jt=n.n(dt),bt=n(572),pt=n.n(bt);function ht(e){var t=e.children,n=e.value,a=e.index,r=Object(_e.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(le.a)(Object(le.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsxs)(x.a,{p:1,children:[Object(c.jsx)(y.a,{children:t}),Object(c.jsx)(x.a,{p:1})]})}))}function ft(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Ot=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{top:"auto",bottom:0},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular},add:{position:"absolute",right:e.spacing(2),top:"auto"},save:{position:"absolute",right:e.spacing(10),top:"auto"},deleteAccordion:{position:"absolute",right:e.spacing(10)},editAccordion:{position:"absolute",right:e.spacing(15)},disabledText:{opacity:1}}})),gt=(Object(l.i)((function(e){var t=e.history,n=r.a.useState(0),o=Object(C.a)(n,2),i=o[0],s=o[1],l=function(e,t){s(t)},u=Ot(),b=Object(a.useState)([]),p=Object(C.a)(b,2),h=p[0],f=p[1],O=Object(a.useState)(!1),g=Object(C.a)(O,2),m=g[0],v=g[1],w=Object(a.useContext)(I).currentUser,k=S.a.firestore().collection("Users").doc(w.uid).collection("visions");Object(a.useEffect)((function(){N()}),[]);var N=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.prev=1,console.log("fetch vision started"),e.next=5,k.get();case 5:t=e.sent,n=[],t.docs.forEach((function(e){n.push(Object(le.a)({id:e.id},e.data()))})),f(n),v(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)("div",{className:u.root,children:[m?Object(c.jsx)("h2",{children:"Loading..."}):h.map((function(e,n){return Object(c.jsxs)(Ge.a,{className:u.root,children:[console.log(e,n),Object(c.jsxs)(qe.a,{className:u.root,expandIcon:Object(c.jsx)(Xe.a,{}),children:[Object(c.jsxs)(y.a,{className:u.heading,children:["Vision of ",e.id]}),Object(c.jsx)(rt.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(c.jsx)(jt.a,{color:"primary",className:u.editAccordion,onClick:function(){return function(e){t.push("/newVision",e)}(e)}})}),Object(c.jsx)(rt.a,{onClick:function(e){return e.stopPropagation()},onFocus:function(e){return e.stopPropagation()},control:Object(c.jsx)(ut.a,{id:n,color:"secondary",className:u.deleteAccordion,onClick:function(){return function(e){k.doc(e.id).delete().then((function(){console.log(e,"Document successfully deleted!"),N()})).catch((function(e){console.error("Error removing document: ",e)}))}(e)}})})]}),Object(c.jsxs)(Ke.a,{className:u.root,children:[Object(c.jsx)(J.a,{position:"absolute",color:"secondary",className:u.appBar,children:Object(c.jsxs)(Ze.a,{value:i,onChange:l,"aria-label":"simple tabs example",children:[Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(et.a,{})},ft(0))),Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(nt.a,{})},ft(1))),Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(at.a,{})},ft(2)))]})}),Object(c.jsxs)(ht,{value:i,index:0,className:u.root,bottom:"10",children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"My health will be:"}),Object(c.jsx)(x.a,{fullWidth:!0,border:1,p:1,borderRadius:"borderRadius",children:e.health})]}),Object(c.jsx)(x.a,{p:2})]}),Object(c.jsxs)(ht,{value:i,index:1,className:u.root,children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"My finance will be:"}),Object(c.jsx)(x.a,{fullWidth:!0,border:1,p:1,borderRadius:"borderRadius",children:e.money})]}),Object(c.jsx)(x.a,{p:2})]}),Object(c.jsxs)(ht,{value:i,index:2,className:u.root,children:[Object(c.jsxs)(y.a,{children:[Object(c.jsx)(x.a,{fontWeight:"fontWeightMedium",children:"My social connection will be:"}),Object(c.jsx)(x.a,{fullWidth:!0,border:1,p:1,borderRadius:"borderRadius",children:e.social})]}),Object(c.jsx)(x.a,{p:2})]}),Object(c.jsx)(x.a,{p:2})]})]})})),Object(c.jsx)(x.a,{p:2}),Object(c.jsx)(ot.a,{color:"secondary","aria-label":"add",className:u.add,onClick:function(){t.push("/newVision")},children:Object(c.jsx)(st.a,{})}),Object(c.jsx)(ot.a,{color:"secondary","aria-label":"show",className:u.save,children:Object(c.jsx)(pt.a,{onClick:function(){t.push("/visionBoard")}})})]})})),n(1085)),xt=n(204),mt=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}})),vt=Object(l.i)((function(e){var t=Object(l.g)(),n=mt();return Object(a.useEffect)((function(){return console.log("------ profile ------- useEffect -----"),console.log("------ action -------",t.action),function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]),Object(c.jsxs)("div",{children:[Object(c.jsx)(yt,{classes:n}),Object(c.jsx)(wt,{classes:n})]})}));function yt(e){var t=e.classes,n=Object(a.useContext)(I).currentUser,r=Object(a.useState)(),o=Object(C.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(),u=Object(C.a)(l,2),b=u[0],h=u[1],O=Object(a.useState)(!0),m=Object(C.a)(O,2),v=m[0],w=m[1],k=S.a.firestore().collection("Users").doc(n.uid);Object(a.useEffect)((function(){E()}),[]);var N=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("update profile started"),k.update({name:i,birthYear:b}).then((function(){console.log("profile is updated",i),w(!0)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch profile started",k),k.get().then((function(e){e.exists?(s(e.data().name),h(e.data().birthYear),console.log(e.data().name),console.log(e.data().birthYear)):console.log("such user doesnot exist",e.data())}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(pe.a,{id:"profile",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Profile "})}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Username:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:i,onChange:function(e){return function(e){s(e.target.value),w(!1)}(e)},autoFocus:!0})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Year of Birth:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{type:"number",variant:"outlined",margin:"normal",fullWidth:!0,value:b,onChange:function(e){return function(e){h(e.target.value),w(!1)}(e)}})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsx)(g.a,{container:!0,xs:12,justify:"center",children:Object(c.jsx)(g.a,{item:!0,xs:3,className:t.content,children:Object(c.jsx)(p.a,{disabled:v,variant:"contained",fullWidth:!0,color:"primary",onClick:N,children:"Save"})})})]})}function wt(e){var t=e.classes,n=S.a.firestore().collection("Metrics"),r=Object(a.useState)([{field:"id",headerName:"Name",width:150},{field:"topic",headerName:"Force",width:90}]),o=Object(C.a)(r,2),i=o[0],s=(o[1],Object(a.useState)([])),l=Object(C.a)(s,2),u=l[0],b=l[1],h=Object(a.useState)(!0),O=Object(C.a)(h,2),x=O[0],m=O[1],v=Object(a.useState)(!1),w=Object(C.a)(v,2),k=w[0],N=w[1];function E(){N(!1)}var I=Object(a.useState)([]),B=Object(C.a)(I,2),D=B[0],L=B[1],U=Object(a.useState)(""),W=Object(C.a)(U,2),F=W[0],T=W[1],P=Object(a.useState)(""),V=Object(C.a)(P,2),M=V[0],R=V[1];var Y=Object(a.useState)(0),A=Object(C.a)(Y,2),z=A[0],H=A[1],_=Object(a.useState)(0),G=Object(C.a)(_,2),q=G[0],K=G[1];var X=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),L(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Z(),X()}),[]);var Z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,n.get();case 4:t=e.sent,c=[],t.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),b(c),console.log("Metric Defs",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(pe.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Metrics "})}),Object(c.jsxs)(g.a,{container:!0,xs:12,justify:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){N(!0)},children:Object(c.jsx)(Te.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!0,children:Object(c.jsx)(gt.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:x,onClick:function(){n.doc(q).delete().then((function(){console.log(q," successfully deleted!"),Z()})).catch((function(e){console.error("Error removing document: ",e)}))},children:Object(c.jsx)(Fe.a,{})})})]}),Object(c.jsx)("div",{style:{height:400,width:"100%"},children:Object(c.jsx)(xt.a,{rows:u,columns:i,pageSize:5,checkboxSelection:!1,onRowClick:function(e){console.log(e.id),e.rowIndex>=0&&(m(!1),K(e.id))}})})]}),Object(c.jsxs)(Ne.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:k,onClose:E,children:[Object(c.jsx)(Ee.a,{children:"Metric"}),Object(c.jsx)(Ie.a,{children:Object(c.jsx)("form",{children:Object(c.jsxs)(De.a,{children:[Object(c.jsx)(He.a,{htmlFor:"demo-dialog-native",children:"Related Topic"}),Object(c.jsxs)(Be.a,{native:!0,onChange:function(e){H(e.target.value)},children:[Object(c.jsx)("option",{"aria-label":"None",value:""}),D.map((function(e,t){return Object(c.jsx)("option",{value:e.id,children:e.id})}))]}),Object(c.jsx)(f.a,{defaultValue:F,onChange:function(e){T(e.target.value)}}),Object(c.jsx)(f.a,{defaultValue:M,onChange:function(e){R(e.target.value)}})]})})}),Object(c.jsxs)(Ue.a,{children:[Object(c.jsx)(p.a,{onClick:E,color:"primary",children:"Cancel"}),Object(c.jsx)(p.a,{onClick:function(){console.log(z);try{n.doc(F).set({topic:z,unit:M,value:0},{merge:!0}),console.log("metric added to vision"),N(!1),Z(),T(""),R("")}catch(e){console.log("errrror: metric not added to vision"),console.log(e)}},color:"primary",children:"Add"})]})]})]})}var kt=n(29),Ct=n(80),St=n(6),Nt=n(1066),Et=n(573),It=n.n(Et),Bt=n(574),Dt=n.n(Bt),Lt=n(575),Ut=n.n(Lt),Wt=n(1029),Ft=n(1086),Tt=n(1087),Pt=n(577),Vt=n.n(Pt),Mt=n(578),Rt=n.n(Mt),Yt=n(576),At=n.n(Yt),zt=200,Ht="Home",_t=Object(w.a)((function(e){return{root:{display:"flex"},appBar:{transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen})},appBarShift:{width:"calc(100% - ".concat(zt,"px)"),marginLeft:zt,transition:e.transitions.create(["margin","width"],{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen})},menuButton:{marginRight:e.spacing(2)},hide:{display:"none"},drawer:{width:zt,flexShrink:0},drawerPaper:{width:zt},drawerHeader:Object(le.a)(Object(le.a)({display:"flex",alignItems:"center",padding:e.spacing(0,1)},e.mixins.toolbar),{},{justifyContent:"flex-end"}),content:{flexGrow:1,padding:e.spacing(3),transition:e.transitions.create("margin",{easing:e.transitions.easing.sharp,duration:e.transitions.duration.leavingScreen}),marginLeft:-200},contentShift:{transition:e.transitions.create("margin",{easing:e.transitions.easing.easeOut,duration:e.transitions.duration.enteringScreen}),marginLeft:0}}})),Gt=Object(l.i)((function(e){var t=e.history,n=e.role,a=e.user,o=e.year,i=_t(),l=r.a.useState(!1),u=Object(C.a)(l,2),d=u[0],j=u[1],b=Object(kt.a)(),p=function(){j(!1)};function f(){S.a.auth().signOut().then((function(){console.log("user is out","Success"),window.location="./signin"})).catch((function(e){console.error(e)}))}return Object(c.jsxs)("div",{className:i.root,children:[Object(c.jsx)(h.a,{}),Object(c.jsx)(J.a,{position:"fixed",className:Object(St.a)(i.appBar,Object(ue.a)({},i.appBarShift,d)),children:Object(c.jsxs)(X.a,{children:[Object(c.jsx)(Z.a,{color:"inherit","aria-label":"open drawer",onClick:function(){j(!0)},edge:"start",className:Object(St.a)(i.menuButton,d&&i.hide),children:Object(c.jsx)(It.a,{})}),Object(c.jsxs)(y.a,{children:[" ",Ht," "]})]})}),Object(c.jsx)(X.a,{}),Object(c.jsxs)(Ct.a,{className:i.drawer,variant:"temporary",anchor:"left",open:d,onClose:p,classes:{paper:i.drawerPaper},children:[Object(c.jsx)("div",{className:i.drawerHeader,children:Object(c.jsx)(Z.a,{onClick:p,children:"ltr"===b.direction?Object(c.jsx)(Dt.a,{}):Object(c.jsx)(Ut.a,{})})}),Object(c.jsx)(Nt.a,{}),Object(c.jsxs)(ye.a,{children:[Object(c.jsxs)(we.a,{component:s.b,to:"/profile",onClick:function(){p(),Ht="Profile"},children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(At.a,{})}),Object(c.jsx)(Ce.a,{primary:"Profile"})]},"Profile"),Object(c.jsxs)(we.a,{component:s.b,to:"/",onClick:function(){console.log("my vision pushed."),0===o?t.push({pathname:"/help"}):(console.log("maxYear: ",o),t.push({pathname:"/vision",state:{maxYear:o}})),p(),Ht="Vision Board"},children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(Vt.a,{})}),Object(c.jsx)(Ce.a,{primary:"Vision Board"})]},"Vision Board"),"admin"===n?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(we.a,{button:!0,children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(Rt.a,{})}),Object(c.jsx)(Ce.a,{primary:"Plan"})]},"Plan"),Object(c.jsxs)(we.a,{button:!0,onClick:function(){console.log("my calendar pushed."),t.push("/mycalendar"),p(),Ht="Calendar"},children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(Ft.a,{})}),Object(c.jsx)(Ce.a,{primary:"Calendar"})]},"Calendar")]}):null]}),Object(c.jsx)(Nt.a,{}),Object(c.jsxs)(ye.a,{children:[Object(c.jsxs)(we.a,{component:s.b,to:"/content",onClick:function(){console.log("content pushed."),p(),Ht="Content"},children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(se.a,{})}),Object(c.jsx)(Ce.a,{primary:"Content"})]},"Learn"),"admin"===n?Object(c.jsxs)(we.a,{button:!0,children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(oe.a,{})}),Object(c.jsx)(Ce.a,{primary:"Community"})]},"Community"):null]}),Object(c.jsx)(Nt.a,{}),Object(c.jsxs)(ye.a,{children:[Object(c.jsxs)(we.a,{button:!0,onClick:f,children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(Tt.a,{})}),Object(c.jsx)(Ce.a,{primary:"Signout"})]},"Sign Out"),Object(c.jsxs)(we.a,{button:!0,onClick:function(){if(window.confirm("You are deleting your account. This will erase all your information permanently. Are you sure?")){var e=S.a.firestore().collection("Users").doc(a.uid);e.collection("ExpectedMetrics").get().then((function(t){t.forEach((function(t){console.log(t.id," => ",t.data()),e.collection("ExpectedMetrics").doc(t.id).delete().then((function(){console.log("metric deleted!")})).catch((function(e){console.error("Error removing metric: ",e)}))}))})),e.delete().then((function(){console.log("User main doc deleted!"),f()})).catch((function(e){console.error("Error removing User: ",e)}))}},children:[Object(c.jsx)(Wt.a,{children:Object(c.jsx)(Fe.a,{})}),Object(c.jsx)(Ce.a,{primary:"Delete My Account"})]},"delete")]})]})]})}));function qt(e){var t=e.children,n=e.value,a=e.index,r=Object(_e.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(le.a)(Object(le.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsxs)(x.a,{p:1,children:[Object(c.jsx)(y.a,{children:t}),Object(c.jsx)(x.a,{p:2})]})}))}function Kt(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var Jt=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},cancelButton:{top:"auto",left:e.spacing(2),position:"absolute"},addButton:{top:"auto",left:"auto",right:e.spacing(2),position:"absolute"}}})),Xt=(Object(l.i)((function(e){var t=e.history,n=e.location,o=Object(a.useContext)(I).currentUser,i=r.a.useState(0),s=Object(C.a)(i,2),l=s[0],u=s[1],b=r.a.useState(!1),h=Object(C.a)(b,2),O=h[0],g=h[1],m=r.a.useState(!1),v=Object(C.a)(m,2),w=v[0],k=v[1],E=r.a.useState(""),B=Object(C.a)(E,2),D=B[0],L=B[1],U=r.a.useState(""),W=Object(C.a)(U,2),F=W[0],T=W[1],P=r.a.useState(""),V=Object(C.a)(P,2),M=V[0],R=V[1],Y=r.a.useState(2020),A=Object(C.a)(Y,2),z=A[0],H=A[1],_=r.a.useState(""),G=Object(C.a)(_,2),q=G[0],K=G[1],X=r.a.useState(""),Z=Object(C.a)(X,2),Q=Z[0],$=Z[1],ee=r.a.useState(""),te=Object(C.a)(ee,2),ne=te[0],ce=te[1],ae=r.a.useState(null),re=Object(C.a)(ae,2),oe=re[0],ie=re[1],se=r.a.useState(null),ue=Object(C.a)(se,2),de=ue[0],je=ue[1],be=r.a.useState(null),pe=Object(C.a)(be,2),he=pe[0],fe=pe[1];Object(a.useEffect)((function(){Oe()}),[]);var Oe=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(g(!0),!n.state){e.next=14;break}return k(!0),console.log(n.state.id),L(n.state.health),T(n.state.money),R(n.state.social),H(n.state.id),e.next=10,ge("health");case 10:return e.next=12,ge("money");case 12:return e.next=14,ge("social");case 14:g(!1);case 15:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ge(e){N.ref().child("/images/".concat(o.uid,"/").concat(n.state.id,"/").concat(e)).getDownloadURL().then((function(t){switch(console.log(t),e){case"health":K(t),console.log("h");break;case"money":$(t),console.log("m");break;case"social":ce(t),console.log("s");break;default:console.log("what?")}})).catch((function(e){console.log(e)}))}var xe=Jt(),me=S.a.firestore().collection("Users").doc(o.uid).collection("visions"),ve=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("add vision started"),we(o,z,"health",oe),we(o,z,"money",de),we(o,z,"social",he),me.doc(z).set({health:D,money:F,social:M}),ye()}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),ye=function(){t.push("/myvision")},we=function(e,t,n,c){c&&N.ref("/images/".concat(e.uid,"/").concat(t,"/").concat(n)).put(c).on("state_changed",console.log,console.error,(function(){N.ref("/images/".concat(e.uid,"/").concat(t)).child(n).getDownloadURL().then((function(e){console.log(e)}))}))};return Object(c.jsx)("div",{className:xe.root,children:O?Object(c.jsx)("h2",{children:"Loading..."}):Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{className:xe.yearLabel,children:"Which year?"}),Object(c.jsx)(f.a,{id:"year",type:"number",placeholder:"year has to be a number",disabled:w,required:!0,className:xe.yearField,defaultValue:z,onChange:function(e){return H(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsxs)(qt,{value:l,index:0,className:xe.root,bottom:"10",children:[Object(c.jsx)(y.a,{children:"How would like your health to be?"}),Object(c.jsx)(f.a,{id:"vision_desc",defaultValue:D,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){return L(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(y.a,{children:"How do you visualize it?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return ie(e.target.files[0])}}),Object(c.jsx)("img",{id:"health-image",src:oe?URL.createObjectURL(oe):""===q?"https://via.placeholder.com/400x300":q,alt:"Uploaded Images",height:"200",width:"200"})]})]}),Object(c.jsxs)(qt,{value:l,index:1,className:xe.root,children:[Object(c.jsx)(y.a,{children:"How would be your desired financial situation?"}),Object(c.jsx)(f.a,{id:"money_desc",defaultValue:F,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){return T(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(y.a,{children:"How do you visualize it?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return je(e.target.files[0])}}),Object(c.jsx)("img",{id:"money-image",src:de?URL.createObjectURL(de):""===Q?"https://via.placeholder.com/400x300":Q,alt:"Uploaded Images",height:"200",width:"200"})]})]}),Object(c.jsxs)(qt,{value:l,index:2,className:xe.root,children:[Object(c.jsx)(y.a,{children:"How would you like your social environment (e.g. friends, family, tribe etc) to be?"}),Object(c.jsx)(f.a,{id:"social_desc",defaultValue:M,fullWidth:!0,multiline:!0,rows:3,variant:"outlined",onChange:function(e){return R(e.target.value)}}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(y.a,{children:"How do you visualize it?"}),Object(c.jsxs)("div",{children:[Object(c.jsx)("input",{type:"file",onChange:function(e){return fe(e.target.files[0])}}),Object(c.jsx)("img",{src:he?URL.createObjectURL(he):""===ne?"https://via.placeholder.com/400x300":ne,alt:"Uploaded Images",height:"200",width:"200"}),"            "]})]}),Object(c.jsx)(J.a,{position:"absolute",color:"secondary",className:xe.appBar,children:Object(c.jsxs)(Ze.a,{value:l,onChange:function(e,t){u(t)},"aria-label":"simple tabs example",children:[Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(et.a,{})},Kt(0))),Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(nt.a,{})},Kt(1))),Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(at.a,{})},Kt(2)))]})}),Object(c.jsx)(x.a,{p:1}),Object(c.jsx)(p.a,{variant:"contained",color:"primary",className:xe.addButton,onClick:ve,children:"Done"}),Object(c.jsx)(p.a,{variant:"contained",color:"primary",className:xe.cancelButton,onClick:ye,children:"Cancel"}),Object(c.jsx)(x.a,{p:1})]})})})),n(616),function(e){var t=e.embedId;return Object(c.jsx)("div",{width:"100%",children:Object(c.jsx)("iframe",{width:"100%",src:"https://www.youtube.com/embed/".concat(t),frameBorder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowFullScreen:!0,title:"Embedded youtube"})})});n(1057);var Zt=n(1096),Qt=n(1095),$t=n(1088);function en(e){var t=e.children,n=e.value,a=e.index,r=Object(_e.a)(e,["children","value","index"]);return Object(c.jsx)("div",Object(le.a)(Object(le.a)({role:"tabpanel",hidden:n!==a,id:"simple-tabpanel-".concat(a),"aria-labelledby":"simple-tab-".concat(a)},r),{},{children:n===a&&Object(c.jsx)(x.a,{p:3,children:Object(c.jsx)(y.a,{children:t})})}))}function tn(e){return{id:"simple-tab-".concat(e),"aria-controls":"simple-tabpanel-".concat(e)}}var nn,cn,an=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"}}})),rn=(Object(l.i)((function(e){var t=an(),n=Object(a.useContext)(I).currentUser,r=S.a.firestore().collection("Users").doc(n.uid).collection("visions"),o=S.a.firestore().collection("ExpectedMetrics"),i=Object(a.useState)(0),s=Object(C.a)(i,2),l=s[0],u=s[1],b=Object(a.useState)([]),h=Object(C.a)(b,2),O=h[0],g=h[1],x=Object(a.useState)([]),m=Object(C.a)(x,2),v=m[0],w=m[1],k=Object(a.useState)([]),B=Object(C.a)(k,2),D=B[0],L=B[1],U=Object(a.useState)(""),W=Object(C.a)(U,2),F=W[0],T=W[1],P=Object(a.useState)(null),V=Object(C.a)(P,2),M=V[0],R=V[1],Y=Object(a.useState)(0),A=Object(C.a)(Y,2),z=A[0],H=A[1],_=Object(a.useState)(2021),G=Object(C.a)(_,2),q=G[0],K=G[1],X=Object(a.useState)([]),Z=Object(C.a)(X,2),Q=Z[0],$=Z[1],ee=Object(a.useState)([]),te=Object(C.a)(ee,2),ne=(te[0],te[1]),ce=Object(a.useState)(!1),ae=Object(C.a)(ce,2),re=ae[0],oe=ae[1],ie=Object(a.useState)(!1),se=Object(C.a)(ie,2),ue=se[0],Oe=se[1],xe=Object(a.useState)(!1),me=Object(C.a)(xe,2),ve=me[0],ye=me[1],we=Object(a.useState)(!0),ke=Object(C.a)(we,2),Ce=ke[0];ke[1];Object(a.useEffect)((function(){Oe(!0),Se(),Le(),Me(z),Oe(!1)}),[]);var Se=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),g(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),Be=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch vision started of year ",typeof t,t),r.doc(t).get().then((function(e){R(Object(le.a)({id:e.id},e.data())),console.log("selectedVision successfully fetched: "+e)}))}catch(n){console.log(n)}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),De=function(){var e=Object(j.a)(d.a.mark((function e(t){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("fetch metrics started of year ",typeof t,t),o.where("year","==",t).where("userID","==",n.uid).get().then((function(e){var t=[];e.forEach((function(e){t.push(Object(le.a)({id:e.id},e.data())),console.log("selectedMetric successfully fetched: "+e)})),ne(t)})).catch((function(e){console.log(e)}));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Le=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch vision started"),e.next=4,r.get();case 4:t=e.sent,n=[],c=[],t.docs.forEach((function(e){n.push({value:e.id,label:""+e.id}),c.push(Object(le.a)({id:e.id},e.data()))})),$(n),w(c),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}(),Fe=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,r,o;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(n=[],c=0;c<O.length;c++)a={key:c,alt:O[c].id,src:O[c].placeholder,width:1,height:1},n.push(a);return e.prev=2,r=t.items.map((function(e){return Te(e)})),e.next=6,Promise.all(r);case 6:return o=e.sent,console.log("urls "+o),e.next=10,o.forEach((function(e){for(var t=0;t<O.length;t++)O[t].id===e.alt&&(n[t]=e,console.log("index: "+n[t])),console.log("item "+n[t].src)}));case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),console.log(e.t0);case 15:return e.abrupt("return",n);case 16:case"end":return e.stop()}}),e,null,[[2,12]])})));return function(t){return e.apply(this,arguments)}}(),Te=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getMetadata();case 2:return n=e.sent,e.next=5,n.name;case 5:return c=e.sent,console.log(c),a={src:"",alt:c,width:1,height:1},e.next=10,t.getDownloadURL();case 10:return a.src=e.sent,e.abrupt("return",a);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),Ve=function(e){r.doc(e).delete().then((function(){console.log(e," successfully deleted!"),function(e){N.ref("/images/".concat(n.uid,"/").concat(e)).listAll().then((function(e){e.items.forEach((function(e){e.delete().then((function(){console.log("File deleted successfully"),R(null),H(0)})).catch((function(e){console.log(e)}))}))})).catch((function(e){console.log(e)}))}(e)})).catch((function(e){console.error("Error removing document: ",e)}))};var Me=function(){var e=Object(j.a)(d.a.mark((function e(t){var c,a,r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("fetch images started"),oe(!0),c=N.ref().child("/images/".concat(n.uid,"/").concat(t)),console.log("year: "+t),console.log(c),e.next=7,c.listAll();case 7:return a=e.sent,e.next=10,Fe(a);case 10:return r=e.sent,e.next=13,L(r);case 13:return e.next=15,oe(!1);case 15:console.log("ended 1"),console.log("ended 2");case 17:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();var Re=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(t={},n=0;n<O.length;n++)t[O[n].id]="",console.log("this topic created ",O[n]);console.log("add vision started",t),r.doc(q).set(t)}catch(c){console.log(c)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function Ye(e){H(e),T(""),Me(e),Be(e),De(e)}var Ae=function(){ye(!1)};function ze(e){T(e.target.alt),console.log("selected topic: "+e.target.alt),console.log("vision:"+M),console.log("vision topic desc:"+M[e.target.alt]),"undefined"===typeof M[e.target.alt]?console.log("undefined catcher"):console.log("yes desc exists")}var He=function(e,t){u(t)},_e=function(){return Object(c.jsx)("div",{id:"c1",children:Object(c.jsxs)(pe.a,{className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Vision Board "})}),re?Object(c.jsx)(E.a,{}):0===D.length?Object(c.jsx)(he.a,{photos:[{src:"https://www.emetabolic.com/media/pcon/vision-board-mrc-socialmedia-2089.jpg",alt:"Click on a year above"}],direction:"column",columns:1,onClick:function(){return alert("Click on a year above")}}):Object(c.jsxs)("div",{children:[Object(c.jsx)("div",{id:"gallery-placeholder",children:Object(c.jsx)(de.a,{cellHeight:160,className:t.gridList,cols:2,autoFocus:!0,children:D.map((function(e){return Object(c.jsxs)(je.a,{cols:1,children:[Object(c.jsx)("img",{src:e.src,alt:e.alt,onClick:ze,style:F===e.alt?{border:"5px solid #021a40"}:{}}),Object(c.jsx)(be.a,{title:e.alt,titlePosition:"bottom",actionPosition:"left",className:t.titleBar})]},e.key)}))})}),""===F?Object(c.jsx)(y.a,{children:"Click on images for details"}):Object(c.jsxs)("div",{id:"details",m:1,children:[Object(c.jsx)("br",{}),Object(c.jsxs)(J.a,{position:"static",className:t.headerDetails,children:[Object(c.jsxs)(y.a,{children:[" ","<<"," ",F," in ",M.id," ",">>"," "]}),Object(c.jsxs)(Ze.a,{value:l,onChange:He,variant:"fullWidth",indicatorColor:"secondary",textColor:"default","aria-label":"icon label tabs example",children:[Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(We.a,{})},tn(0))),Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)(gt.a,{})},tn(1))),Object(c.jsx)(Qe.a,Object(le.a)({icon:Object(c.jsx)($t.a,{})},tn(2)))]})]}),Object(c.jsx)(en,{value:l,index:0,children:Object(c.jsx)(ge,{year:z,topic:F,userID:n.uid})}),Object(c.jsx)(en,{value:l,index:1,children:Object(c.jsx)(fe,{year:z,topic:F,userID:n.uid})}),Object(c.jsx)(en,{value:l,index:2,children:Object(c.jsx)(Pe,{year:z,topic:F,userID:n.uid})}),Object(c.jsx)("div",{})]})]})]})})};return Object(c.jsxs)("div",{className:t.root,children:[ue?Object(c.jsx)(E.a,{justify:"center"}):Object(c.jsxs)(pe.a,{id:"year-paper",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"TimeLine "})}),0===v.length?console.log("no vision yet",v.length):Object(c.jsxs)("div",{className:t.sliderLimit,children:[Object(c.jsx)("br",{}),Object(c.jsx)("br",{}),Object(c.jsx)(Zt.a,{className:t.slider,value:z,"aria-labelledby":"discrete-slider",valueLabelDisplay:"on",step:null,marks:Q,min:2021,max:2050,onChange:function(e,t){return n=t,console.log("event.target.value",n),void Ye(n+"");var n}})]}),v.map((function(e,n){return Object(c.jsx)(Qt.a,{color:e.id===z?"primary":"default",id:n,label:e.id,onClick:function(t){return function(e){console.log(e);var t=e.id;console.log("year click started"),Ye(t),console.log("year click ended")}(e)},className:t.chip})})),Object(c.jsx)(Qt.a,{id:v.length,label:"+",onClick:function(){ye(!0)},className:t.chip}),Object(c.jsxs)(Ne.a,{open:ve,onClose:Ae,"aria-labelledby":"form-dialog-title",children:[Object(c.jsx)(Ee.a,{id:"form-dialog-title",children:"Year"}),Object(c.jsx)(Ie.a,{children:Object(c.jsx)(f.a,{autoFocus:!0,onChange:function(e){return function(e){K(e.target.value)}(e)},margin:"dense",id:"newYear",label:"year",type:"number"})}),Object(c.jsxs)(Ue.a,{children:[Object(c.jsx)(p.a,{onClick:Ae,color:"primary",children:"Cancel"}),Object(c.jsx)(p.a,{onClick:function(){var e;!function(e){for(var t=0;t<v.length;t++)if(v[t].id===e)return!0;return!1}(q)?(Re(),Ae(),H(e=q),Le(),T(""),Me(e),Be(e),De(e)):alert("You already started envisioning this year.")},color:"primary",children:"Go"})]})]}),0===z?console.log("negateChip not shown"):Object(c.jsx)(Qt.a,{id:v.length+1,label:"-",onClick:function(){window.confirm("You are deleting the vision of "+z+".\n Are you sure to continue?")&&(Ve(z),H(0),Le(),T(""),L([]))},className:t.chip,color:"secondary"})]}),Ce?Object(c.jsx)(_e,{}):null]})})),n(1072)),on=n(23),sn=n(379),ln=(on.StyleSheet.create({page:{flexDirection:"row",backgroundColor:"#E4E4E4"},sectionOdd:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ccff33"},sectionEven:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ffccff"},button:{textDecoration:"none"}}),on.StyleSheet.create({page:{backgroundColor:"#ffffff"},section:{margin:10,padding:10},sectionOdd:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ccff33"},sectionEven:{margin:10,padding:10,flexGrow:1,backgroundColor:"#ffccff"},header:{backgroundColor:"#f6f6f5",display:"flex",flexDirection:"row",justifyContent:"center",padding:5},topicContainer:{display:"flex",flexDirection:"row",marginLeft:5},overviewContainer:{display:"flex",flexDirection:"row",marginLeft:5},title:{fontSize:20,marginBottom:10,fontweight:"bold"},overview:{fontSize:14},image:{height:200,width:200},subtitle:{display:"flex",justifyContent:"space-between",flexDirection:"row",width:150,alignItems:"center",marginBottom:12},vote:{display:"flex",flexDirection:"row"},rating:{height:10,width:10},vote_text:{fontSize:10},vote_pop:{fontSize:10,padding:2,backgroundColor:"#61C74F",color:"#fff"},vote_pop_text:{fontSize:10,marginLeft:4},detailsFooter:{display:"flex",flexDirection:"row"},lang:{fontSize:8,fontWeight:700},vote_average:{fontSize:8,marginLeft:4,fontWeight:"bold"},body:{padding:10},table:{display:"table",width:"auto",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderRightWidth:0,borderBottomWidth:0},tableRow:{margin:"auto",flexDirection:"row"},tableColHeader:{width:"25%",borderStyle:"solid",borderColor:"#bfbfbf",borderBottomColor:"#000",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCol:{width:"25%",borderStyle:"solid",borderColor:"#bfbfbf",borderWidth:1,borderLeftWidth:0,borderTopWidth:0},tableCellHeader:(nn={margin:"auto"},Object(ue.a)(nn,"margin",5),Object(ue.a)(nn,"fontSize",12),Object(ue.a)(nn,"fontWeight",500),nn),tableCell:(cn={margin:"auto"},Object(ue.a)(cn,"margin",5),Object(ue.a)(cn,"fontSize",10),cn)}));function un(e){var t=Object(l.h)().state,n=t.year,r=t.vision;console.log("vision pdf"),console.log("year",n),console.log("vision",r);var o=Object(a.useState)([]),i=Object(C.a)(o,2),s=i[0],u=i[1];function d(e){console.log(e.target.id),console.log(e.target.checked);var t=[];s.forEach((function(n){n.id===e.target.id&&(n.value=e.target.checked),t.push(n)})),u(t)}Object(a.useEffect)((function(){!function(){var e=[];r.forEach((function(t){e.push({id:t.topic,value:!0})})),u(e)}()}),[]);var j=function(){return Object(c.jsx)(on.View,{style:ln.table,children:Object(c.jsx)(on.View,{style:ln.tableRow,children:r&&r.map((function(e,t){return Object(c.jsx)(on.View,{style:ln.tableColHeader,children:Object(c.jsx)(on.Image,{style:ln.body,source:e.image})},t)}))})})},b=function(e){return Object(c.jsx)(on.Document,{children:Object(c.jsxs)(on.Page,{style:ln.page,children:[Object(c.jsx)(on.View,{style:ln.header,children:Object(c.jsxs)(on.Text,{style:ln.title,children:[" Vision Board for ",n]})}),Object(c.jsx)(j,{}),r?r.map((function(e,t){return Object(c.jsxs)(on.View,{style:t%2===1?ln.sectionOdd:ln.sectionEven,children:[Object(c.jsx)(on.View,{style:ln.topicContainer,children:Object(c.jsx)(on.Text,{style:ln.title,children:t+1+". "+e.topic})},"text"+t),Object(c.jsxs)(on.View,{style:ln.overviewContainer,children:[Object(c.jsx)(on.Image,{style:ln.image,source:e.image}),Object(c.jsx)(on.View,{style:ln.overviewContainer,children:Object(c.jsxs)(on.Text,{style:ln.overview,children:["Description: ",e.desc]})})]},"image"+t)]})})):null]})})};return Object(c.jsxs)(R,{message:"Customization",children:[Object(c.jsx)(x.a,{m:1,children:s.map((function(e,t){return Object(c.jsx)(x.a,{children:Object(c.jsx)(rt.a,{control:Object(c.jsx)(sn.a,{checked:e.value,onChange:d,id:e.id}),label:e.id})})}))}),Object(c.jsx)(on.PDFDownloadLink,{document:Object(c.jsx)(b,{}),style:ln.button,fileName:"myvision.pdf",children:function(e){e.blob,e.url;var t=e.loading;e.error;return t?Object(c.jsx)(E.a,{}):Object(c.jsx)(p.a,{variant:"contained",color:"primary",children:" Save As PDF "})}})]})}var dn=n(586),jn=n.n(dn),bn=n(1089),pn=(new Date).getFullYear(),hn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(3),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},titleBarSelected:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)",fontWeight:"bold"},goButton:{background:D.a[800],color:"white"},browseIcon:{color:"white",border:"white"}}})),fn=Object(l.i)((function(e){var t=Object(l.g)(),n=hn(),r=Object(a.useContext)(I).currentUser,o=Object(l.h)().state.maxYear;console.log("maxYear =",o);var i=S.a.firestore().collection("Users").doc(r.uid),s=(S.a.firestore().collection("ExpectedMetrics"),Object(a.useState)([])),u=Object(C.a)(s,2),b=u[0],p=u[1],h=Object(a.useState)([]),f=Object(C.a)(h,2),O=(f[0],f[1],Object(a.useState)([])),g=Object(C.a)(O,2),m=g[0],v=g[1],y=Object(a.useState)(""),w=Object(C.a)(y,2),k=w[0],B=w[1],D=Object(a.useState)(null),L=Object(C.a)(D,2),U=L[0],W=L[1],F=Object(a.useState)(0),T=Object(C.a)(F,2),P=T[0],V=(T[1],Object(a.useState)(pn)),M=Object(C.a)(V,2),Y=(M[0],M[1],Object(a.useState)([])),A=Object(C.a)(Y,2),z=(A[0],A[1],Object(a.useState)([])),H=Object(C.a)(z,2),_=(H[0],H[1],Object(a.useState)(!1)),G=Object(C.a)(_,2),q=G[0],K=G[1],J=Object(a.useState)(!1),X=Object(C.a)(J,2),Q=(X[0],X[1]),$=Object(a.useState)(!1),ee=Object(C.a)($,2),te=(ee[0],ee[1],Object(a.useState)(!0)),ne=Object(C.a)(te,2);ne[0],ne[1];Object(a.useEffect)((function(){return oe(),function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]);var ce=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:return n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),p(c),console.log("fetching topics success ended:",c),e.abrupt("return",c);case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),ae=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i.get();case 3:if(void 0!==(t=e.sent)){e.next=8;break}return e.abrupt("return",null);case 8:return n=Object(le.a)({id:t.id},t.data()),W(n),console.log("selectedVision successfully fetched: "+t.data().finance),e.abrupt("return",n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e.catch(0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])})));return function(){return e.apply(this,arguments)}}();function re(e,t){for(var n=[],c=0;c<e.length;c++){var a={key:c,alt:e[c].id,src:t[e[c].id+"-url"],width:1,height:1};n.push(a),console.log("photo: ",a)}return console.log("placeholders added to images: ",n),n}var oe=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Q(!0),e.next=3,ae();case 3:return t=e.sent,console.log("vision",t),e.next=7,ce();case 7:return n=e.sent,console.log("items",n),e.next=11,re(n,t);case 11:c=e.sent,v(c),Q(!1);case 14:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ie(e){B(e.target.alt),console.log("selected topic: "+e.target.alt),console.log("vision:"+U),console.log("vision topic desc:"+U[e.target.alt]),"undefined"===typeof U[e.target.alt]?console.log("undefined catcher"):console.log("yes desc exists")}var se=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c,a,i,s;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.target.id,null!==(c=t.target.files[0])){e.next=4;break}return e.abrupt("return");case 4:if(!window.confirm("Are you sure to change the picture?")){e.next=19;break}return K(!0),e.next=8,ge(c,n,r.uid,o);case 8:return a=e.sent,e.next=11,he(n,a);case 11:s=pe(i=m,n),i[s].src=a,v(i),K(!1),console.log("temp",i),console.log("index",s),console.log("images",m);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();function pe(e,t){for(var n=0;n<e.length;n++)if(e[n].alt===t)return n}var he=function(){var e=Object(j.a)(d.a.mark((function e(t,n){var c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{c=t+"-url",console.log("update vision started :",c,n),i.update(Object(ue.a)({},c,n),{merge:!0}).then((function(){return console.log("image url is updated",c,n),!0}))}catch(a){console.log(a)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),ge=function(){var e=Object(j.a)(d.a.mark((function e(t,n,c,a){var r;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("image file name: "+t),!t){e.next=10;break}return e.next=4,N.ref("/images/".concat(c,"/").concat(a,"/").concat(n)).put(t);case 4:return e.sent,e.next=7,N.ref("/images/".concat(c,"/").concat(a)).child(n).getDownloadURL();case 7:return r=e.sent,console.log("url",r),e.abrupt("return",r);case 10:case"end":return e.stop()}}),e)})));return function(t,n,c,a){return e.apply(this,arguments)}}();var xe=function(){return Object(c.jsx)("div",{id:"gallery-placeholder",children:Object(c.jsx)(de.a,{cellHeight:150,className:n.gridList,cols:2,autoFocus:!0,children:m.map((function(e){return Object(c.jsxs)(je.a,{cols:1,children:[Object(c.jsx)("img",{src:e.src,alt:e.alt,onClick:ie,style:k===e.alt?{border:"1px solid #021a40"}:{}}),Object(c.jsx)(be.a,{title:e.alt.toUpperCase(),titlePosition:"bottom",actionPosition:"right",className:k===e.alt?n.titleBarSelected:n.titleBar,actionIcon:Object(c.jsxs)("div",{class:"image-upload",children:[Object(c.jsx)("label",{for:e.alt,children:Object(c.jsx)(jn.a,{className:n.browseIcon})}),Object(c.jsx)("input",{id:e.alt,type:"file",style:{display:"none"},onChange:function(e){return se(e)}})]})})]},e.key)}))})})},me=function(){return Object(c.jsxs)("div",{id:"details",children:[Object(c.jsx)("br",{}),Object(c.jsx)(R,{message:k.toUpperCase()+" in words",actionIcon:Object(c.jsx)(rn.a,{children:Object(c.jsx)("img",{alt:"",src:m.find((function(e){return e.alt===k})).src,style:{width:"40px",height:"40px",marginTop:"10px",border:"0px solid white",borderRadius:"50%"}})}),children:Object(c.jsx)(fe,{year:P,topic:k,user_ref:i})}),Object(c.jsx)(R,{message:k.toUpperCase()+" in numbers",actionIcon:Object(c.jsx)(rn.a,{children:Object(c.jsx)("img",{alt:"",src:m.find((function(e){return e.alt===k})).src,style:{width:"40px",height:"40px",marginTop:"10px",border:"0px solid white",borderRadius:"50%"}})}),children:Object(c.jsx)(Pe,{year:P,topic:k,userID:r.uid,user_ref:i})})]})};function ve(){t.push({pathname:"/export",state:{year:o,vision:we()}})}var ye=function(){return Object(c.jsx)(R,{message:"Vision Board "+o,actionIcon:Object(c.jsx)(Z.a,{onClick:ve,style:{border:"2px solid white"},children:Object(c.jsx)(bn.a,{style:{color:"white"}})}),children:q?Object(c.jsx)(E.a,{}):Object(c.jsxs)("div",{children:[Object(c.jsx)(xe,{}),""===k?Object(c.jsx)(x.a,{p:1,children:Object(c.jsx)(Oe.a,{severity:"info",children:"Click on images for details."})}):Object(c.jsx)(me,{})]})})};function we(){for(var e=[],t=0;t<b.length;t++){var n=b[t],c=U[n.id+"-url"],a=U[n.id];e.push({topic:n.id,image:c,desc:a})}return console.log("visionObject",e),e}return Object(c.jsx)("div",{className:n.root,children:Object(c.jsx)(ye,{})})})),On=n(164),gn=Object(w.a)((function(e){return{root:{width:"100%"},appBar:{position:"relative"},yearField:{left:e.spacing(2),top:e.spacing(2),position:"relative"},yearLabel:{left:e.spacing(2),top:e.spacing(2),position:"relative"},addButton:{bottom:e.spacing(2),right:e.spacing(0),position:"absolute"},chip:{margin:e.spacing(.5)},paper:{margin:e.spacing(1),justify:"center"},sliderLimit:{margin:e.spacing(2),top:e.spacing(4)},sliderLabel:{left:e.spacing(5)},save:{justify:"center"},header:{alignItems:"center",background:"#ff8a65"},headerDetails:{alignItems:"center",background:"#ff7043"},titleBar:{background:"linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)"},content:{alignItems:"center",margin:e.spacing(1)}}}));Object(l.i)((function(e){var t=gn();return Object(c.jsxs)("div",{children:[Object(c.jsx)(yn,{classes:t}),Object(c.jsx)(vn,{classes:t}),Object(c.jsx)(mn,{classes:t}),Object(c.jsx)(xn,{classes:t})]})}));function xn(e){var t=e.classes,n=Object(a.useContext)(I).currentUser,r=S.a.firestore().collection("Users").doc(n.uid),o=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,console.log("reset started"),t=r.collection("visions"),console.log(t),void 0!==t){e.next=9;break}return console.log("no visions collection"),e.abrupt("return");case 9:return e.next=11,t.get();case 11:n=e.sent,console.log(n),n.docs.forEach((function(e){console.log(e),t.doc(e.id).delete().then((function(){console.log(e.id+"successfully deleted!")}))}));case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(pe.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Reset "})}),Object(c.jsx)(x.a,{p:2,display:"flex",justifyContent:"center",children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",onClick:function(){console.log("reset started"),o()},children:"Clear My Visions"})})]})}function mn(e){var t=e.classes,n=S.a.firestore().collection("Metrics"),r=Object(a.useState)([{field:"id",headerName:"Name",width:150},{field:"topic",headerName:"Force",width:90}]),o=Object(C.a)(r,2),i=o[0],s=(o[1],Object(a.useState)([])),l=Object(C.a)(s,2),u=l[0],b=l[1],h=Object(a.useState)(!0),O=Object(C.a)(h,2),x=O[0],m=O[1],v=Object(a.useState)(!1),w=Object(C.a)(v,2),k=w[0],N=w[1];function E(){N(!1)}var I=Object(a.useState)([]),B=Object(C.a)(I,2),D=B[0],L=B[1],U=Object(a.useState)(""),W=Object(C.a)(U,2),F=W[0],T=W[1],P=Object(a.useState)(""),V=Object(C.a)(P,2),M=V[0],R=V[1];var Y=Object(a.useState)(0),A=Object(C.a)(Y,2),z=A[0],H=A[1],_=Object(a.useState)(0),G=Object(C.a)(_,2),q=G[0],K=G[1];var X=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),L(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){Z(),X()}),[]);var Z=function(){var e=Object(j.a)(d.a.mark((function e(){var t,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),e.next=4,n.get();case 4:t=e.sent,c=[],t.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),b(c),console.log("Metric Defs",c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsxs)(pe.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Metrics "})}),Object(c.jsxs)(g.a,{container:!0,xs:12,justify:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",fullWidth:!0,onClick:function(){N(!0)},children:Object(c.jsx)(Te.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:!0,children:Object(c.jsx)(gt.a,{})})}),Object(c.jsx)(g.a,{item:!0,xs:2,className:t.content,children:Object(c.jsx)(p.a,{color:"primary",variant:"contained",fullWidth:!0,disabled:x,onClick:function(){n.doc(q).delete().then((function(){console.log(q," successfully deleted!"),Z()})).catch((function(e){console.error("Error removing document: ",e)}))},children:Object(c.jsx)(Fe.a,{})})})]}),Object(c.jsx)("div",{style:{height:400,width:"100%"},children:Object(c.jsx)(xt.a,{rows:u,columns:i,pageSize:5,checkboxSelection:!1,onRowClick:function(e){console.log(e.id),e.rowIndex>=0&&(m(!1),K(e.id))}})})]}),Object(c.jsxs)(Ne.a,{disableBackdropClick:!0,disableEscapeKeyDown:!0,open:k,onClose:E,children:[Object(c.jsx)(Ee.a,{children:"Metric"}),Object(c.jsx)(Ie.a,{children:Object(c.jsx)("form",{children:Object(c.jsxs)(De.a,{children:[Object(c.jsx)(He.a,{htmlFor:"demo-dialog-native",children:"Related Topic"}),Object(c.jsxs)(Be.a,{native:!0,onChange:function(e){H(e.target.value)},children:[Object(c.jsx)("option",{"aria-label":"None",value:""}),D.map((function(e,t){return Object(c.jsx)("option",{id:t,value:e.id,children:e.id})}))]}),Object(c.jsx)(f.a,{defaultValue:F,onChange:function(e){T(e.target.value)}}),Object(c.jsx)(f.a,{defaultValue:M,onChange:function(e){R(e.target.value)}})]})})}),Object(c.jsxs)(Ue.a,{children:[Object(c.jsx)(p.a,{onClick:E,color:"primary",children:"Cancel"}),Object(c.jsx)(p.a,{onClick:function(){console.log(z);try{n.doc(F).set({topic:z,unit:M,value:0},{merge:!0}),console.log("metric added to vision"),N(!1),Z(),T(""),R("")}catch(e){console.log("errrror: metric not added to vision"),console.log(e)}},color:"primary",children:"Add"})]})]})]})}function vn(e){var t=e.classes,n=(Object(a.useContext)(I).currentUser,Object(a.useState)([])),r=Object(C.a)(n,2),o=r[0],i=r[1];Object(a.useEffect)((function(){s()}),[]);var s=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),i(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsx)("div",{children:Object(c.jsxs)(pe.a,{id:"metrics",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Life Forces"})}),Object(c.jsx)(ye.a,{dense:!0,className:t.root,children:o.map((function(e,t){"checkbox-list-secondary-label-".concat(t);return Object(c.jsxs)(we.a,{children:[Object(c.jsx)(ke.a,{children:Object(c.jsx)(b.a,{alt:e.id,src:e.placeholder})}),Object(c.jsx)(Ce.a,{id:e.id,primary:e.id}),Object(c.jsx)(Se.a,{children:Object(c.jsx)(sn.a,{edge:"end"})})]},e.id)}))})]})})}function yn(e){var t=e.classes,n=Object(a.useContext)(I).currentUser,r=Object(a.useState)(),o=Object(C.a)(r,2),i=o[0],s=o[1],l=Object(a.useState)(),u=Object(C.a)(l,2),b=u[0],h=u[1],O=S.a.firestore().collection("Users").doc(n.uid);Object(a.useEffect)((function(){v()}),[]);var m=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("update profile started"),O.update({name:i,birthYear:b}).then((function(){console.log("profile is updated",i)}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),v=function(){var e=Object(j.a)(d.a.mark((function e(){return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{console.log("fetch profile started",O),O.get().then((function(e){e.exists?(s(e.data().name),h(e.data().birthYear),console.log(e.data().name),console.log(e.data().birthYear)):console.log("such user doesnot exist",e.data())}))}catch(t){console.log(t)}case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(pe.a,{id:"profile",className:t.paper,children:[Object(c.jsx)(J.a,{p:1,position:"static",className:t.header,children:Object(c.jsx)(y.a,{p:1,children:"Profile "})}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Username:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,value:i,onChange:function(e){return s(e.target.value)},autoFocus:!0})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsxs)(g.a,{container:!0,item:!0,xs:12,alignItems:"center",spacing:1,children:[Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})}),Object(c.jsx)(g.a,{item:!0,xs:4,children:Object(c.jsx)(y.a,{children:"Year of Birth:"})}),Object(c.jsx)(g.a,{item:!0,xs:6,children:Object(c.jsx)(f.a,{variant:"outlined",margin:"normal",fullWidth:!0,value:b,onChange:function(e){return h(e.target.value)}})}),Object(c.jsx)(g.a,{item:!0,xs:1,children:Object(c.jsx)(x.a,{})})]}),Object(c.jsx)(g.a,{container:!0,xs:12,justify:"center",children:Object(c.jsx)(g.a,{item:!0,xs:3,className:t.content,children:Object(c.jsx)(p.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:m,children:"Save"})})})]})}var wn=Object(l.i)((function(e){var t=e.history,n=e.maxYear,r=(Object(a.useContext)(I).currentUser,Object(a.useState)(!1)),o=Object(C.a)(r,2),i=o[0],s=(o[1],Object(a.useState)("welcome")),l=Object(C.a)(s,2);l[0],l[1];return Object(c.jsxs)(x.a,{p:2,children:[Object(c.jsx)("img",{src:"xsmap.jpg",alt:"Map",style:{height:"auto",width:"100%",borderRadius:"50%"}}),Object(c.jsx)(x.a,{p:2,children:!0===i?Object(c.jsx)(E.a,{}):Object(c.jsx)(c.Fragment,{children:Object(c.jsx)(x.a,{p:1,display:"flex",justifyContent:"center",children:Object(c.jsx)(p.a,{variant:"contained",style:{background:On.a[600],color:"white"},onClick:function(){0===n?t.push({pathname:"/help"}):(console.log("maxYear: ",n),t.push({pathname:"/vision",state:{maxYear:n}}))},children:0===n?"Start New Vision":"Open Existing Vision"})})})})]})})),kn=n(423),Cn=n(1093);var Sn=Object(l.i)((function(e){var t=e.history,n=Object(a.useState)(!1),r=Object(C.a)(n,2),o=r[0],i=r[1],s=Object(a.useState)("5"),l=Object(C.a)(s,2),u=l[0],b=l[1],h=Object(a.useContext)(I).currentUser,f=S.a.firestore().collection("Users").doc(h.uid),O=Object(a.useState)([]),g=Object(C.a)(O,2),x=g[0],m=g[1];Object(a.useEffect)((function(){return v(),function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}}),[]);var v=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("fetch topics started"),t=S.a.firestore().collection("Topics"),e.next=5,t.get();case 5:n=e.sent,c=[],n.docs.forEach((function(e){c.push(Object(le.a)({id:e.id},e.data()))})),m(c),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(0),console.log(e.t0);case 14:case"end":return e.stop()}}),e,null,[[0,11]])})));return function(){return e.apply(this,arguments)}}(),w=function(){var e=Object(j.a)(d.a.mark((function e(t){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{for(n={},c=0;c<x.length;c++)n[x[c].id]="I would like to...",n[x[c].id+"-url"]=x[c].placeholder,console.log("this topic added ",x[c]);n.maxYear=t,console.log("adding vision started",n),f.set(n,{merge:!0}).then((function(){return console.log("vision successfully stored"),!0}))}catch(a){console.log(a)}return e.abrupt("return",!1);case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)(y.a,{children:o}),!1===o?Object(c.jsxs)(R,{message:"Introduction",children:[Object(c.jsx)(Xt,{embedId:"TUHmyEp4-7A"}),Object(c.jsx)(p.a,{variant:"contained",fullWidth:!0,color:"primary",onClick:i(!0),children:"Save"})]}):Object(c.jsx)(R,{message:"Choose your desired period",children:Object(c.jsxs)(De.a,{component:"fieldset",children:[Object(c.jsxs)(kn.a,{"aria-label":"period",name:"period1",value:u,onChange:function(e,t){console.log(t),b(t)},children:[Object(c.jsx)(rt.a,{value:"1",control:Object(c.jsx)(Cn.a,{}),label:"One Year Vision"}),Object(c.jsx)(rt.a,{value:"5",control:Object(c.jsx)(Cn.a,{}),label:"Five Year Vision"}),Object(c.jsx)(rt.a,{value:"10",control:Object(c.jsx)(Cn.a,{}),label:"10 Year Vision"})]}),Object(c.jsx)(p.a,{variant:"contained",onClick:function(){var e=(new Date).getFullYear()+Number.parseInt(u);console.log("max",e),w(e)?t.push({pathname:"/vision",state:{maxYear:e}}):console.log("vision is not created")},children:"Go!"})]})})]})})),Nn=Object(l.i)((function(e){var t=e.history;return Object(a.useEffect)((function(){return function(){"POP"===t.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",t.location.pathname),window.location.replace("/"))}})),Object(c.jsxs)(R,{message:"Introduction",children:[Object(c.jsx)(Xt,{embedId:"yNOpBc72DKM"}),Object(c.jsx)(p.a,{variant:"contained",color:"primary",onClick:function(){t.push("/initialize")},children:"Next"})]})})),En=function(e){var t=e.component,n=Object(_e.a)(e,["component"]),r=Object(a.useContext)(I).currentUser;return console.log("PrivateRoute component "),console.log("currentuser is:"+r),r?Object(c.jsx)(l.b,Object(le.a)(Object(le.a)({},n),{},{render:function(e){return r?Object(c.jsx)(t,Object(le.a)({},e)):Object(c.jsx)(l.a,{to:"/signin"})}})):(console.log("no user therefor redirect to signin"),Object(c.jsx)(l.a,{to:"/signin"}))};function In(){var e=Object(a.useState)(!1),t=Object(C.a)(e,2),n=t[0],r=t[1],o=Object(a.useState)([]),i=Object(C.a)(o,2),s=i[0],u=i[1],b=S.a.firestore().collection("Content"),h=Object(l.g)();Object(a.useEffect)((function(){return f(),function(){"POP"===h.action&&(console.log("------ profile ------- after -----"),console.log("------ location -----",h.location.pathname),window.location.replace("/"))}}),[]);var f=function(){var e=Object(j.a)(d.a.mark((function e(){var t,n;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r(!0),e.prev=1,console.log("fetch content started"),e.next=5,b.get();case 5:t=e.sent,n=[],t.docs.forEach((function(e){n.push(Object(le.a)({id:e.id},e.data()))})),u(n),r(!1),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(1),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[1,12]])})));return function(){return e.apply(this,arguments)}}();return console.log("content"),Object(c.jsx)("div",{children:n?Object(c.jsx)("h2",{children:"Loading..."}):s.map((function(e,t){return Object(c.jsx)("div",{children:Object(c.jsxs)(R,{message:e.Title,children:[Object(c.jsx)(Xt,{embedId:e.YoutubeID}),Object(c.jsx)(p.a,{color:"primary",children:"More"})]})})}))})}var Bn=Object(l.i)((function(e){var t=Object(a.useContext)(I).currentUser,n=Object(a.useState)(!1),r=Object(C.a)(n,2),o=(r[0],r[1]),i=Object(a.useState)(""),u=Object(C.a)(i,2),b=(u[0],u[1]),p=Object(a.useState)("user"),h=Object(C.a)(p,2),f=h[0],O=h[1],g=Object(a.useState)(0),x=Object(C.a)(g,2),m=x[0],v=x[1];Object(a.useEffect)((function(){y()}),[]);var y=function(){var e=Object(j.a)(d.a.mark((function e(){var n,c;return d.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,o(!0),n=S.a.firestore().collection("Users").doc(t.uid),e.next=5,n.get();case 5:if(c=e.sent,console.log(c),c){e.next=15;break}console.log("new user"),b("Anonym"),O("user"),v(0),o(!1),e.next=35;break;case 15:return console.log(c),e.t0=b,e.next=19,c.data().name;case 19:return e.t1=e.sent,(0,e.t0)(e.t1),e.t2=O,e.next=24,c.data().role;case 24:return e.t3=e.sent,(0,e.t2)(e.t3),e.t4=v,e.next=29,c.data().maxYear;case 29:e.t5=e.sent,(0,e.t4)(e.t5),console.log("user name ",c.data().name),console.log("user role",c.data().role),console.log("year",c.data().maxYear),o(!1);case 35:e.next=41;break;case 37:e.prev=37,e.t6=e.catch(0),console.log(e.t6),o(!1);case 41:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(){return e.apply(this,arguments)}}();return Object(c.jsxs)(k.a,{component:"main",maxWidth:"xs",children:["loading ? ",Object(c.jsx)(E.a,{}),":",Object(c.jsx)("div",{children:Object(c.jsxs)(s.a,{children:[Object(c.jsx)(Gt,{role:f,user:t,year:m}),Object(c.jsxs)(l.d,{children:[Object(c.jsx)(En,{exact:!0,path:"/profile",children:Object(c.jsx)(vt,{})}),Object(c.jsx)(En,{exact:!0,path:"/content",children:Object(c.jsx)(In,{})}),Object(c.jsx)(En,{exact:!0,path:"/vision",children:Object(c.jsx)(fn,{})}),Object(c.jsx)(En,{exact:!0,path:"/export",children:Object(c.jsx)(un,{})}),Object(c.jsx)(En,{exact:!0,path:"/",children:Object(c.jsx)(wn,{maxYear:m})}),Object(c.jsx)(En,{exact:!0,path:"/initialize",children:Object(c.jsx)(Sn,{})}),Object(c.jsx)(En,{exact:!0,path:"/help",children:Object(c.jsx)(Nn,{})})]})]})})]})}));function Dn(){return document.title="Personal Map of Life",console.log("App component started..."),Object(c.jsx)(k.a,{component:"main",style:{padding:0},children:Object(c.jsx)("div",{children:Object(c.jsx)(B,{children:Object(c.jsx)(s.a,{children:Object(c.jsxs)(l.d,{children:[Object(c.jsx)(En,{exact:!0,path:"/",children:Object(c.jsx)(Bn,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/signin",children:Object(c.jsx)(_,{})}),Object(c.jsx)(l.b,{exact:!0,path:"/signup",children:Object(c.jsx)(K,{})})]})})})})})}n(1010);var Ln=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,1098)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,r=t.getLCP,o=t.getTTFB;n(e),c(e),a(e),r(e),o(e)}))};i.a.render(Object(c.jsx)(r.a.StrictMode,{children:Object(c.jsx)(Dn,{})}),document.getElementById("root")),Ln()},616:function(e,t,n){},619:function(e,t){},621:function(e,t){},650:function(e,t){},651:function(e,t){},766:function(e,t){},768:function(e,t){},796:function(e,t){},798:function(e,t){},799:function(e,t){},804:function(e,t){},806:function(e,t){},825:function(e,t){},837:function(e,t){},840:function(e,t){}},[[1011,1,2]]]);
//# sourceMappingURL=main.12ac0257.chunk.js.map